(this.webpackJsonp=this.webpackJsonp||[]).push([[1],{147:function(e,t,n){"use strict";var i=n(783),a=n(787).init,r=n(789).AnimationManager,o=null;e.exports={runWarmupAnimations:function(e,t,n,s,c){var l,u=e["santa-animations"],f=e.gsap3,d=e.ScrollToPlugin3;return l=function(){var e=i.create(f.gsap,[d.ScrollToPlugin]),l=new r({santaAnimations:u,tweenEngineAndFactory:e},t),p=window.warmupData&&!n&&window.warmupData.animationData||{},m=window.rootNavigationInfo?window.rootNavigationInfo.pageId:"",v=!!Object.keys(p).length;o=a({manager:l,model:p,pageId:m}),v&&(o.start(),c(!0)),s(l)},void("loading"===document.readyState?window.document.addEventListener("DOMContentLoaded",l):Promise.resolve().then(l))},stopWarmupAnimations:function(){return o&&o.stop()}}},783:function(e,t,n){"use strict";var i=n(784),a=n(785);e.exports={create:function(e,t){var n=a.create(e,t);return{factory:i.create(),engine:n}}}},784:function(e,t,n){"use strict";var i={error:function(){var e;return(e=console).error.apply(e,arguments)}};e.exports={create:function(){var e={animations:{},transitions:{},properties:{}};function t(t){this.timeline=e.animations.BaseSequence(t?Object.assign({},t):{})}return t.prototype.add=function(e,t,n){return t=void 0===t?"+=0":t,n=n||"normal",this.timeline.add(e,t,n),this},t.prototype.get=function(){return this.timeline},t.prototype.event=function(e,t){for(var n,i=arguments.length,a=new Array(i>2?i-2:0),r=2;r<i;r++)a[r-2]=arguments[r];return(n=this.timeline).eventCallback.apply(n,[e,t].concat(a)),this},t.prototype.play=function(){return this.timeline.play(),this},t.prototype.reverse=function(){return this.timeline.reverse(),this},t.prototype.pause=function(){return this.timeline.pause(),this},t.prototype.seek=function(e){return this.timeline.totalProgress(e),this},t.prototype.clear=function(){return this.timeline.clear(),this},{animate:function(t,n,a,r,o){var s=e.animations[t];return s?s(n,a,r,o?Object.assign({},o):{}):(i.error("Warning:",t,"is not a registered animation. skipping."),null)},transition:function(t,n,a,r,o,s){var c=e.transitions[t];return c?c(n,a,r,o,s?Object.assign({},s):{}):(i.error("Warning:",t,"is not a registered transition. skipping."),null)},sequence:function(e){return new t(e)},registerAnimation:function(t,n,a){e.transitions[t]&&i.error("Warning: there is already a transition with the name",t),e.animations[t]=n,e.properties[t]=a||{}},registerTransition:function(t,n,a){e.animations[t]&&i.error("Warning: there is already an animation with the name",t),e.transitions[t]=n,e.properties[t]=a},getProperties:function(t){return e.properties[t]||{}},getAllProperties:function(){return e.properties},getAnimationsDefs:function(){return e.animations},getTransitionsDefs:function(){return e.transitions},resetRegistrations:function(){e.animations={},e.transitions={},e.properties={}}}}}},785:function(e,t,n){"use strict";var i=n(786);e.exports={create:function(e,t){void 0===t&&(t=[]),e.registerPlugin.apply(e,t);var n=["ease","duration","delay","to","from","repeat","yoyo","repeatDelay","easeParams","stagger","transformOrigin","clearProps","paused","overwrite","autoClear","parseTransform","fireUpdateCommand","data","elementClearParams","perspective","transformPerspective","immediateRender","callbacks","force3D","transformStyle"],a=["delay","repeat","yoyo","repeatDelay","stagger","paused","align","tweens","autoClear","data","elementClearParams","callbacks"],r=[{ease:function(e){var t=e.ease,n=e.easeParams;if(t.includes("ease")){var i=t.split("."),a=i[0],r=i[1];a=a.charAt(0).toLowerCase()+a.slice(1),r=(r=r.replace("ease","")).charAt(0).toLowerCase()+r.slice(1);var o=Array.isArray(n)?"("+n.join(",")+")":"";e.ease=(a+"."+r+o).replace("linear.",""),delete e.easeParams}}}],o=function(e,t){return Array.from(new Set([].concat(e,t)))};function s(e,t,i){(void 0===t&&(t={}),Array.isArray(e))||(e=e instanceof window.NodeList?Array.from(e):[e]);return d(t=y(t,o(i,n))),(t.from&&t.to?f:t.from?l:u)(e,t)}function c(t,n){return d(t=y(t,o(n,a))),e.timeline(t)}function l(t,n){var i,a;void 0===n&&(n={});var r=Object.assign({},n.from,n);if(r.data=r.data||{},delete r.from,void 0!==r.stagger){var o=n.data,s=n.delay;r.data={},delete r.delay,i=e.from(t,r),a=c({data:o,delay:s}).add(i)}else i=e.from(t,r);return a||i}function u(t,n){var i,a;void 0===n&&(n={});var r=Object.assign({},n.to,n);if(r.data=r.data||{},delete r.to,void 0!==r.stagger){var o=n.data,s=n.delay;r.data={},delete r.delay,i=e.to(t,r),a=c({data:o,delay:s}).add(i)}else i=e.to(t,r);return a||i}function f(t,n){var i=n.from,a=n.to;return a.data=a.data||{},delete n.to,delete n.from,Object.assign(a,n),e.fromTo(t,i,a)}function d(e){return e.data=e.data||{},e.callbacks&&(e.data.callbacks={},e.callbacks.onComplete&&(e.data.callbacks.onComplete=e.callbacks.onComplete,e.onComplete=p),e.callbacks.onReverseComplete&&(e.data.callbacks.onReverseComplete=e.callbacks.onReverseComplete,e.onReverseComplete=m),e.callbacks.onStart&&(e.data.callbacks.onStart=e.callbacks.onStart,e.onStart=v),e.callbacks.onUpdate&&(e.data.callbacks.onUpdate=e.callbacks.onUpdate,e.onUpdate=g),e.callbacks.onInterrupt&&(e.data.callbacks.onInterrupt=e.callbacks.onInterrupt)),delete e.callbacks,e}function p(){h(this,"onComplete")}function m(){h(this,"onReverseComplete")}function v(){h(this,"onStart")}function g(){h(this,"onUpdate")}function h(e,t){void 0===e&&(e={});var n=e.data;"function"==typeof(n&&n.callbacks&&n.callbacks[t])&&e.data.callbacks[t](e)}function y(e,t){return void 0===e&&(e={}),Object.keys(e).forEach(function(n){if("to"===n||"from"===n)y(e[n],t);else if(t.includes(n)){var i=r.find(function(e){return e[n]});i&&i[n](e)}else delete e[n]}),e}return{timeline:c,tween:s,set:function(e,t){return void 0===t&&(t={}),t.duration=0,t.delay=0,t.to=t.to||{},s(e,t,Object.keys(t))},kill:function(e,t){e.paused()||(e.pause(),function(){h(this,"onInterrupt")}()),!isNaN(parseFloat(t))&&isFinite(t)&&e.progress(t,!0),e.kill(),e.clear&&e.clear()},addTickerEvent:function(t){e.ticker.add(t)},removeTickerEvent:function(t){e.ticker.remove(t)},isTweening:function(t){return e.isTweening(t)},getTweensOf:function(t,n){return e.getTweensOf(t,n)},getElementRect:i.getElementRect,getContentRect:i.getContentRect,getBoundingRect:i.getBoundingRect,getBoundingContentRect:i.getBoundingContentRect,delayedCall:function(t,n,i,a){return e.delayedCall(t,n,i,a)},animateTimeScale:function(t,n,i,a,r,o){var s={timeScale:i},c={duration:n,timeScale:a,easing:r||"Linear.easeNone"};return o&&Object.assign(c,o),0===i&&t.paused()&&t.play(),e.fromTo(t,s,c)},adjustLagSmoothing:function(t,n){"function"==typeof e.lagSmoothing&&e.lagSmoothing(t,n)},useRAF:function(t){e.ticker&&"function"==typeof e.ticker.useRAF&&e.ticker.useRAF(t)}}}}},786:function(e,t,n){"use strict";function i(e){var t=window.getComputedStyle(e);return{top:parseFloat(t.getPropertyValue("border-top-width")),left:parseFloat(t.getPropertyValue("border-left-width"))}}var a=function(e){return"visible"===window.getComputedStyle(e).getPropertyValue("overflow")},r=function(e,t){return Array.from(e.children).filter(function(e){return e.tagName.toLowerCase()===t})};function o(e,t){for(var n=e.offsetTop,a=e.offsetLeft,r=e.offsetWidth,o=e.offsetHeight;e.offsetParent;){var s=i(e=e.offsetParent);if(n+=s.top,a+=s.left,t&&e===t)break;n+=e.offsetTop,a+=e.offsetLeft}return{top:n,left:a,width:r,height:o,bottom:n+o,right:a+r}}function s(e,t,n,i){return i=i||o(e,t),(n=n||r(e,"div")).forEach(function(e){var n=o(e,t);n.width>0&&n.height>0&&(n.left<i.left&&(i.left=n.left),n.right>i.right&&(i.right=n.right),n.top<i.top&&(i.top=n.top),n.bottom>i.bottom&&(i.bottom=n.bottom));var c=r(e,"div");c.length&&a(e)&&s(e,t,c,i)}),i.width=i.right-i.left,i.height=i.bottom-i.top,i}e.exports={getElementRect:o,getBoundingRect:function(e,t,n){n=n||"undefined"!=typeof window&&window;var i=o(e,t);if(n){var a=n.scrollY||n.scrollTop||0,r=n.scrollX||n.scrollLeft||0;i.top-=a,i.bottom-=a,i.left-=r,i.right-=r}return i},getContentRect:s,getBoundingContentRect:function(e,t,n){n=n||"undefined"!=typeof window&&window;var i=s(e,t);if(n){var a=n.pageYOffset||n.scrollTop||0,r=n.pageXOffset||n.scrollLeft||0;i.top-=a,i.bottom-=a,i.left-=r,i.right-=r}return i}}},787:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e){var t=e.model,n=e.manager,i=e.pageId;return n.setDefinitions(t),n.initAction("screenIn",i),(0,a.default)({model:t,manager:n})};var i,a=(i=n(788))&&i.__esModule?i:{default:i}},788:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.model,n=e.manager,i="screenIn",a=.01,r={};function o(e){var t=e.filter(function(e){return e.visible}).map(function(e){return{compId:e.id,action:i}});n.trigger(t)}function s(e,t){var n=r[t]||function(e,t){var n={root:null,rootMargin:"0px",threshold:[t]};return new window.IntersectionObserver(function(t,n){var i=t.map(function(e){return{visible:e.isIntersecting,ratio:e.intersectionRatio,rect:e.intersectionRect,id:e.target.id}});t.forEach(function(e){return e.isIntersecting&&n.unobserve(e.target)}),e(i)},n)}(o,t);n.observe(e),r[t]||(r[t]=n)}return{start:function(){var e=window.innerHeight;Object.keys(t).filter(function(e){return Object.keys(t[e]).indexOf(i)>-1}).forEach(function(r){var o=document.getElementById(r);o&&s(o,o.offsetHeight>e?a:function(e,t,n){var a=t[n][i][0].name;return e.animationProperties[a].viewportThreshold}(n,t,r))})},stop:function(){Object.keys(r).forEach(function(e){return r[e].disconnect()}),r={}}}}},789:function(e,t,n){"use strict";function i(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationManager=void 0;var o=function(e,t){return"".concat(e,"-").concat(t)};var s=function(){function e(t,n){var i=t.santaAnimations,a=t.tweenEngineAndFactory;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.animator=i.create(a,void 0,n),this.animationProperties=i.animationProperties,this.definitions={},this.sessionState={played:new Map,running:new Map},this.localState={screenIn:{played:new Map}}}var t,n,s;return t=e,(n=[{key:"_shouldSkipPlayedAnimation",value:function(e){var t=this.localState.screenIn.played.has(e),n=this.sessionState.played.has(e),i=this.sessionState.played.get(e)||{},a=i.playOnce,r=i.persistOnNav;return t||n&&(a||r)}},{key:"_shouldHideComponent",value:function(e,t){var n=this.definitions[e];if(n){var i=n[t];if(i){var a=this.animationProperties;return i.some(function(e){var t=e.name;return a[t]&&a[t].hideOnStart})}}return!1}},{key:"_hideComponent",value:function(e,t){var n=document.getElementById(e);n&&(n.style.opacity=0,this._setAnimatingFlag(n,t))}},{key:"_unhideComponent",value:function(e,t){var n=document.getElementById(e);n&&(n.style.opacity="",this._removeAnimatingFlag(n,t))}},{key:"getAnimatorInstance",value:function(){return this.animator}},{key:"_setAnimatingFlag",value:function(e,t){e.classList.add("animating-".concat(t))}},{key:"_removeAnimatingFlag",value:function(e,t){e.classList.remove("animating-".concat(t))}},{key:"setDefinitions",value:function(e){this.definitions=e}},{key:"_hideCompBeforeAnimation",value:function(e,t){var n=o(e,t);this._shouldSkipPlayedAnimation(n)||this._hideComponent(e,t)}},{key:"hideBeforeAnimation",value:function(e){var t=this;(function(e,t,n){return Object.entries(e).reduce(function(e,i){var a=r(i,2),o=a[0],s=a[1];return(n?[n]:Object.keys(s)).forEach(function(n){(s[n]||[]).some(function(e){var n=e.name;return t[n]&&t[n].hideOnStart})&&e.push([o,n])}),e},[])})(this.definitions,this.animationProperties,e).forEach(function(e){var n=r(e,2),i=n[0],a=n[1];t._hideCompBeforeAnimation(i,a)})}},{key:"resetLocalAndSessionStates",value:function(){[this.localState.screenIn.played,this.sessionState.played,this.sessionState.running].forEach(function(e){return e.clear()})}},{key:"trigger",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=t.reduce(function(t,n){var i=n.compId,a=n.action,r=(e.definitions[i]||{})[a]||[];return t.concat(r)},[]);n.forEach(function(t){var n=t.action,a=i(t,["action"]);return e.executeAnimation(n,a)})}},{key:"initAction",value:function(e,t){switch(e){case"screenIn":this.stopAnimations([e],{idToKeep:t}),this.clearLocalStore(e,t),this.hideBeforeAnimation(e)}}},{key:"initComponentAction",value:function(e,t,n){var i=n.clearStore;(void 0===i||i)&&this.clearCompLocalStore(e,t),this._shouldHideComponent(e,t)&&this._hideCompBeforeAnimation(e,t)}},{key:"executeAnimation",value:function(e,t){var n=this,i=t.name,a=t.targetId,r=t.pageId,s=t.duration,c=void 0===s?0:s,l=t.delay,u=void 0===l?0:l,f=t.playOnce,d=void 0!==f&&f,p=t.persistOnNav,m=void 0!==p&&p,v=t.params,g=void 0===v?{}:v,h=o(a,e);switch(e){case"screenIn":if(this._shouldSkipPlayedAnimation(h))break;var y={props:"clip,clipPath,webkitClipPath,willChange,opacity,transform,transform-origin",immediateRender:!1},b=document.querySelector("#".concat(a)),k=function(t){n.sessionState.running.delete(t),n._removeAnimatingFlag(b,e)},w=k;this.animator.sequence({callbacks:{onStart:function(t){n.sessionState.running.set(t,{targetId:a,action:e,id:r})},onComplete:k,onInterrupt:w}}).add(this.animator.animate(i,b,c,u,g),0).add(this.animator.animate("BaseClear",b,0,0,y)),this.localState.screenIn.played.set(h,{targetId:a,id:r}),this.sessionState.played.set(h,{playOnce:d,persistOnNav:m})}}},{key:"preventPendingScreenInAnimation",value:function(e){var t=o(e,"screenIn");this.localState.screenIn.played.set(t,{targetId:e}),this._unhideComponent(e,"screenIn")}},{key:"stopAnimations",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.skipPersistent,a=void 0===i||i,r=n.idToKeep;this.sessionState.running.forEach(function(n,i){var s=n.targetId,c=n.action,l=n.id,u=o(s,c),f=!t.length||t.includes(c),d=a&&e.sessionState.played.get(u).persistOnNav;f&&!d&&r!==l&&e.animator.kill(i,1)})}},{key:"clearLocalStore",value:function(e,t){var n=this,i=t.idToKeep,a=this.localState[e];a&&a.played.forEach(function(e,t){var r=e.targetId,o=e.id;n.definitions[r]&&i===o||a.played.delete(t)})}},{key:"clearCompLocalStore",value:function(e,t){var n=this.localState[t];if(n){var i=o(e,t);n.played.delete(i)}}}])&&a(t.prototype,n),s&&a(t,s),e}();t.AnimationManager=s}}]);
//# sourceMappingURL=bolt-main-r.animations.js.map