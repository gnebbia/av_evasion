define("tpaComponents",["lodash","coreUtils","santa-components","componentsCore","prop-types","skins","reactDOM","zepto","warmupUtils","experiment","santa-core-utils","create-react-class","react","layout"],(function(e,t,i,n,s,r,o,a,p,c,l,d,u,h){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1209)}({0:function(t,i){t.exports=e},1:function(e,i){e.exports=t},10:function(e,t){e.exports=l},1209:function(e,t,i){var n,s;n=[i(1210),i(1213),i(1215),i(1216),i(1217),i(1218),i(1219),i(53),i(54),i(1220),i(1221),i(1223),i(1224),i(65),i(305),i(306),i(58),i(310),i(313),i(143),i(5),i(312),i(308),i(1225),i(80),i(302),i(303),i(144),i(1226),i(314),i(316),i(315)],void 0===(s=function(e,t,i,n,s,r,o,a,p,c,l,d,u,h,g,m,f,v,y,T,S,w,I,C,D,P,b,A,M,E,R,_){"use strict";return S.skinsMap.addBatch(w),{tpaWidgetNative:t,tpaWidgetNativeDeadComp:i,nativeCompRequireService:I,widget:e,section:n,multiSection:s,worker:r,gluedWidget:o,tpaMixins:{tpaUrlBuilder:a,tpaCompApi:p,tpaCompBase:h},gluedWidgetMeasuringUtils:_,GluedWidgetPatcher:E,tpaSectionPatcher:R,common:{metaData:T,TPAUrlBuilder:g,TPABaseUrlBuilder:m,utils:f,supportedSiteEvents:A},services:{tpaPreviewEditorCommunicationService:v,pageService:C,clientSpecMapService:D},sitePages:y,bi:{errors:P,events:b}}}.apply(t,n))||(e.exports=s)},1210:function(e,t,i){var n,s;n=[i(0),i(3),i(2),i(10),i(65),i(53),i(54),i(307),i(66)],void 0===(s=function(e,t,i,n,s,r,o,a,p){"use strict";var c=t.compRegistrar,l={displayName:"TPAWidget",propTypes:{structure:i.santaTypesDefinitions.Component.structure.isRequired},mixins:[t.mixins.skinBasedComp,n.timersMixins.timeoutsMixin,s,r,o,a,p],mutateIframeUrlQueryParam:function(t){t.width=this.state.initialWidth;var i=this.props.structure.originCompId;return i&&!e.isEmpty(i)&&(t.originCompId=i),t}};return c.register("wysiwyg.viewer.components.tpapps.TPAWidget",l),l}.apply(t,n))||(e.exports=s)},1211:function(e){e.exports=JSON.parse('{"SDK_SET_HEIGHT_ERROR":{"errorCode":190,"desc":"sdk - set height with a big number","severity":"error","params":{"p1":"height"}},"SDK_PUBSUB_PUBLISH_ERROR":{"errorCode":191,"desc":"sdk - pubSub: publish error. App not installed on site - cannot find appDefId","severity":"error"},"SDK_NAVIGATION_TO_SECTION_ERROR":{"errorCode":192,"desc":"sdk - navigate to section failed","severity":"error","params":{"p1":"appDefinitionName","p2":"sectionId"}},"ECOM_MISSING_PAGES":{"errorCode":300,"desc":"missing ecom pages","severity":"error"},"APP_IS_NOT_RESPONSIVE":{"errorCode":302,"desc":"monitoring apps that are down","severity":"error","params":{"p1":"endpoint","p2":"app_id","p3":"pageNo","p4":"totalLoadingTime"}}}')},1212:function(e){e.exports=JSON.parse('{"JS_SDK_FUNCTION_CALL":{"eventId":12,"adapter":"sdk","src":11,"sampleRatio":1000,"params":{"visitor_id":"visitorUuid","ver":"sdkVersion","origin":"origin","function_name":"fnName","namespace":"namespace","app_id":"appId","instance_id":"instanceId","is_published":"isPublished","count":"count","param":"param"}},"GALLERY_FUNCTION_CALL":{"eventId":11,"adapter":"sdk","src":11,"params":{"visitor_id":"visitorUuid","sdk_ver":"sdkVersion","origin":"origin","function_name":"fnName","namespace":"namespace","count":"count"}},"APP_STATE_CHANGED":{"eventId":646,"src":42,"params":{"widget_id":"widgetId","instance_id":"compId","appId":"appDefinitionId","loading_time":"loadingTime","pid":"pageId","pn":"pageNo","tts":"totalLoadingTime","external_app_id":"externalAppDefinitionId","external_widget_id":"externalWidgetId"}},"RELOAD_TPA_CLICK":{"eventId":321,"src":42,"params":{"app_id":"appDefinitionId","appName":"appName"}},"APP_IS_ALIVE_ERROR":{"eventId":405,"src":42,"params":["app_id","errorMessage"]}}')},1213:function(e,t,i){var n,s;n=[i(0),i(4),i(1),i(3),i(2),i(1214),i(13)],void 0===(s=function(e,t,i,n,s,r,o){"use strict";var a="wysiwyg.viewer.skins.TPAWidgetNativeSkin",p=n.compRegistrar,c=s.santaTypesDefinitions,l=s.utils,d=l.createReactElement,u=l.createSantaTypesDefinitions({compProps:t.object,boltComponents:t.object,LazySentry:t.func},"NativeComponentSantaTypes"),h={widgetStyle:c.NativeComponentSantaTypes.widgetStyle},g={ReactComponent:c.NativeComponentSantaTypes.getComponent,styleData:c.NativeComponentSantaTypes.widgetStyle,viewMode:c.NativeComponentSantaTypes.viewMode,getStyleData:c.Component.getStyleData,themeData:c.Theme.THEME_DATA,scriptsLocationMap:c.ServiceTopology.scriptsLocationMap,structure:s.santaTypesDefinitions.Component.structure.isRequired,layout:c.Component.layout,getClientSpecMapEntry:s.santaTypesDefinitions.getClientSpecMapEntry,compData:c.Component.compData},m={ReactComponent:c.NativeComponentSantaTypes.getComponent,widgetStyle:c.NativeComponentSantaTypes.widgetStyle,formFactor:c.NativeComponentSantaTypes.formFactor,viewMode:c.NativeComponentSantaTypes.viewMode,appLoadBI:c.NativeComponentSantaTypes.appLoadBI,id:s.santaTypesDefinitions.Component.id,structure:s.santaTypesDefinitions.Component.structure,style:c.Component.style,styleId:c.Component.styleId,compActions:c.Component.compActions,compData:c.Component.compData,handleAction:c.Behaviors.handleAction,defaultContentArea:c.Container.defaultContentArea,getStyleData:c.Component.getStyleData,getClientSpecMapEntry:s.santaTypesDefinitions.getClientSpecMapEntry,isInSSR:s.santaTypesDefinitions.isInSSR,skin:i.staticValue(t.string,a),windowScrollEvent:s.santaTypesDefinitions.SiteAspects.windowScrollEvent,pageId:c.Component.pageId,registerToSiteReady:c.NativeComponentSantaTypes.registerToSiteReady,handleEvent:c.NativeComponentSantaTypes.handleEvent,languageCode:s.santaTypesDefinitions.RendererModel.languageCode,accessibilityEnabled:c.isVisualFocusEnabled,compProps:u.compProps,isResponsive:s.santaTypesDefinitions.RendererModel.isResponsive,isExperimentOpen:s.santaTypesDefinitions.isExperimentOpen,deadComponentTranslations:c.NativeComponentSantaTypes.deadComponentTranslations,registerReLayoutPending:s.santaTypesDefinitions.Layout.registerReLayoutPending.isRequired,isMeshLayoutMechanism:s.santaTypesDefinitions.Layout.isMeshLayoutMechanism.isRequired,reLayoutIfPending:s.santaTypesDefinitions.Layout.reLayoutIfPending.isRequired,boltComponents:u.boltComponents,LazySentry:u.LazySentry};function f(t,i){var n=i.styleId||i.structure.styleId,r=i.getStyleData,o=i.themeData,p={siteZoomRatio:i.siteZoomRatio,invertedZoomRatio:i.invertedZoomRatio,orientationZoomFix:i.orientationZoomFix,mobileZoom:i.mobileZoom},c={scriptsLocationMap:i.scriptsLocationMap},l=r(n);l.skin=a;var d,u,h,g=s.utils.skinsRenderer.createSkinCss(t(l.skin),e.get(l,"style.properties",{}),o,n,p,c,t);return g&&(h=g,(u=n)in(d={})?Object.defineProperty(d,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[u]=h,d)}function v(t,i,n){return e.reduce(t,(function(t,s,r){var o=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n((function(){return i(s,{payload:JSON.stringify(t)})}))};return function(t){return e.includes(t,".")}(r)?e.set(t,r,o):(t[r]=o,t)}),{})}function y(t){var i=t.widgetStyle;return i&&e(i.styleParams.fonts).pickBy("fontStyleParam").map("family").value()}f.cssTypes=g,y.fontsTypes=h;var T=o({statics:{santaTypeDefinitions:u},mixins:[n.mixins.customSkinBasedComp({customCssFunc:f,customFontsFunc:y}),n.mixins.createChildComponentMixin,n.mixins.blockOuterScrollMixin],propTypes:m,getDefaultProps:function(){return{skin:a}},getInitialState:function(){return{scrollSubscribers:[],didLayoutSubscribers:[],raven:i.integrations.ravenUtils.createNewInstance()}},createEventHandlers:function(t){var i=this;return e.reduce(t,(function(t,n,s){var r=n.callbackId,o=n.contextId;return e.set(t,s,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.props.handleEvent({callbackId:r,contextId:o,eventArgs:t})}))}),{})},getControllerProps:function(){var e=this.props,t=e.compProps,i=e.compData,n=t.wixCodeProps,s=t.events;return n&&s||(n=i.wixCodeProps,s=i.events),{wixCodeProps:n,events:s}},updateLayout:function(){var e=this.props;e.registerReLayoutPending(e.id),e.reLayoutIfPending()},getCompProps:function(){var t=this.getControllerProps(),i=t.wixCodeProps,n=t.events,s=this.props,r=n?this.createEventHandlers(n):v(s.compActions,s.handleAction,s.registerToSiteReady),o={style:s.widgetStyle,id:s.id,viewMode:s.viewMode,formFactor:s.formFactor,dimensions:s.style,appLoadBI:s.appLoadBI,registerToComponentDidLayout:this.registerToComponentDidLayout,registerToScroll:this.registerToScroll,raven:this.state.raven,styleId:s.styleId,pageId:s.pageId,onSiteReady:s.registerToSiteReady,accessibilityEnabled:s.accessibilityEnabled,blockScroll:this.blockScroll,unblockScroll:this.unblockScroll,updateLayout:this.updateLayout,Effect:s.boltComponents&&s.boltComponents.Effect,LazySentry:s.LazySentry,isScrollExperimentOpen:s.isExperimentOpen("bv_restoreScroll")};return s.isExperimentOpen("sv_addPropsToHostInNativeComponent")?e.merge({host:o},i,r):e.merge(o,{host:o},i,r)},blockScroll:function(){var e=this,t=function(){e.refs[""].addEventListener("wheel",e.blockOuterScroll),e.refs[""].addEventListener("touchmove",e.blockOuterScroll)};this.refs[""]?t():this.registerToComponentDidLayout(t)},unblockScroll:function(){var e=this,t=function(){e.refs[""].removeEventListener("wheel",e.blockOuterScroll),e.refs[""].removeEventListener("touchmove",e.blockOuterScroll)};this.refs[""]?t():this.registerToComponentDidLayout(t)},registerToScroll:function(e){this.props.windowScrollEvent.registerToScroll(this),this.state.scrollSubscribers.push(e)},registerToComponentDidLayout:function(e){this.state.didLayoutSubscribers.push(e)},componentDidLayout:function(){this.state.didLayoutSubscribers.forEach((function(e){return e()}))},onScroll:function(e){this.state.scrollSubscribers.forEach((function(t){return t(e)}))},componentWillUnmount:function(){this.props.windowScrollEvent.unregisterToScroll(this)},getDeadCompProperties:function(){if(this.props.isInSSR)return{children:null};var e={height:this.props.structure.layout.height,width:this.props.structure.layout.width,applicationId:this.props.compData.applicationId,deadComponentTranslations:this.props.deadComponentTranslations};return{style:{height:"",backgroundColor:"rgba(255, 255, 255, .9)"},children:this.createChildComponent(e,"wysiwyg.viewer.components.tpapps.TPAWidgetNativeDeadcomp","TPAWidgetNativeDeadcomp")}},getSkinProperties:function(){if(this.props.ReactComponent){var t=!this.props.isExperimentOpen("bv_removeOverflowOoi")&&this.props.isResponsive?{overflow:"hidden"}:{};return{"":{style:e.assign({height:"",overflow:"initial"},t),children:d(this.props.ReactComponent,this.getCompProps())}}}return{"":this.getDeadCompProperties()}}});return p.register("wysiwyg.viewer.components.tpapps.TPAWidgetNative",T),n.dataRequirementsCheckerRegistrar.registerCheckerForCompType("wysiwyg.viewer.components.tpapps.TPAWidgetNative",r.requireAndRegisterComponent),T}.apply(t,n))||(e.exports=s)},1214:function(e,t,i){var n,s;n=[i(0),i(1),i(308),i(80)],void 0===(s=function(e,t,i,n){"use strict";function s(i,n,s,r){var o={tags:{platformViewer:!0,"tpa-native":!0},extra:{applicationId:r,widgetId:s}};i.isInSSR()?e.invoke(i,"ssrContext.Raven.captureException",n,o):t.integrations.ravenUtils.captureError(n,o)}return{requireAndRegisterComponent:function(t,r){var o=t.nativeComponentRegistrar,a=r.data,p=a.widgetId,c=a.applicationId;if(o.isRegistered(p))return[];var l=n.getNativeComponentUrl(t,c,p);if(!l)return s(t,new Error("component url for application ".concat(c," widgetId ").concat(p," is missing")),p,c),[];var d={customDownload:function(){var n=d.done;i.requireComponentFromUrl(l).then((function(i){var r=e.get(i,"default.component",!1);r?o.register({widgetId:p,component:r}):(s(t,new Error("component url for application ".concat(c," widgetId ").concat(p," is invalid")),p,c),o.register({widgetId:p,error:!0})),n()})).catch((function(e){s(t,e,p,c),o.register({widgetId:p,error:!0}),n()}))}};return[d]}}}.apply(t,n))||(e.exports=s)},1215:function(e,t,i){var n,s;n=[i(0),i(13),i(3),i(2)],void 0===(s=function(e,t,i,n){"use strict";function s(t){var i=r.call(this),s=e.template(t),o=" ".concat(s({app_name:i})," ");return n.utils.createReactElement("span",{dangerouslySetInnerHTML:{__html:o}})}function r(){var e=this.props,t=e.getClientSpecMapEntry(e.compData.applicationId);return t&&t.appDefinitionName}var o=i.compRegistrar,a=n.santaTypesDefinitions,p=t({displayName:"TPAWidgetNativeDeadcomp",mixins:[i.mixins.skinBasedComp],propTypes:{compData:a.Component.compData.isRequired,languageCode:a.RendererModel.languageCode.isRequired,getClientSpecMapEntry:a.getClientSpecMapEntry.isRequired,deadComponentTranslations:a.NativeComponentSantaTypes.deadComponentTranslations},getSkinProperties:function(){var e=this.props,t=e.compData,i=t.width,n=t.height,r=i<224?22:206,o=(i-r)/2-17,a=i<224?"none":"inherit",p=e.deadComponentTranslations||{},c=p.title,l=p.text;return{style:{height:n},textTitle:{children:s.call(this,c),style:{display:a}},text:{children:s.call(this,l),style:{display:a}},content:{style:{display:"table-cell",verticalAlign:"middle",paddingLeft:o,height:n,width:r}}}}});return o.register("wysiwyg.viewer.components.tpapps.TPAWidgetNativeDeadcomp",p),p}.apply(t,n))||(e.exports=s)},1216:function(e,t,i){var n,s;n=[i(0),i(3),i(2),i(10),i(65),i(53),i(54),i(309),i(66)],void 0===(s=function(e,t,i,n,s,r,o,a,p){"use strict";var c=t.compRegistrar,l={displayName:"TPASection",propTypes:{compData:i.santaTypesDefinitions.Component.compData.isRequired,isExperimentOpen:i.santaTypesDefinitions.isExperimentOpen},mixins:[t.mixins.skinBasedComp,n.timersMixins.timeoutsMixin,s,r,o,a,p],getBaseUrl:function(){var t=this.getAppData(),i=this.props.compData.widgetId,n=t.sectionUrl,s=t.sectionDefaultPage,r=this.isUnderMobileView()&&this.isMobileReady();if(i){var o=e.find(t.widgets,{widgetId:i});o&&(s=o.appPage.defaultPage,n=r?this.getTPAOverrideUrl("tpaMobileUrlOverride",i)||o.mobileUrl:this.getTPAOverrideUrl("tpaWidgetUrlOverride",i)||o.widgetUrl)}else r&&(n=t.sectionMobileUrl);return s&&!e.isEmpty(s)&&("/"!==n.slice(-1)&&(n+="/"),n+=s),n}};return c.register("wysiwyg.viewer.components.tpapps.TPASection",l),l}.apply(t,n))||(e.exports=s)},1217:function(e,t,i){var n,s;n=[i(0),i(2),i(10),i(65),i(53),i(54),i(309),i(66),i(3)],void 0===(s=function(e,t,i,n,s,r,o,a,p){"use strict";var c=p.compRegistrar,l={displayName:"TPAMultiSection",propTypes:{compData:t.santaTypesDefinitions.Component.compData.isRequired},mixins:[p.mixins.skinBasedComp,i.timersMixins.timeoutsMixin,n,s,r,o,a],getBaseUrl:function(){var t=this.getAppData(),i=t.sectionUrl,n=this.props.compData.widgetId,s=t.widgets[n],r=t.sectionDefaultPage;return s&&(i=this.isUnderMobileView()&&this.isMobileReady()?this.getTPAOverrideUrl("tpaMobileUrlOverride",n)||s.mobileUrl:this.getTPAOverrideUrl("tpaWidgetUrlOverride",n)||s.widgetUrl,r=s.appPage.defaultPage),r&&!e.isEmpty(r)&&("/"!==i.slice(-1)&&(i+="/"),i+=r),i}};return c.register("wysiwyg.viewer.components.tpapps.TPAMultiSection",l),l}.apply(t,n))||(e.exports=s)},1218:function(e,t,i){var n,s;n=[i(65),i(53),i(54),i(3)],void 0===(s=function(e,t,i,n){"use strict";var s=n.compRegistrar,r={displayName:"TPAWorker",mixins:[n.mixins.skinBasedComp,e,t,i],getBaseUrl:function(){return this.getAppData().appWorkerUrl},mutateIframeUrlQueryParam:function(e){return e.endpointType="worker",e},mutateSkinProperties:function(e){return e.iframe&&e.iframe.style&&(e.iframe.style.display="none"),e},isTPAWorker:function(){return!0}};s.register("tpa.viewer.classes.TPAWorker",r)}.apply(t,n))||(e.exports=s)},1219:function(e,t,i){var n,s;n=[i(0),i(10),i(3),i(65),i(53),i(54),i(307),i(66)],void 0===(s=function(e,t,i,n,s,r,o,a){"use strict";var p=i.compRegistrar,c={displayName:"TPAGluedWidget",statics:{behaviors:{notifyWidget:{methodName:"notifyWidgetInternal",params:["action"]}}},mixins:[i.mixins.skinBasedComp,t.timersMixins.timeoutsMixin,n,s,r,o,a],isZeroHeightAllowed:function(){return!0},mutateIframeUrlQueryParam:function(e){return e.width=this.state.initialWidth,e},mutateSkinProperties:function(t){return e.merge(t,{"":{"data-has-ads":this.props.shouldShowWixAds,"data-horizontal-margin":this.props.compProp.horizontalMargin,"data-vertical-margin":this.props.compProp.verticalMargin,"data-placement":this.props.compProp.placement}})},notifyWidgetInternal:function(e){this.sendPostMessage({intent:"addEventListener",eventType:"QUICK_ACTION_TRIGGERED",params:{quickAction:e}})}};return p.register("wysiwyg.viewer.components.tpapps.TPAGluedWidget",c),c}.apply(t,n))||(e.exports=s)},1220:function(e,t,i){var n,s;n=[i(3)],void 0===(s=function(e){"use strict";var t=e.compRegistrar,i={mixins:[e.mixins.skinBasedComp],getSkinProperties:function(){return{preloader:{className:"circle-preloader"}}}};t.register("wysiwyg.viewer.components.tpapps.TPAPreloaderOverlay",i)}.apply(t,n))||(e.exports=s)},1221:function(e,t,i){var n,s;n=[i(2),i(14),i(1222),i(3)],void 0===(s=function(e,t,i,n){"use strict";n.compRegistrar.register("wysiwyg.viewer.components.tpapps.TPAUnavailableMessageOverlay",{displayName:"TPAUnavailableMessageOverlay",mixins:[n.mixins.skinBasedComp,i],propTypes:{compData:e.santaTypesDefinitions.Component.compData.isRequired},getInitialState:function(){return{showOverlay:!0}},getSkinProperties:function(){return{text:{children:[this.props.compData.text]},dismissButton:{onClick:this.props.compData.hideOverlayFunc},reloadButton:{children:[this.props.compData.reload],onClick:this.props.compData.reloadFunc},openHelp:this.openHelp}}})}.apply(t,n))||(e.exports=s)},1222:function(e,t,i){var n,s;n=[i(310)],void 0===(s=function(e){"use strict";return{openHelp:function(t){e.doPostMessage("openHelp",t)}}}.apply(t,n))||(e.exports=s)},1223:function(e,t,i){var n,s;n=[i(2),i(0),i(7),i(4),i(6),i(53),i(54),i(311),i(66),i(58),i(5),i(312),i(3)],void 0===(s=function(e,t,i,n,s,r,o,a,p,c,l,d,u){"use strict";var h=u.compRegistrar,g={displayName:"TPAModal",propTypes:{compData:e.santaTypesDefinitions.Component.compData.isRequired,dynamicClientSpecMapAspect:e.santaTypesDefinitions.SiteAspects.dynamicClientSpecMapAspect.isRequired,clientSpecMap:e.santaTypesDefinitions.RendererModel.clientSpecMap.isRequired,windowResizeEvent:e.santaTypesDefinitions.SiteAspects.windowResizeEvent.isRequired,siteScrollingBlocker:e.santaTypesDefinitions.SiteAspects.siteScrollingBlocker.isRequired,id:e.santaTypesDefinitions.Component.id.isRequired,isMobileView:e.santaTypesDefinitions.isMobileView.isRequired,removeModal:e.santaTypesDefinitions.TPA.removeModal.isRequired,exitFullScreenMode:e.santaTypesDefinitions.exitFullScreenMode.isRequired,onCloseCallback:n.func,windowKeyboardEvent:e.santaTypesDefinitions.SiteAspects.windowKeyboardEvent.isRequired,isViewerMode:e.santaTypesDefinitions.isViewerMode.isRequired,ios:e.santaTypesDefinitions.BrowserFlags.ios.isRequired},mixins:[u.mixins.skinBasedComp,r,o,a,p,u.mixins.cyclicTabbingMixin],getInitialState:function(){return this.props.windowResizeEvent.registerToResize(this),{showComponent:!0,registeredEvents:[],initialInstance:this.props.dynamicClientSpecMapAspect.getAppInstance(this.props.compData.applicationId)||this.getAppData(this).instance,$displayDevice:this.getDeviceType(),windowSize:this.props.compData.windowSize}},componentWillMount:function(){this.props.windowKeyboardEvent&&this.props.windowKeyboardEvent.registerToEscapeKey(this),this.props.isViewerMode&&this.registerOnAnimationEnd((function(){var e=this.refs.dialog;e&&s.findDOMNode(e).focus(),this.unregisterOnAnimationEnd()}))},componentDidMount:function(){if(this.props.isViewerMode){var e=s.findDOMNode(this.refs.dialog);e.contains(window.document.activeElement)||e.focus()}"mobile"===this.getDeviceType()&&this.props.siteScrollingBlocker.setSiteScrollingBlockedForModal(this,!0,this.props.ios())},componentWillUnmount:function(){this.props.windowKeyboardEvent&&this.props.windowKeyboardEvent.unRegisterKeys(this),"mobile"===this.getDeviceType()&&this.props.siteScrollingBlocker.setSiteScrollingBlockedForModal(this,!1,this.props.ios())},componentDidUpdate:function(e,t){"mobile"===this.getDeviceType()&&this.state.height>0&&t.height!==this.state.height&&this.props.siteScrollingBlocker.onHeightChanged(this.props.ios(),this.state.height)},componentWillReceiveProps:function(e){var i=t.get(this.props.clientSpecMap,[this.props.compData.applicationId,"instance"]),n=t.get(e.clientSpecMap,[this.props.compData.applicationId,"instance"]);i!==n&&this.setState({initialInstance:n})},getDefaultProperties:function(){var e=this.buildUrl(this.props.compData.url);return{"":{style:{position:"fixed",display:"block"},onKeyDown:this.preventTabbingOut,"data-src":e,tagName:"wix-iframe"},blockingLayer:{onClick:this.hide},frameWrap:{style:this.getIframeWrapperStyle()},dialog:{style:this.getDialogStyle(),"aria-label":this.props.compData.title||"Modal Dialog"},xButton:{children:"×",onClick:this.hide,style:{display:"block"}},iframe:{"data-src":e,frameBorder:"0",allow:c.getIFramePermissions(),allowtransparency:"true",allowFullScreen:!0,name:this.props.id}}},getHiddenProperties:function(){return{"":{style:{display:"none"}}}},getBareProperties:function(){return t.merge(this.getDefaultProperties(),{frameWrap:{style:{background:"transparent",border:"none"}},xButton:{style:{display:"none"}}},this.props.siteScrollingBlocker.getDeviceSpecificProperties("mobile"===this.getDeviceType(),this.props.ios(),this.state.height))},getSkinProperties:function(){if(this.state.showComponent)switch(this.props.compData.theme){case"BARE":case"LIGHT_BOX":return this.getBareProperties();default:return this.getDefaultProperties()}return this.getHiddenProperties()},getIframeWrapperStyle:function(){var e={};return this.props.isMobileView&&(e={WebkitOverflowScrolling:"touch",overflowY:"scroll"}),e},getDialogStyle:function(){if("mobile"===this.getDeviceType())return{pointerEvents:"auto"};var e=this.state.windowSize,i=t.isNumber(this.state.width)?this.state.width:this.props.compData.width,n=t.isNumber(this.state.height)?this.state.height:this.props.compData.height;if(i=Math.min(i,e.width),n=Math.min(n,e.height),!this.getAppData().isWixTPA){var s=e.width-50,r=e.height-50;i>=s&&n>=r&&(i=s,n=r)}return{width:i,height:n,marginTop:-n/2,marginLeft:-i/2}},mutateIframeUrlQueryParam:function(e){return e.origCompId=this.props.compData.origCompId,e.isInModal=!0,e},hide:function(e,i){var n=this;this.setState({showComponent:!1},(function(){var s=e&&e.message?e:void 0;n.props.onCloseCallback&&n.props.onCloseCallback(s),"mobile"===n.state.$displayDevice&&n.props.exitFullScreenMode(),n.props.windowResizeEvent.unregisterToResize(n),n.props.removeModal(n),t.isFunction(i)&&i()}))},isBareTheme:function(){return"BARE"===this.props.compData.theme},onResize:function(){var e=i(window);this.setState({windowSize:{width:e.width(),height:e.height()}})},onEscapeKey:function(){this.hide()}};return h.register("wysiwyg.viewer.components.tpapps.TPAModal",g),l.skinsMap.addBatch(d),g}.apply(t,n))||(e.exports=s)},1224:function(e,t,i){var n,s;n=[i(2),i(0),i(4),i(3),i(53),i(54),i(304),i(311),i(66),i(58)],void 0===(s=function(e,t,i,n,s,r,o,a,p,c){"use strict";var l=n.compRegistrar,d=function(e){return t.parseInt((e||"").toString().split("px")[0])},u="FIXED",h="ABSOLUTE",g="RELATIVE",m="DEFAULT",f="BOTTOM_CENTER",v="BOTTOM_LEFT",y="BOTTOM_RIGHT",T="CENTER",S="CENTER_LEFT",w="CENTER_RIGHT",I="TOP_CENTER",C="TOP_LEFT",D="TOP_RIGHT",P=function(e,t,i){return e+t/2-i/2},b=function(e,t,i){return e-(t+i)},A=function(e,t,i){return e-(t+i)},M=function(e,t,i){return e+t/2-i/2},E=function(e){var i=0,n="";if(t.isNumber(e))i=e;else if(t.isString(e)){var s=/(%)$/.exec(e),r=function(e){return/^([0-9]+)/.exec(e)}(e);i=r&&r[1]?parseInt(r[1],10):0,s&&s[1]&&(n=s[1])}return{size:i,unit:n}},R=function(e,i,n,s,r){var o={};return e.origin!==m&&e.origin!==u||(o=function(e,i,n,s){var r={position:"fixed",display:"block",width:n,height:s};return"%"===(s=E(s)).unit?s.size=t.min([s.size,100]):s.size>i.height&&(s.unit="%",s.size=100),(n=E(n)).size="%"===n.unit?t.min([n.size,100]):t.min([n.size,i.width]),e.placement===T?t.assign(r,{marginLeft:n.size/-2+(n.unit||"px"),marginTop:"%"===s.unit?0:s.size/-2+(s.unit||"px"),left:"50%",top:"%"===s.unit?0:"50%"}):e.placement===C?t.assign(r,{left:"0px",top:"0px"}):e.placement===D?t.assign(r,{right:"0px",top:"0px"}):e.placement===I?t.assign(r,{marginLeft:n.size/-2+(n.unit||"px"),top:"0px",left:"50%"}):e.placement===w?t.assign(r,{marginTop:"%"===s.unit?0:s.size/-2+(s.unit||"px"),top:"%"===s.unit?0:"50%",right:"0px"}):e.placement===S?t.assign(r,{marginTop:"%"===s.unit?0:s.size/-2+(s.unit||"px"),top:"%"===s.unit?0:"50%",left:"0px"}):e.placement===v?t.assign(r,{bottom:"0px",left:"0px"}):e.placement===y?t.assign(r,{bottom:"0px",right:"0px"}):e.placement===f&&t.assign(r,{marginLeft:n.size/-2+(n.unit||"px"),left:"50%",bottom:"0px"}),""===s.unit&&(s.unit="px"),""===n.unit&&(n.unit="px"),t.assign(r,{height:s.size+s.unit,width:n.size+n.unit}),r}(e,n,s,r)),e.origin===g&&(o=function(e,i,n,s,r){var o,a;return e.placement===T?(s=t.min([s,n.height]),r=t.min([r,n.width]),o=M(i.top,i.height,s),a=P(i.left,i.width,r)):e.placement===C?(s=t.min([s,i.top]),r=t.min([r,i.left]),o=i.top-s,a=i.left-r):e.placement===D?(s=t.min([s,i.top]),r=t.min([r,A(n.width,i.width,i.left)]),o=i.top-s,a=i.width+i.left):e.placement===I?(s=t.min([s,i.top]),r=t.min([r,n.width]),o=i.top-s,a=P(i.left,i.width,r)):e.placement===w?(s=t.min([s,n.height]),r=t.min([r,A(n.width,i.width,i.left)]),o=M(i.top,i.height,s),a=i.width+i.left):e.placement===S?(s=t.min([s,n.height]),r=t.min([r,i.left]),o=M(i.top,i.height,s),a=i.left-r):e.placement===v?(s=t.min([s,b(n.height,i.top,i.height)]),r=t.min([r,i.left]),o=i.top+i.height,a=i.left-r):e.placement===y?(s=t.min([s,b(n.height,i.top,i.height)]),r=t.min([r,A(n.width,i.width,i.left)]),o=i.top+i.height,a=i.width+i.left):e.placement===f&&(s=t.min([s,b(n.height,i.top,i.height)]),r=t.min([r,n.width]),o=i.top+i.height,a=P(i.left,i.width,r)),o=t.max([0,o]),a=t.max([0,a]),t.assign({position:"absolute",display:"block"},{top:o,left:a,width:r,height:s})}(e,i,n,r,s)),e.origin===h&&(o=function(e,i,n,s,r){var o,a,p,c;return e.placement===T?(p=t.min([i.actualTop+e.y,n.height-(i.actualTop+e.y)]),s=t.min([s,2*p]),c=t.min([i.actualLeft+e.x,n.width-(i.actualLeft+e.x)]),r=t.min([r,2*c]),o=i.top+e.y-s/2,a=i.left+e.x-r/2):e.placement===C?(s=t.min([s,i.actualTop+e.y]),r=t.min([r,i.actualLeft+e.x]),o=i.top+e.y-s,a=i.left+e.x-r):e.placement===D?(s=t.min([s,i.actualTop+e.y]),r=t.min([r,n.width-(i.actualLeft+e.x)]),o=i.top+e.y-s,a=i.left+e.x):e.placement===I?(s=t.min([s,i.actualTop+e.y]),c=t.min([i.actualLeft+e.x,n.width-(i.actualLeft+e.x)]),r=t.min([r,2*c]),o=i.top+e.y-s,a=i.left+e.x-r/2):e.placement===w?(p=t.min([i.actualTop+e.y,n.height-(i.actualTop+e.y)]),s=t.min([s,2*p]),r=t.min([r,n.width-(i.actualLeft+e.x)]),o=i.top+e.y-s/2,a=i.left+e.x):e.placement===S?(p=t.min([i.actualTop+e.y,n.height-(i.actualTop+e.y)]),s=t.min([s,2*p]),r=t.min([r,i.actualLeft+e.x]),o=i.top+e.y-s/2,a=i.left+e.x-r):e.placement===v?(s=t.min([s,n.height-(i.actulaTop+e.y)]),r=t.min([r,i.actualLeft+e.x]),o=i.top+e.y,a=i.left+e.x-r):e.placement===y?(s=t.min([s,n.height-(i.actualTop+e.y)]),r=t.min([r,n.width-(i.actualLeft+e.x)]),o=i.top+e.y,a=i.left+e.x):e.placement===f&&(s=t.min([s,n.height-(i.actualTop+e.y)]),c=t.min([i.actualLeft+e.x,n.width-(i.actualLeft+e.x)]),r=t.min([r,2*c]),o=i.top+e.y,a=i.left+e.x-r/2),o=t.max([0,o]),a=t.max([0,a]),t.assign({position:"absolute",display:"block"},{top:o,left:a,width:r,height:s})}(e,i,n,r,s)),o=function(e,i,n,s){var r=d(s.width),o=d(s.height);if(r<10||o<10){var a=E(n);a.size="%"===a.unit?t.min([a.size,100]):t.min([a.size,e.height]);var p=E(i);return p.size="%"===p.unit?t.min([p.size,100]):t.min([p.size,e.width]),{position:"fixed",display:"block",width:p.size+(a.unit||"px"),height:a.size+(p.unit||"px"),marginLeft:p.size/-2+(a.unit||"px"),marginTop:a.size/-2+(p.unit||"px"),left:"50%",top:"50%"}}return s}(n,s,r,o)},_={displayName:"TPAPopup",mixins:[n.mixins.skinBasedComp,s,r,a,p,o],propTypes:{compData:e.santaTypesDefinitions.Component.compData.isRequired,dynamicClientSpecMapAspect:e.santaTypesDefinitions.SiteAspects.dynamicClientSpecMapAspect.isRequired,clientSpecMap:e.santaTypesDefinitions.RendererModel.clientSpecMap.isRequired,siteScrollingBlocker:e.santaTypesDefinitions.SiteAspects.siteScrollingBlocker.isRequired,id:e.santaTypesDefinitions.Component.id.isRequired,getCommonConfig:e.santaTypesDefinitions.CommonConfig.getAll,aspectData:e.santaTypesDefinitions.TPA.data.isRequired,onCloseCallback:i.func,removePopup:e.santaTypesDefinitions.TPA.removePopup.isRequired,isMobileView:e.santaTypesDefinitions.isMobileView.isRequired},getInitialState:function(){return{showComponent:!0,commonConfig:t.cloneDeep(this.props.getCommonConfig()),initialInstance:this.props.dynamicClientSpecMapAspect.getAppInstance(this.props.compData.applicationId)||this.getAppData(this).instance,registeredEvents:[]}},getSkinProperties:function(){var e=this.state.showComponent?this.getSelfStyle():{display:"none"},t=this.isBareTheme()?"none":"block",i=this.buildUrl(this.props.compData.url);return this.state.showComponent?{"":{style:e,"data-src":i,tagName:"wix-iframe"},closeButton:{onClick:this.hide,style:{display:t}},iframe:{"data-src":i,scrolling:"no",frameBorder:"0",allow:c.getIFramePermissions(),allowtransparency:"true",allowFullScreen:!0,name:this.props.id}}:{"":{style:e}}},mutateIframeUrlQueryParam:function(e){return e.origCompId=this.props.compData.origCompId,e},getPopupWidth:function(){return t.isUndefined(this.state.width)?this.props.compData.width:this.state.width},getPopupHeight:function(){return t.isUndefined(this.state.height)?this.props.compData.height:this.state.height},getSelfStyle:function(){var e=t.defaults(this.props.compData.position,{x:0,y:0}),i=this.props.compData.origCompStyle,n=this.props.compData.windowSize,s=R(e,i,n,this.getPopupWidth(),this.getPopupHeight());return s.zIndex=this.props.aspectData.isModalOpen?1001:null,this.shouldDisableScroll=function(e,t,i){return"100%"===e&&("100%"===t||Number(d(t))>=i.width)}(s.height,s.width,n)&&this.props.isMobileView,this.getThemeStyle(s)},getThemeStyle:function(e){return this.isBareTheme()?t.merge(e,{background:"none",boxShadow:"none",borderRadius:0}):e},hide:function(e,i){var n=this;this.setState({showComponent:!1},(function(){var s=e&&e.message?e:void 0;n.props.onCloseCallback&&n.props.onCloseCallback(s),this.props.removePopup(n),t.isFunction(i)&&i()}))},isBareTheme:function(){return"BARE"===this.props.compData.theme},componentWillReceiveProps:function(e){var i=t.get(this.props.clientSpecMap,[this.props.compData.applicationId,"instance"]),n=t.get(e.clientSpecMap,[this.props.compData.applicationId,"instance"]);i!==n&&this.setState({initialInstance:n})},componentDidMount:function(){this.props.siteScrollingBlocker.setSiteScrollingBlocked(this,this.shouldDisableScroll)},componentDidUpdate:function(){this.props.siteScrollingBlocker.setSiteScrollingBlocked(this,this.shouldDisableScroll)},componentWillUnmount:function(){this.props.siteScrollingBlocker.setSiteScrollingBlocked(this,!1)}};return l.register("wysiwyg.viewer.components.tpapps.TPAPopup",_),_}.apply(t,n))||(e.exports=s)},1225:function(e,t,i){var n,s;n=[i(0),i(313),i(1)],void 0===(s=function(e,t,i){"use strict";var n=new i.SiteDataPrivates;return{mapPageToWidgets:function(i){var s=i.getSiteData();n.has(s)||n.set(s,{});var r=n.get(s);if(e.size(r)>0)return r;var o=t.getSitePagesData(i.getSiteData());return e.forEach(o,(function(t){if(t&&t.tpaApplicationId>0){var i={pageId:t.id,tpaId:t.tpaApplicationId,tpaPageId:t.tpaPageId};e.isUndefined(r[i.tpaId])&&(r[i.tpaId]=[]),r[i.tpaId].push(i)}})),r}}}.apply(t,n))||(e.exports=s)},1226:function(e,t,i){var n,s;n=[i(24),i(314),i(1227),i(316),i(1229)],void 0===(s=function(e,t,i,n,s){"use strict";var r={TPA_GLUED_WIDGET:"wysiwyg.viewer.components.tpapps.TPAGluedWidget",TPA_WIDGET:"wysiwyg.viewer.components.tpapps.TPAWidget",TPA_SECTION:"wysiwyg.viewer.components.tpapps.TPASection",TPA_MULTI_SECTION:"wysiwyg.viewer.components.tpapps.TPAMultiSection",TPA_WIDGET_NATIVE:"wysiwyg.viewer.components.tpapps.TPAWidgetNative"},o=function(e,t,i,n,s){if(!s.isMesh){var r=parseInt(window.getComputedStyle(i[e]).minHeight||0,10),o="true"===i[e].dataset.ignoreAnchors;r&&(t.minHeight[e]=o?n.layout.height:r,t.height[e]=o?n.layout.height:r)}},a=function(e,t,i,s,r){var o="true"===t[e].dataset.hasIframe;return function(t){n.patchTPASection(e,t,i,r,s,o)}};[r.TPA_WIDGET,r.TPA_SECTION,r.TPA_MULTI_SECTION].forEach((function(t){e.registerRequestToMeasureDom(t),e.registerRequestToMeasureChildren(t,[["iframe"]]),e.registerCustomMeasure(t,o)})),e.registerRequestToMeasureDom(r.TPA_GLUED_WIDGET),e.registerCustomMeasure(r.TPA_GLUED_WIDGET,i),e.registerPatcher(r.TPA_GLUED_WIDGET,t),e.registerCustomLayoutFunction(r.TPA_MULTI_SECTION,a),e.registerCustomLayoutFunction(r.TPA_SECTION,a),e.registerCustomLayoutFunction(r.TPA_WIDGET,s),e.registerCustomMeasure(r.TPA_WIDGET_NATIVE,(function(e,t,i){if(i[e]){var n=i[e].querySelectorAll("*[data-ooi-animate]");Array.from(n).forEach((function(e){t.height[e.id]=e.offsetHeight}))}}))}.apply(t,n))||(e.exports=s)},1227:function(e,t,i){var n,s;n=[i(0),i(315)],void 0===(s=function(e,t){"use strict";return function(i,n,s,r,o){var a=o.getClientSpecMap,p=o.isMobileView,c=r.dataItem,l=s[i],d={placement:l.dataset.placement,horizontalMargin:+(l.dataset.horizontalMargin||0),verticalMargin:+(l.dataset.verticalMargin||0)},u=e.assign(r.layout,{height:l.offsetHeight,width:l.offsetWidth}),h=n.width.screen,g=n.height.screen,m={props:d,data:c,layout:u},f=t.getGluedWidgetMeasurements(a(),m,h,g,n.siteMarginBottom,p());(f=function(e){return 0===e.right&&(e.left="auto"),0===e.bottom&&(e.top="auto"),0===e.left&&(e.right="auto"),0===e.top&&(e.bottom="auto"),e}(f)).fixedTop=f.top,f.fixedLeft=f.left,delete f.top,delete f.left,e.forEach(f,(function(e,t){n[t]=n[t]||{},n[t][i]=e})),e.set(n.custom,[i,"has-ads"],Boolean(l.dataset.hasAds)),n.width[i]=u.width}}.apply(t,n))||(e.exports=s)},1228:function(e,t,i){var n;void 0===(n=function(){"use strict";return{getDefaultPlacement:function(e,t){var i=e.applicationId,n=e.widgetId,s=t[i];if(s){var r=s.widgets[n];if(r)return(r.gluedOptions||{horizontalMargin:0,placement:"BOTTOM_RIGHT",verticalMargin:0}).placement}}}}.apply(t,[]))||(e.exports=n)},1229:function(e,t,i){var n;void 0===(n=function(){"use strict";return function(e,t,i,n){var s=n.os.ios&&n.browser.safari,r="true"===t[e].dataset.hasIframe;if(s&&r)return function(t){!function(e,t){t.css("".concat(e,"iframe"),{width:1,minWidth:"100%"})}(e,t),n.isMesh&&t.css(e,{height:"".concat(i.height[e],"px")})}}}.apply(t,[]))||(e.exports=n)},13:function(e,t){e.exports=d},14:function(e,t){e.exports=u},143:function(e,t,i){var n;void 0===(n=function(){"use strict";var e="14517e1a-3ff0-af98-408e-2bd6953c36a2";return{PERF_CATEGORY:{category:"tpa"},PERMITTED_GLUED_TPAS_IN_MOBILE:[e],PERMITTED_FULL_SCREEN_TPAS_IN_MOBILE:[e]}}.apply(t,[]))||(e.exports=n)},144:function(e,t,i){var n;void 0===(n=function(){"use strict";return{SCROLL:"SCROLL",PAGE_NAVIGATION:"PAGE_NAVIGATION",PAGE_NAVIGATION_IN:"PAGE_NAVIGATION_IN",PAGE_NAVIGATION_OUT:"PAGE_NAVIGATION_OUT",PAGE_NAVIGATION_CHANGE:"PAGE_NAVIGATION_CHANGE",STATE_CHANGED:"STATE_CHANGED",SESSION_CHANGED:"SESSION_CHANGED",INSTANCE_CHANGED:"INSTANCE_CHANGED",CONSENT_POLICY_UPDATE:"CONSENT_POLICY_UPDATE",COMMON_CONFIG_UPDATE:"COMMON_CONFIG_UPDATE",MEMBER_DETAILS_UPDATED:"MEMBER_DETAILS_UPDATED",SITE_METADATA_CHANGED:"SITE_METADATA_CHANGED",KEY_DOWN:"KEY_DOWN",KEY_UP:"KEY_UP"}}.apply(t,[]))||(e.exports=n)},2:function(e,t){e.exports=i},24:function(e,t){e.exports=h},3:function(e,t){e.exports=n},302:function(e,t,i){var n,s;n=[i(1211),i(0),i(1)],void 0===(s=function(e,t,i){"use strict";var n=i.loggingUtils.logger;return t.forEach(e,(function(e,t){e.errorName=t})),n.register("tpa","error",e),e}.apply(t,n))||(e.exports=s)},303:function(e,t,i){var n,s;n=[i(1212)],void 0===(s=function(e){"use strict";return e}.apply(t,n))||(e.exports=s)},304:function(e,t,i){var n,s;n=[i(2),i(0),i(6)],void 0===(s=function(e,t,i){"use strict";var n={trailing:!0},s=function(){return t.throttle((function(e){if(o(this.props)){var i=function(e,i,n){var s,o={x:(s=r(e.props)?e._cachedBoundingClientRect:e._domNode.getBoundingClientRect()).left+(i.x||0),y:s.top+(i.y||0),width:s.width,height:s.height};o.scale=n,null===e.windowSize&&(e.windowSize=e.props.screenSize);var a={scrollTop:i.y,scrollLeft:i.x,documentHeight:e.props.screenSize.height,documentWidth:e.props.screenSize.width};return t.assign({},o,s,a)}(this,e,t.get(this,"props.siteScale",1));this.sendPostMessage({intent:"addEventListener",eventType:"SCROLL",params:i})}}),250,n)};function r(e){return t.get(e,"structure.layout.fixedPosition")||!1}var o=function(e){return!e.rootId||t.includes(e.getRootIdsWhichShouldBeRendered(),e.rootId)};return{propTypes:{getRootIdsWhichShouldBeRendered:e.santaTypesDefinitions.getRootIdsWhichShouldBeRendered,siteScale:e.santaTypesDefinitions.RenderFlags.siteScale,rootId:e.santaTypesDefinitions.Component.rootId,screenSize:e.santaTypesDefinitions.screenSize.isRequired},onScroll:t.noop,getInitialState:function(){return this._domNode=null,this._cachedBoundingClientRect=null,{}},componentDidMount:function(){this._domNode=i.findDOMNode(this),r(this.props)&&(this._cachedBoundingClientRect=this._domNode.getBoundingClientRect())},onResize:function(){r(this.props)&&(this._cachedBoundingClientRect=this._domNode.getBoundingClientRect())},componentWillMount:function(){this._domNode=null,this.onScroll=s()},componentWillUpdate:function(e,t){var i=t.height!==this.state.height||t.width!==this.state.width;r(e)&&i&&(this._cachedBoundingClientRect=null)},componentDidUpdate:function(){null===this._cachedBoundingClientRect&&r(this.props)&&(this._cachedBoundingClientRect=this._domNode.getBoundingClientRect())}}}.apply(t,n))||(e.exports=s)},305:function(e,t,i){var n,s;n=[i(0),i(306)],void 0===(s=function(e,t){"use strict";var i=function(e){t.call(this,e)};return i.prototype=e.assign(new t,{addCacheKiller:function(e){return this.addQueryParam("cacheKiller",e)},addInstance:function(e){return this.addQueryParam("instance",e)},addConsentPolicy:function(e){return this.addQueryParam("consent-policy",decodeURIComponent(e))},addWidth:function(e){return this.addQueryParam("width",e)},addLocale:function(e){return this.addQueryParam("locale",e)},addLang:function(e){return this.addQueryParam("lang",e)},addDateNumberFormat:function(e){return this.addQueryParam("dateNumberFormat",e)},addIsPrimaryLanguage:function(e){return this.addQueryParam("isPrimaryLanguage",e)},addCurrency:function(e){return this.addQueryParam("currency",e)},addCurrentCurrency:function(e){return this.addQueryParam("currentCurrency",e)},addCommonConfig:function(t){return e.isObject(t)&&(t=JSON.stringify(t)),this.addQueryParam("commonConfig",t)},addTimeZone:function(e){return this.addQueryParam("tz",e)},addSiteRevision:function(e){return this.addQueryParam("siteRevision",String(e))},addViewMode:function(e){return this.addQueryParam("viewMode",e)},addCompId:function(e){return this.addQueryParam("compId",e)},addViewerCompId:function(e){return this.addQueryParam("viewerCompId",e)},addDeviceType:function(e){return this.addQueryParam("deviceType",e)},addStandalone:function(e){return this.addQueryParam("standalone",e)},addEndpointType:function(e){return this.addQueryParam("endpointType",e)},addOrigCompId:function(e){return this.addQueryParam("origCompId",e)},addExternalId:function(e){return this.addQueryParam("externalId",e)},addOrigin:function(e){return this.addQueryParam("origin",e)},addPageId:function(e){return this.addQueryParam("pageId",e)},addHeight:function(e){return this.addQueryParam("height",e)},addViewerSessionId:function(e){return this.addQueryParam("vsi",e)},addCbi:function(e){return this.addQueryParam("cbi",e)},addRouterData:function(e,t){try{var i;return e&&(i=t("sv_tpaDecodeRouterData")?window.btoa(JSON.stringify(e)):JSON.stringify(e)).length<400?this.addQueryParam("routerData",i):this}catch(e){return this}}}),i}.apply(t,n))||(e.exports=s)},306:function(e,t,i){var n,s;n=[i(0),i(1)],void 0===(s=function(e,t){"use strict";var i=function(e){this.url=t.urlUtils.parseUrl(e),this.url.query=this.url.query||{},this.url.search=null,this.url.hash=this.url.hash||""};return i.prototype={addQueryParam:function(t,i){var n=this.url.query;return i&&!e.isEmpty(i)&&(n[t]?e.isArray(n[t])?n[t].push(i):n[t]=[n[t],i]:n[t]=i),this},addMultipleQueryParams:function(t){return t&&!e.isEmpty(t)&&e.assign(this.url.query,t),this},addQueryParamsFromFunc:function(t,i){return e.isFunction(t)&&t.apply(null,[this].concat(i)),this},setHash:function(t){return e.isString(t)&&!e.isEmpty(t)&&(t="#"===t[0]?t:"#".concat(t),this.url.hash=t),this},mutateIframeSrc:function(e){return e&&(this.url=e(this.url)),this},filterQueryParams:function(t){return t&&!e.isEmpty(t)&&(this.url.query=e.pick(this.url.query,t)),this},build:function(){return t.urlUtils.buildFullUrl(this.url)}},i}.apply(t,n))||(e.exports=s)},307:function(e,t,i){var n,s;n=[i(2)],void 0===(s=function(e){"use strict";return{propTypes:{compData:e.santaTypesDefinitions.Component.compData.isRequired},getBaseUrl:function(){var e=this.getAppData();if(e.widgets){var t=this.props.compData.widgetId,i=e.widgets[t];if(i){var n=this.isInMobileDevMode&&this.isInMobileDevMode(),s=this.getTPAOverrideUrl("tpaWidgetUrlOverride",t)||i.widgetUrl;return this.isUnderMobileView()&&(i.mobileUrl&&(n||i.mobilePublished))?this.getTPAOverrideUrl("tpaMobileUrlOverride",t)||i.mobileUrl:s}}return""}}}.apply(t,n))||(e.exports=s)},308:function(e,t,i){var n;void 0===(n=function(){"use strict";return{requireComponentFromUrl:function(e){return new Promise((function(t,i){return requirejs([e],t,i)}))}}}.apply(t,[]))||(e.exports=n)},309:function(e,t,i){var n,s;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n=[i(2),i(0),i(144),i(80)],void 0===(s=function(e,t,i,n){"use strict";var s=e.santaTypesDefinitions,o=s.Component;return{propTypes:{pageStub:o.pageStub,isMobileView:s.isMobileView,formFactor:s.NativeComponentSantaTypes.formFactor.isRequired,getExistingRootNavigationInfo:s.getExistingRootNavigationInfo,rootId:o.rootId.isRequired,pageUrlWithHash:s.pageUrlWithHash.isRequired,pageId:o.pageId,compData:o.compData.isRequired,isViewerMode:s.isViewerMode,currentUrlPageId:o.currentUrlPageId,dynamicClientSpecMapAspect:s.SiteAspects.dynamicClientSpecMapAspect.isRequired,enterOverflowHiddenMode:s.enterOverflowHiddenMode.isRequired,exitOverflowHiddenMode:s.exitOverflowHiddenMode.isRequired,isExperimentOpen:s.isExperimentOpen},isTPASection:!0,getSiteUrlStateFromProps:function(e){var t=e.getExistingRootNavigationInfo(e.rootId);return t&&t.tpaInnerRoute||""},getSiteUrlQueryParamsFromProps:function(e){var i=e.getExistingRootNavigationInfo(e.rootId),n=t.get(i,"queryParams.appSectionParams"),s={};if(n)try{s=JSON.parse(n)}catch(e){}return s},mutateSkinProperties:function(e){if("object"===r(e.iframe)){var t=this.buildUrl(this.getBaseUrl());e.iframe.src?e.iframe.src=t:e.iframe["data-src"]=t}return e},mutateInitialState:function(e){return e.sectionUrlState=this.getSiteUrlStateFromProps(this.props),e.sectionUrlParams=this.getSiteUrlQueryParamsFromProps(this.props),e.sectionUrl=this.fixSectionUrl(),this.isInOverflowHiddenMode=!1,e},fixSectionUrl:function(){var e=this.props.pageUrlWithHash;return this.endsWith(e,"/")?e:"".concat(e,"/")},endsWith:function(e,i){return t.endsWith(e,i)},isViewerMode:function(){return"site"===this.getViewMode()},shouldHaveOverflowHidden:function(e){var t=e.isExperimentOpen("is_mobile_is_form_factor_is_mobile")?"Mobile"===e.formFactor:e.isMobileView;return!e.pageStub&&!t&&n.isFullPageDesktopOnly(e.compData,this.getAppData())},updateOverflowHiddenState:function(e){var t=this.shouldHaveOverflowHidden(e);t&&!this.isInOverflowHiddenMode&&(e.enterOverflowHiddenMode(),this.isInOverflowHiddenMode=!0),!t&&this.isInOverflowHiddenMode&&(e.exitOverflowHiddenMode(),this.isInOverflowHiddenMode=!1)},componentWillReceiveProps:function(e){var i=this.getSiteUrlStateFromProps(e),n=this.getSiteUrlQueryParamsFromProps(e);t.isUndefined(this.state.pushState)?e.currentUrlPageId===this.props.pageId&&(this.urlState!==i||this.shouldUpdateState)&&(this.urlState=i,this.shouldUpdateState=!1,this.setState({sectionUrlState:i}),this.reportStateChanged(this.urlState)):(this.urlState=this.state.pushState,this.setState({pushState:void 0}),this.reportStateChanged(this.urlState)),e.currentUrlPageId===this.props.pageId&&this.state.sectionUrlParams!==n&&this.setState({sectionUrlParams:n}),this.updateOverflowHiddenState(e)},componentWillMount:function(){this.updateOverflowHiddenState(this.props)},componentDidMount:function(){var e=this;this.shouldUpdateState=!1,this.props.dynamicClientSpecMapAspect.registerReloadSpecMapPlugin(this.props.pageId,(function(){e.shouldUpdateState=!0}))},componentWillUnmount:function(){this.isInOverflowHiddenMode&&this.props.exitOverflowHiddenMode()},reportStateChanged:function(e){this.isCompListensTo(i.STATE_CHANGED)&&this.sendPostMessage({intent:"addEventListener",eventType:"STATE_CHANGED",params:{newState:e}})},isMobileReady:function(){var e=this.getAppData(),i=this.isInMobileDevMode&&this.isInMobileDevMode(),n=this.props.compData,s=e.widgets,r=n.widgetId&&t.get(s,n.widgetId);return r?r.mobileUrl&&(i||r.mobilePublished):e.sectionMobileUrl&&(i||e.sectionMobilePublished)},mutateIframeUrlQueryParam:function(e){return this.props.isViewerMode?(e["section-url"]=this.fixSectionUrl(),e.target="_top"):(e["section-url"]=this.getBaseUrl(),e.target="_self"),e.width=this.state.initialWidth,e},mutateIframeSrc:function(e){return e=this.addStateToUrlObj(e,this.state.sectionUrlState)},addStateToUrlObj:function(e,t){t&&("#"===t.charAt(0)?e.hash=t:(e.path&&"/"!==e.path.slice(-1)&&(e.path+="/"),e.path+=t));return e}}}.apply(t,n))||(e.exports=s)},310:function(e,t,i){var n,s;n=[i(3)],void 0===(s=function(e){"use strict";var t=[],i=1;e.siteAspectsRegistry.registerSiteAspect("tpaPreviewEditorAspect",(function(e){"undefined"!=typeof window&&e.registerToMessage(s)}));var n=function(e,n,s,r){var o={intent:"TPA_PREVIEW",callId:i++,type:e,compId:s,data:n};return r&&(t[o.callId]=r),o},s=function(e){var i;try{i=JSON.parse(e.data)}catch(e){return}switch(i.intent){case"TPA_PREVIEW":case"TPA_PREVIEW_RESPONSE":i.callId&&t[i.callId]&&(t[i.callId](i.res),delete t[i.callId])}};return{doPostMessage:function(e,t,i,s){var r,o=n(e,t,i,s);window.parent.postMessage?r=window.parent:window.parent.document.postMessage&&(r=window.parent.document),r&&void 0!==r&&r.postMessage(JSON.stringify(o),"*")}}}.apply(t,n))||(e.exports=s)},311:function(e,t,i){var n,s;n=[i(2)],void 0===(s=function(e){"use strict";return{propTypes:{compData:e.santaTypesDefinitions.Component.compData.isRequired},getOrigComponentId:function(){return this.props.compData.origCompId}}}.apply(t,n))||(e.exports=s)},312:function(e,t,i){var n,s,r;"undefined"!=typeof self&&self,s=[],void 0===(r="function"==typeof(n=function(){"use strict";var e={"wysiwyg.viewer.skins.TPAModalSkin":{react:[["div","blockingLayer",[],{}],["div","dialog",[],{role:"dialog",tabIndex:0},["div","frameWrap",[],{},["iframe","iframe",[],{allowFullScreen:!0,frameBorder:0}],["div","errorMessage",[],{}],["button","xButton",[],{title:"Close modal","aria-label":"Close modal"}]]]],params:{rd:"BORDER_RADIUS","bg-block":"BG_COLOR"},paramsDefaults:{rd:"1px","bg-block":"#555"},paramsMutators:{"bg-block":{type:"alpha",value:.75}},css:{"%":"position:fixed;width:100%;height:100%;z-index:100000;","%blockingLayer":"background-color:[bg-block];position:fixed;top:0;right:0;bottom:0;left:0;width:100%;height:100%;overflow:hidden;z-index:999;",'%[data-state~="mobile"] %blockingLayer':"display:none;",'%[data-state~="mobile"] %dialog':"position:fixed;top:0;left:0;width:100%;height:100%;margin:0;","%dialog":"position:fixed;top:50%;left:50%;width:200px;height:200px;margin-top:-100px;margin-left:-100px;z-index:1000;","%frameWrap":"overflow:hidden;background:#fff;width:100%;height:100%;position:relative;z-index:1001;border:1px solid #e8e2e2;","%iframe":"position:absolute;width:100%;height:100%;[rd]","%xButton":"position:absolute;z-index:1002;margin-top:4px;right:9px;font-family:courier;font-size:24px;font-weight:bold;cursor:pointer;color:#a1a1a1;","%xButton:hover":"color:#373737;"}},"wysiwyg.viewer.skins.TPAPopupSkin":{react:[["div","frameWrap",[],{},["div","closeButton",[],{}],["iframe","iframe",[],{}]]],params:{shd:"BOX_SHADOW",rd:"BORDER_RADIUS",tdr:"URL"},paramsDefaults:{shd:"4px 4px 15px rgba(0, 0, 0, 0.4)",rd:"3px",tdr:"BASE_THEME_DIRECTORY"},css:{"%":"background:#fff;overflow:hidden;z-index:100000;[shd]  [rd]","%iframe":"position:absolute;width:100%;height:100%;z-index:1000;","%closeButton":"position:absolute;z-index:1001;top:10px;right:10px;cursor:pointer;background:transparent url([tdr]popup_close_x.png) no-repeat right top;height:24px;width:24px;"}},"wysiwyg.viewer.skins.TPAPreloaderSkin":{react:[["div","content",[],{},["div","preloader",[],{}],["span","loadingText",[],{}]]],css:{"%":"position:absolute;top:0;left:0;color:#373737;width:100%;height:100%;","%content":"width:100%;height:100%;"}},"wysiwyg.viewer.skins.TPASectionSkin":{react:[["iframe","iframe",[],{}],["div","overlay",[],{}]],exports:{preloaderOverlay:{skin:"wysiwyg.viewer.skins.TPAPreloaderSkin",styleGroup:"preloaderStyleGroup"},unavailableMessageOverlay:{skin:"wysiwyg.viewer.skins.TPAUnavailableMessageOverlaySkin",styleGroup:"tpaUnavailableMessageOverlaySkinStyleGroup"}},css:{"%iframe":"overflow:hidden;position:absolute;width:100%;height:100%;display:block;",'%[data-state~="iframeNotShown"] %iframe':"display:none;",'%[data-state~="iframeRenderedInvisible"] %iframe':"visibility:hidden;"}},"wysiwyg.viewer.skins.TPAUnavailableMessageOverlaySkin":{react:[["div","content",[],{},["div","iconContainer",[],{},["img","unavailableIcon",[],{}]],["div","textTitle",[],{}],["div","textContainer",[],{},["span","text",[],{}],["a","reloadButton",[],{}],["span","dismissButton",[],{},["a",null,[],{},"Dismiss"]]]]],css:{"%":"position:absolute;top:0;left:0;color:#373737;width:100%;height:100%;","%content":"width:100%;height:100%;background:rgba(255, 255, 255, 0.9);font-size:0;margin-top:5px;","%textContainer":'color:#373737;font-family:"Helvetica Neue", "HelveticaNeueW01-55Roma", "HelveticaNeueW02-55Roma", "HelveticaNeueW10-55Roma", Helvetica, Arial, sans-serif;font-size:14px;display:inline-block;vertical-align:middle;width:100%;margin-top:10px;text-align:center;',"%reloadButton":"display:inline-block;","% a":"color:#0099FF;text-decoration:underline;cursor:pointer;","%iconContainer":"display:none;","%dismissButton":"display:none;","%textTitle":'font-family:"Helvetica Neue", "HelveticaNeueW01-55Roma", "HelveticaNeueW02-55Roma", "HelveticaNeueW10-55Roma", Helvetica, Arial, sans-serif;display:none;','%[data-state~="hideIframe"] %_buttons':"opacity:1;",'%[data-state~="hideOverlay"]':"display:none;"}},"wysiwyg.viewer.skins.TPAWidgetNativeDeadcompSkin":{react:[["div","content",[],{},["div","iconContainer",[],{},["svg",null,[],{width:"22px",height:"23px",viewBox:"0 0 22 23"},["title",null,[],{},"!"],["g","Page-1",[],{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},["g","Error-Message",[],{transform:"translate(-308.000000, -690.000000)",fill:"#174165",fillRule:"nonzero"},["g","Group-3",[],{transform:"translate(66.000000, 75.000000)"},["g","Group-Copy",[],{transform:"translate(110.000000, 429.000000)"},["g","Group-2",[],{transform:"translate(128.000000, 186.000000)"},["path","!",[],{d:"M13.5652174,6 L16.4347826,6 L16.4347826,10.0908203 L15.9602582,13 L14.1082817,13 L13.5652174,10.0638428 L13.5652174,6 Z M13.5652174,14 L16.4347826,14 L16.4347826,17 L13.5652174,17 L13.5652174,14 Z M14.5217391,2 C9.76728781,2 5.91304348,6.02943725 5.91304348,11 L5.91304348,12 C5.91304348,16.9705627 9.76728781,21 14.5217391,21 L15.4782609,21 C20.2327122,21 24.0869565,16.9705627 24.0869565,12 L24.0869565,11 C24.0869565,6.02943725 20.2327122,2 15.4782609,2 L14.5217391,2 Z M14.5217391,0 L15.4782609,0 C21.2892569,0 26,4.92486775 26,11 L26,12 C26,18.0751322 21.2892569,23 15.4782609,23 L14.5217391,23 C8.71074307,23 4,18.0751322 4,12 L4,11 C4,4.92486775 8.71074307,0 14.5217391,0 Z"}]]]]]]]],["div","textContainer",[],{},["div","textTitle",[],{}],["div","text",[],{}]]]],css:{"%content":'font-size:14px;margin-top:5px;font-family:"Helvetica Neue", "HelveticaNeueW01-55Roma", "HelveticaNeueW02-55Roma", "HelveticaNeueW10-55Roma", Helvetica, Arial, sans-serif;line-height:1.43;',"%content > div":"padding-left:17px;","%textContainer":"word-wrap:break-word;max-width:206px;color:#174165;","%textTitle":"font-weight:500;","%text":"font-weight:300;"}},"wysiwyg.viewer.skins.TPAWidgetNativeSkin":{react:[],exports:{TPAWidgetNativeDeadcomp:{skin:"wysiwyg.viewer.skins.TPAWidgetNativeDeadcompSkin"}},css:{}},"wysiwyg.viewer.skins.TPAWidgetSkin":{react:[["iframe","iframe",[],{}],["div","overlay",[],{}]],exports:{preloaderOverlay:{skin:"wysiwyg.viewer.skins.TPAPreloaderSkin",styleGroup:"preloaderStyleGroup"},unavailableMessageOverlay:{skin:"wysiwyg.viewer.skins.TPAUnavailableMessageOverlaySkin",styleGroup:"tpaUnavailableMessageOverlaySkinStyleGroup"}},css:{"%":"overflow:hidden;","% iframe":"position:absolute;width:100%;height:100%;overflow:hidden;","% iframe:-webkit-full-screen":"min-height:auto !important;"}}};return e})?n.apply(t,s):n)||(e.exports=r)},313:function(e,t,i){var n,s;n=[i(0),i(1),i(58)],void 0===(s=function(e,t,i){"use strict";var n=function(i,n){n=n||{};var r=t.menuUtils.getSiteMenuWithoutRenderedLinks(i,!0);n.filterHideFromMenuPages&&(r=s(r,i.getClientSpecMap())),n.homePageId=i.getMainPageId();var a=l(r,i,n);return n.includeIsHomePage&&(a=p(a,n.homePageId)),n.includePagesUrl&&(a=o(i,a,e.get(n,"baseUrl"),n)),a},s=function(t,i){return e.filter(t,(function(e){return!a(i,e.link)}))};function r(e,i,n,s){return t.wixUrlParser.getUrl(e,{pageId:i,title:n},void 0,!0,s)}var o=function t(i,n,s){return e.map(n,(function(e){var n=i.getDataByQuery(e.id,"masterPage");return n&&n.pageUriSEO&&(e.url=r(i,e.id,n.pageUriSEO,s)),e.subPages&&(e.subPages=t(i,e.subPages,s)),e}))},a=function(t,n){if("PageLink"===e.get(n,"type")){var s=e.get(n,"pageId.tpaApplicationId"),r=e.get(n,"pageId.tpaPageId"),o=e.get(t,s);return i.isPageMarkedAsHideFromMenu(o,r)}return!1},p=function t(i,n){return e.map(i,(function(e){return e.isHomepage=c(e,n),e.subPages&&(e.subPages=t(e.subPages,n)),e}))},c=function(t,i){return!e.isUndefined(t)&&t.id===i},l=function(t,i,n){var s=[],r=n.enhancedInfo?h:d;return e.forEach(t,(function(t){var o=r(t,i,n),a=t.items;e.forEach(a,(function(e){var t=r(e,i,n);o.subPages=o.subPages||[],o.subPages.push(t)})),s.push(o)})),s},d=function(i){if(i.link){var n=e.get(i.link,"pageId.id");return{title:i.label||"",id:t.stringUtils.startsWith(n,"#")?n.substr(1):n,hide:!i.isVisible||!1}}return{}},u=function(i,n,s){var o=function(i){var n=e.get(i,"link.pageId.id");return n?t.stringUtils.startsWith(n,"#")?n.substr(1):n:""}(i),a=e.get(i,"link.pageId.pageUriSEO"),p={isHomePage:o===s.homePageId};return a&&(p.url=r(n,o,a,s.baseUrl)),p},h=function(i,n,s){var r=t.linkUtils.getRelevantLinkDataFromMenuItem(i);switch((r=e.merge(r,{type:r.type||"MenuHeader",title:i.label||"",hidden:!i.isVisible||!1})).type){case"PageLink":case"AnchorLink":r=e.merge(r,u(i,n,s));break;case"DocumentLink":r.url=t.linkUtils.getDocumentLink(i.link,n)}return r},g=function(e,t){return t.getDataByQuery(e,"masterPage")},m=function(t,i){var n=[];return e.forEach(t,(function(t){e.forEach(t.subPages,(function(e){n.push(g(e.id,i))})),n.push(g(t.id,i))})),n};return{getSitePagesInfoData:n,getSitePagesData:function(e){var t=n(e);return m(t,e)}}}.apply(t,n))||(e.exports=s)},314:function(e,t,i){var n,s;n=[i(0),i(143)],void 0===(s=function(e,t){"use strict";function i(t,i){var n=t,s=i.height.screen,r=i.width.screen,o=i.custom.WIX_ADStop;o&&(n=function(t,i,n){var s,r;return r=i,(s=n).right<r.left||s.left>r.right||s.bottom<r.top||s.top>r.bottom||!e.isNumber(t.top)||(t.top=(t.top||0)+(n.bottom-i.top)),t}(n,function(t,i,n){return{top:e.isNumber(t.top)?e.parseInt(t.top):n-t.height,bottom:e.isNumber(t.bottom)?n-e.parseInt(t.bottom):e.parseInt(t.top)+t.height,right:e.isNumber(t.right)?i-e.parseInt(t.right):e.parseInt(t.left)+t.width,left:e.isNumber(t.left)?e.parseInt(t.left):i-t.width}}(n,r,s),o));return n}return function(n,s,r,o,a){if(a.isMobileView())(function(i,n){var s=i.dataItem,r=n[s.applicationId],o=t.PERMITTED_FULL_SCREEN_TPAS_IN_MOBILE;return r&&e.includes(o,r.appDefinitionId)})(o,a.getClientSpecMap())&&s.css(n,{position:"fixed",margin:"0",top:"0",left:"auto",width:r.width.screen,height:"100%",zIndex:2e3});else{var p=function(t,i,n){var s={};return e.forEach(n,(function(n){var r=i[n]&&i[n][t],o=n;e.isUndefined(r)||(0===n.indexOf("fixed")&&(o=o.slice("fixed".length).toLowerCase()),s[o]=r)})),s}(n,r,["position","fixedTop","fixedLeft","right","bottom","width","height"]);p=i(p,r),p=e.omit(p,["width","height"]),s.css(n,p)}}}.apply(t,n))||(e.exports=s)},315:function(e,t,i){var n,s;n=[i(0),i(1228)],void 0===(s=function(e,t){"use strict";function i(e){return"number"==typeof e?e:e&&parseFloat(e)||0}function n(e){return(e>2||e<-2)&&(e=0),e}return{getGluedWidgetMeasurements:function(s,r,o,a,p,c){var l=n(r.props.horizontalMargin),d=n(r.props.verticalMargin),u=r.props.placement||t.getDefaultPlacement(r.data,s),h=function(t,n,s,r,o,a,p,c){a=i(a),p=i(p);var l,d={};function u(){if(a>=-1&&a<=1){var e=r/2-n/2,t=a*((r-240)/2-n/2);d.top=e+t}else if(a<-1&&a>=-2)l=2+a,d.top=120*l;else if(a>1&&a<=2){l=2-a;var i=Math.floor(120*l);d.top=r-i-n}}function h(){if(p>=-1&&p<=1){var e=s/2-t/2,i=p*((s-600)/2-t/2);d.left=e+i}else if(p>1&&p<=2){l=2-p;var n=Math.floor(300*l);d.left=s-n-t}else p<-1&&p>=-2&&(l=2+p,d.left=300*l)}switch(o){case"TOP_LEFT":d.top=0,d.left=0,d.bottom="auto";break;case"TOP_RIGHT":d.top=0,d.right=0,d.bottom="auto";break;case"TOP_CENTER":d.top=0,d.bottom="auto",h();break;case"CENTER_RIGHT":d.right=0,u();break;case"CENTER_LEFT":d.left=0,u();break;case"BOTTOM_LEFT":d.bottom=0,d.left=0,d.top="auto";break;case"BOTTOM_CENTER":d.bottom=0,d.top="auto",h();break;case"BOTTOM_RIGHT":default:d.bottom=0,d.right=0,d.top="auto"}return e.defaults(d,{position:c?"absolute":"fixed",top:"0",left:"0"})}(r.layout.width,r.layout.height,o,a,u,d,l,c),g=function(t,i){var n={};return i&&i>0&&e.isNumber(t.bottom)&&t.bottom<i&&(n.bottom=i),n}(h,p||0),m=e.assign(h,g);return 0===m.right&&(m.left=o-r.layout.width),0===m.bottom&&(m.top=a-r.layout.height-(p||0)),m}}}.apply(t,n))||(e.exports=s)},316:function(e,t,i){var n,s;n=[i(0),i(80),i(9),i(24)],void 0===(s=function(e,t,i,n){"use strict";return{patchTPASection:function(e,s,r,o,a,p){var c=r.height[e],l=a.isMobileView(),d=o.dataItem,u=a.getClientSpecMap()[d.applicationId],h=t.isFullPage(d,u),g=t.isFullPageDesktopOnly(d,u)&&!l,m=!a.isMesh;if(u&&(h||g)&&(m||l)){var f={position:"fixed",left:"0px",marginLeft:"0px",top:"0px",right:"0px",marginRight:"0px",bottom:"0px"};l?(c=r.height.screen-r.siteOffsetTop,f=function(e,t,i){var n=t.height.screen-t.siteOffsetTop;return e.height="".concat(n,"px"),e.minHeight="".concat(n,"px"),e.top="".concat(t.siteOffsetTop,"px"),i.isViewerMode()||(e.left=void 0,e.right=void 0),e}(f,r,a)):f.top=n.spaceCalculationsRegardingWixAds.getFirstUnoccupiedTopCoordinate(r),s.css(e,f),p&&s.css("".concat(e,"iframe"),{width:"100%",height:"100%"})}var v=r.width[e],y=a.os.ios;p&&(i.isOpen("sv_tpaMobileViewportFix",a)&&t.isCurrentPageFullResponsive(a)?s.css("".concat(e,"iframe"),{position:"fixed",height:"calc(100% - ".concat(r.siteOffsetTop,"px)"),left:0}):y&&s.css("".concat(e,"iframe"),{width:v,height:c}))}}}.apply(t,n))||(e.exports=s)},4:function(e,t){e.exports=s},5:function(e,t){e.exports=r},53:function(e,t,i){var n,s;n=[i(2),i(0),i(58),i(305)],void 0===(s=function(e,t,i,n){"use strict";function s(){return this.props.isInSSR&&this.props.isCacheable}function r(e,i){var n=this.props.compData,r=n.applicationId,o=n.widgetId;if(!e||!s.call(this)||t.isNil(r))return e;var a="".concat(t.head(t.split(e,"?")),"?"),p=i?"&":"?",c=t.get(this,"isTPAWorker",t.noop)()?"${".concat(r,".appWorkerUrl}").concat(p):"${".concat(r,".widgets.").concat(o,".widgetUrl}").concat(p);return t.replace(e,a,c)}function o(){var e,n,s=t.clone(t.get(this.props,"aspectData.queryParams",{}));return s=t.merge(s,(n=s,(e=this).mutateIframeUrlQueryParam&&(n=e.mutateIframeUrlQueryParam(n)),n)),s=t.merge(s,i.getDebuggingParamsFromUrl(this.props.currentUrl)),s=t.merge(s,this.state.sectionUrlParams),this.getEcomParams&&this.getEcomParams()&&(s["ecom-tpa-params"]=this.getEcomParams()),s}function a(){return s.call(this)?"${".concat(this.props.compData.applicationId,".instance}"):this.props.isPreviewMode&&this.props.isTemplate&&"13d21c63-b5ec-5912-8397-c3a5ddb27a97"===this.props.compData.appDefinitionId&&this.props.initialClientSpecMap&&this.props.initialClientSpecMap[this.props.compData.applicationId]?this.props.initialClientSpecMap[this.props.compData.applicationId].instance:this.state.initialInstance}function p(){return this.state.preventRefresh?this.state.externalId:this.props.compData.referenceId}return{propTypes:{id:e.santaTypesDefinitions.Component.id.isRequired,isViewerMode:e.santaTypesDefinitions.isViewerMode,isGoogleBot:e.santaTypesDefinitions.isGoogleBot,componentViewMode:e.santaTypesDefinitions.RenderFlags.componentViewMode,languageCode:e.santaTypesDefinitions.RendererModel.languageCode,compData:e.santaTypesDefinitions.Component.compData.isRequired,rootId:e.santaTypesDefinitions.Component.rootId,viewerSessionId:e.santaTypesDefinitions.viewerSessionId,currentUrl:e.santaTypesDefinitions.currentUrl.isRequired,aspectData:e.santaTypesDefinitions.TPA.data,isExperimentOpen:e.santaTypesDefinitions.isExperimentOpen,currentLanguage:e.santaTypesDefinitions.RendererModel.multilingual.currentLanguage,originalLanguage:e.santaTypesDefinitions.RendererModel.multilingual.originalLanguage,currency:e.santaTypesDefinitions.RendererModel.currency,currentCurrency:e.santaTypesDefinitions.RendererModel.multiCurrency.currentCurrency,timeZone:e.santaTypesDefinitions.RendererModel.timeZone,isInSSR:e.santaTypesDefinitions.isInSSR,isCacheable:e.santaTypesDefinitions.isCacheable,siteRevision:e.santaTypesDefinitions.PublicModel.siteRevision,isTemplate:e.santaTypesDefinitions.isTemplate,isPreviewMode:e.santaTypesDefinitions.isPreviewMode,initialClientSpecMap:e.santaTypesDefinitions.TPA.initialClientSpecMap,templateCompId:e.santaTypesDefinitions.Component.templateCompId},getInitialState:function(){this.viewMode=this.getViewMode()},getViewMode:function(){return this.props.isViewerMode?"site":this.props.componentViewMode},buildUrl:function(e,s){var c=/[?]/.test(e);e=i.appendProtocolToUrlIfNeeded(e,this.props.currentUrl);var l=this.getAppData(this),d=this.props.id,u=this.props.templateCompId||d;e=function(e,n,s){var r=e;if(t.includes(e,"{instanceId}")){var o=n.instanceId;if(!o)o=i.getInstanceFromAppData(n).instanceId;r=t.replace(r,new RegExp("{instanceId}","g"),o)}return t.includes(e,"{compId}")&&(r=t.replace(r,new RegExp("{compId}","g"),s)),r}(e,l,u);var h,g=this.state.initialHeight?this.state.initialHeight.toString():void 0,m=t.get(this.props,"currentLanguage.languageCode"),f=this.props.isViewerMode?t.get(this.props,"originalLanguage.languageCode"):t.get(this.props,"originalLanguage.code"),v=t.get(this.props,"currentLanguage.locale");m&&f&&(h=f===m);var y=new n(e);if(y.addCompId(u).addViewerCompId(d).addDeviceType(this.getDeviceType(this)).addInstance(a.call(this)).addLocale(this.props.languageCode).addViewMode(this.viewMode).addCacheKiller(i.getCacheKiller()).addExternalId(p.call(this)).addPageId(this.props.rootId).addHeight(g).filterQueryParams(s).addMultipleQueryParams(o.call(this)).addViewerSessionId(this.props.viewerSessionId).addRouterData(this.state.initialRouterData,this.props.isExperimentOpen).addLang(m).addDateNumberFormat(v).addIsPrimaryLanguage(t.toString(h)).addCurrency(this.props.currency).addTimeZone(this.props.timeZone).addSiteRevision(this.props.siteRevision).addCurrentCurrency(this.props.currentCurrency),this.mutateIframeSrc&&y.mutateIframeSrc(this.mutateIframeSrc),this.props.isInSSR){y.addCommonConfig("{{commonConfig}}"),y.addConsentPolicy("{{consentPolicy}}")}else if(this.state.commonConfig){y.addCommonConfig(this.state.commonConfig);var T=this.state.commonConfig.consentPolicyHeader;t.isEmpty(T)||y.addConsentPolicy(T["consent-policy"])}return r.call(this,y.build(),c)}}}.apply(t,n))||(e.exports=s)},54:function(e,t,i){var n,s;n=[i(2),i(0),i(6),i(144)],void 0===(s=function(e,t,i,n){"use strict";return{propTypes:{id:e.santaTypesDefinitions.Component.id.isRequired,clientSpecMap:e.santaTypesDefinitions.RendererModel.clientSpecMap.isRequired,compData:e.santaTypesDefinitions.Component.compData.isRequired,isResponsive:e.santaTypesDefinitions.RendererModel.isResponsive,isMobileView:e.santaTypesDefinitions.isMobileView,isMobileDevice:e.santaTypesDefinitions.Device.isMobileDevice.isRequired,sendPostMessage:e.santaTypesDefinitions.TPA.sendPostMessage.isRequired,windowScrollEvent:e.santaTypesDefinitions.SiteAspects.windowScrollEvent.isRequired,windowKeyboardEvent:e.santaTypesDefinitions.SiteAspects.windowKeyboardEvent.isRequired,svSessionChangeEvent:e.santaTypesDefinitions.SiteAspects.svSessionChangeEvent.isRequired,consentPolicyUpdateEvent:e.santaTypesDefinitions.SiteAspects.consentPolicyUpdateEvent.isRequired,commonConfigUpdateEvent:e.santaTypesDefinitions.SiteAspects.commonConfigUpdateEvent.isRequired,deleteCompListeners:e.santaTypesDefinitions.TPA.deleteCompListeners.isRequired,siteMetadataChangeAspect:e.santaTypesDefinitions.SiteAspects.siteMetadataChangeAspect.isRequired,tpaPageNavigationAspect:e.santaTypesDefinitions.SiteAspects.tpaPageNavigationAspect.isRequired,dynamicClientSpecMapAspect:e.santaTypesDefinitions.SiteAspects.dynamicClientSpecMapAspect.isRequired,registerToMemberDetailsChange:e.santaTypesDefinitions.SiteMembersSantaTypes.registerToMemberDetailsChange.isRequired,isExperimentOpen:e.santaTypesDefinitions.isExperimentOpen,unRegisterMemberDetailsChange:e.santaTypesDefinitions.SiteMembersSantaTypes.unRegisterMemberDetailsChange.isRequired,aspectData:e.santaTypesDefinitions.TPA.data},isEventSupported:function(e){return!!n[e]},isCompListensTo:function(e){return t.includes(this.state.registeredEvents,e)},getAppData:function(){return this.props.clientSpecMap[this.props.compData.applicationId]||{}},getDeviceType:function(){var e=(this.props.isResponsive?this.props.isMobileDevice:this.props.isMobileView)?"mobile":"desktop";if("mobile"===e)return e;var i=t.get(this.props,"aspectData.queryParams.deviceTypeForTPA");return["desktop","mobile"].includes(i)?i:e},iframeMessageQueue:[],sendPostMessage:function(e){!this.iframeLoaded&&e.waitForIFrameToLoad?this.enqueueMessage(e):this.props.sendPostMessage(this,e)},getIframe:function(){return this.refs.iframe&&i.findDOMNode(this.refs.iframe)},startListen:function(e){if(this.isEventSupported(e)&&(this.setState({registeredEvents:this.state.registeredEvents.concat(e)}),this.props))switch(e){case n.PAGE_NAVIGATION:case n.PAGE_NAVIGATION_IN:case n.PAGE_NAVIGATION_OUT:case n.PAGE_NAVIGATION_CHANGE:this.props.tpaPageNavigationAspect.registerToPageChanged(this,e);break;case n.SCROLL:this.props.windowScrollEvent.registerToScroll(this);break;case n.SESSION_CHANGED:this.props.svSessionChangeEvent.registerToSessionChanged(this);break;case n.INSTANCE_CHANGED:this.props.dynamicClientSpecMapAspect.registerToInstanceChanged(this);break;case n.MEMBER_DETAILS_UPDATED:this.props.registerToMemberDetailsChange(this);break;case n.SITE_METADATA_CHANGED:this.props.siteMetadataChangeAspect.registerToSiteMetadataChange(this);break;case n.KEY_DOWN:this.props.windowKeyboardEvent.registerToKeyDown(this);break;case n.KEY_UP:this.props.windowKeyboardEvent.registerToKeyUp(this);break;case n.COMMON_CONFIG_UPDATE:this.props.commonConfigUpdateEvent.registerToCommonConfigUpdated(this);break;case n.CONSENT_POLICY_UPDATE:this.props.consentPolicyUpdateEvent.registerToConsentPolicyUpdated(this)}},stopListen:function(e){if(this.setState({registeredEvents:t.without(this.state.registeredEvents,e)}),this.props)switch(e){case n.PAGE_NAVIGATION:case n.PAGE_NAVIGATION_IN:case n.PAGE_NAVIGATION_OUT:case n.PAGE_NAVIGATION_CHANGE:this.props.tpaPageNavigationAspect.unregisterToPageChanged(this);break;case n.SCROLL:this.props.windowScrollEvent.unregisterToScroll(this,e);break;case n.SESSION_CHANGED:this.props.svSessionChangeEvent.unRegisterToSessionChanged(this);break;case n.INSTANCE_CHANGED:this.props.dynamicClientSpecMapAspect.unRegisterToInstanceChanged(this);break;case n.MEMBER_DETAILS_UPDATED:this.props.unRegisterMemberDetailsChange(this);break;case n.SITE_METADATA_CHANGED:this.props.siteMetadataChangeAspect.unRegisterToSiteMetadataChange(this);break;case n.KEY_DOWN:this.props.windowKeyboardEvent.unRegisterKeyDown(this);break;case n.KEY_UP:this.props.windowKeyboardEvent.unRegisterKeyUp(this);break;case n.COMMON_CONFIG_UPDATE:this.props.commonConfigUpdateEvent.unRegisterToCommonConfigUpdated(this);break;case n.CONSENT_POLICY_UPDATE:this.props.consentPolicyUpdateEvent.unRegisterToConsentPolicyUpdated(this)}},setSiteMemberDataState:function(e){this.setState({shouldGetSiteMemberDetails:e})},hasOrigComponent:function(){return!t.isUndefined(this.props.compData.origCompId)},getPageId:function(){return this.props.pageId},componentDidMount:function(){var e=this,t=this.getIframe();t&&t.addEventListener("load",(function(){e.iframeLoaded=!0,e.flushMessageQueue()}))},enqueueMessage:function(e){this.iframeMessageQueue.push(e)},flushMessageQueue:function(){var e=this;this.iframeMessageQueue.forEach((function(t){return e.sendPostMessage(t)})),this.iframeMessageQueue=[]},componentWillUnmount:function(){var e=this.props.id,i=this.getAppData().appDefinitionId;this.props.deleteCompListeners(i,e),t.forEach(t.get(this.state,"registeredEvents",[]),function(e){this.stopListen(e)}.bind(this))}}}.apply(t,n))||(e.exports=s)},58:function(e,t,i){var n,s;n=[i(0),i(1)],void 0===(s=function(e,t){"use strict";var i={AUTOPLAY:"autoplay",CAMERA:"camera",MICROPHONE:"microphone",LOCATION:"geolocation",VR:"vr"},n=["localhost","s3.amazonaws.com/integration-tests-statics","sled.wix.dev","wix.com","www.wix.com","static.parastorage.com"],s=function(t,i){var n=t.getComponentById(i),s=e.get(n,"props.compData");return n&&s&&t.getSiteData().getClientSpecMapEntry(s.applicationId)},r=function(e){return e.getSiteData().getClientSpecMap()},o=function(e){var t=e&&e.instance.split(".")[1];return t&&JSON.parse(window.atob(t))},a=0,p=function(){0===a&&(a=1e3)},c=function(t){return n.some((function(i){return e.startsWith(t,"https://".concat(i))||e.startsWith(t,"http://".concat(i))}))};return{Constants:{TPA_PUB_SUB_PREFIX:"TPA_PUB_SUB_",MULTI_SECTION_DELIMITER:"$TPA$",TOP_PAGE_ANCHOR_PREFIX:"TOP_PAGE_",ECOM:{APP_DEF_ID:"1380b703-ce81-ff05-f115-39571d94dfcd",PRODUCT_PAGE_WIDGET_ID:"13a94f09-2766-3c40-4a32-8edb5acdd8bc",GALLERY_WIDGET_ID:"1380bba0-253e-a800-a235-88821cf3f8a4",GRID_GALLERY_WIDGET_ID:"13afb094-84f9-739f-44fd-78d036adb028",CART_ICON_WIDGET_ID:"1380bbc4-1485-9d44-4616-92e36b1ead6b"},SOCIAL_BLOG:{APP_DEF_ID:"14bcded7-0066-7c35-14d7-466cb3f09103",SOCIAL_BLOG_WIDGET_ID:"14c1462a-97f2-9f6a-7bb7-f5541f23caa6",CUSTOM_FEED_WIDGET_ID:"14e5b39b-6d47-99c3-3ee5-cee1c2574c89"}},getCacheKiller:t.urlUtils.persistentCacheKiller,getAppData:s,getAppDataByAppDefinitionId:function(t,i){var n=r(t);return e.find(n,{appDefinitionId:i})},getAppDefId:function(e,t){var i=s(e,t);return i?i.appDefinitionId:null},stripPubSubPrefix:function(e){var t=new RegExp("^".concat("TPA_PUB_SUB_"));return e.replace(t,"")},addPubSubEventPrefix:function(e){return"TPA_PUB_SUB_".concat(e)},isTPASection:function(t){var i=e.get(t,"props.structure.componentType")||e.get(t,"componentType");return"wysiwyg.viewer.components.tpapps.TPASection"===i||"wysiwyg.viewer.components.tpapps.TPAMultiSection"===i},isGluedWidget:function(t){return"wysiwyg.viewer.components.tpapps.TPAGluedWidget"===(e.get(t,"props.structure.componentType")||e.get(t,"componentType"))},sdkVersionIsAtLeast:function(t,i){t=t||"0.0.0",i=i||"1.41.0";var n=e.map(t.split("."),(function(e){return parseInt(e,10)})),s=e.map(i.split("."),(function(e){return parseInt(e,10)}));return 3===n.length&&3===s.length&&(n[0]>=s[0]&&n[1]>=s[1]&&n[2]>=s[2])},getVisitorUuid:function(t){var i=t.cookieUtils.getCookie("_wixUIDX")||"";return i=(i=i.slice(e.lastIndexOf(i,"|")+1)).replace(/^(null-user-id|null)$/g,"")},getInstanceFromClientSpecMap:function(e,t){return o(e[t])},getInstanceFromAppData:o,getClientSpecMap:r,incAppCounter:function(){++a},decAppCounter:function(e,t){--a,p(e,t)},reportAppCounter:p,isPageMarkedAsHideFromMenu:function(t,i){if(t&&i){e.includes(i,"$TPA$")&&(i=i.substr(0,i.indexOf("$TPA$")));var n=e.find(t.widgets,(function(t){return e.get(t,"appPage.id")===i}));return!!n&&e.get(n,"appPage.hideFromMenu")}return!1},getDebuggingParamsFromUrl:function(t){var i={},n=e.get(t,"query.petri_ovr");n&&(i.petri_ovr=n);var s=e.get(t,"query.debugApp");return s&&(i.debugApp=s),i},appendProtocolToUrlIfNeeded:function(i,n){if(!/^https?/.test(i)){var s=e.get(n,"protocol","http:");return t.urlUtils.addProtocolIfMissing(i,s)}return i},getIFramePermissions:function(){return e(i).values().join("; ")},getTpaOverrideMap:function(t,i){return function(e){var t,i={},n=/,?([^=]+)=([^=]+)(?=,|$)/g;do{if((t=n.exec(e))&&t.length>2){var s=t[1].trim(),r=t[2].trim();c(r)&&(i[s]=r)}}while(t);return i}(e.get(t,"query.".concat(i||""),""))},isBlog:function(e){return"14bcded7-0066-7c35-14d7-466cb3f09103"===e.getAppData().appDefinitionId},isEcom:function(e){return"1380b703-ce81-ff05-f115-39571d94dfcd"===e.getAppData().appDefinitionId}}}.apply(t,n))||(e.exports=s)},6:function(e,t){e.exports=o},65:function(e,t,i){var n,s;n=[i(7),i(3),i(4),i(0),i(6),i(2),i(8),i(143),i(302),i(80),i(58),i(303),i(304)],void 0===(s=function(e,t,i,n,s,r,o,a,p,c,l,d,u){"use strict";var h=r.santaTypesDefinitions,g=h.Component,m=o.tpaWarmup,f={mobile:"unavailableInMobile",https:"unavailableInHttps"},v="notInClientSpecMap",y="unresponsive",T="preloader",S=function(e,t){var i={charCode:e.charCode,keyCode:e.keyCode};this.sendPostMessage({intent:"addEventListener",eventType:t,params:i})},w=function(e){return!e.rootId||n.includes(e.getRootIdsWhichShouldBeRendered(),e.rootId)},I=function(e){var t=e.getClientSpecMapEntry(e.compData.applicationId);return n.includes(a.PERMITTED_FULL_SCREEN_TPAS_IN_MOBILE,n.get(t,"appDefinitionId"))};return{propTypes:{pageStub:g.pageStub,isMobileView:h.isMobileView,formFactor:h.NativeComponentSantaTypes.formFactor.isRequired,isViewerMode:h.isViewerMode,currentUrl:h.currentUrl.isRequired,compData:g.compData.isRequired,style:g.style.isRequired,id:g.id.isRequired,isClientAfterSSR:h.isClientAfterSSR,isFirstRenderAfterSSR:h.isFirstRenderAfterSSR,getMemberDetails:h.SiteMembersSantaTypes.getMemberDetails.isRequired,windowResizeEvent:h.SiteAspects.windowResizeEvent.isRequired,reportBI:h.reportBI.isRequired,biData:h.biData.isRequired,compProp:g.compProp,getCommonConfig:h.CommonConfig.getAll,primaryPageId:h.primaryPageId.isRequired,getRootIdsWhichShouldBeRendered:h.getRootIdsWhichShouldBeRendered,reportBeatEvent:h.reportBeatEvent.isRequired,santaBase:h.santaBase.isRequired,getClientSpecMapEntry:h.getClientSpecMapEntry.isRequired,dynamicClientSpecMapAspect:h.SiteAspects.dynamicClientSpecMapAspect.isRequired,clientSpecMap:h.RendererModel.clientSpecMap.isRequired,languageCode:h.RendererModel.languageCode,pageId:g.pageId,browser:r.santaTypesDefinitions.Browser.browser,ios:r.santaTypesDefinitions.BrowserFlags.ios.isRequired,wixTopAdsHeight:r.santaTypesDefinitions.WixAds.wixTopAdsHeight,isResponsive:r.santaTypesDefinitions.RendererModel.isResponsive,rootId:g.rootId,structure:g.structure,tpaComponentsDomAspect:h.SiteAspects.tpaComponentsDomAspect.isRequired,isHorizontallyDocked:g.isHorizontallyDocked,isTpaRenderedInSsr:h.isTpaRenderedInSsr,isExperimentOpen:h.isExperimentOpen,getExistingRootNavigationInfo:h.getExistingRootNavigationInfo.isRequired,currentUrlPageId:g.currentUrlPageId.isRequired,shouldRenderTPAsIframe:h.RenderFlags.shouldRenderTPAsIframe.isRequired,loadingTranslation:h.TPA.loadingTranslation},getDefaultProps:function(){return{shouldRenderTPAsIframe:!0}},mixins:[t.mixins.createChildComponentMixin,u],ALIVE_TIMEOUT:2e4,OVERLAY_GRACE:5e3,statics:{compSpecificIsDomOnlyOverride:function(){return!1}},getCompMinHeight:function(e){if(this.isUnderMobileView()){var t=e.getClientSpecMapEntry(e.compData.applicationId),i=this.getWidgetId(),s=n.get(t,["widgets",i,"componentFields","minHeightInMobile"]);return s&&n.isNumber(s)?s:void 0}},onKeyDown:function(e){w(this.props)&&S.call(this,e,"KEY_DOWN")},onKeyUp:function(e){w(this.props)&&S.call(this,e,"KEY_UP")},isUnderMobileView:function(){var e=this.props.isExperimentOpen("se_full_screen_by_form_factor_on_editorx")?"Mobile"===this.props.formFactor:this.props.isMobileDevice;return this.props.isResponsive?e:this.props.isMobileView},getEcomParams:function(){return"1380b703-ce81-ff05-f115-39571d94dfcd"===this.getAppData().appDefinitionId&&this.props.currentUrl.query["ecom-tpa-params"]},_createOverlayChildComponent:function(e,t,i,s){return s=s||{},this.createChildComponent(n.merge(s,{id:i,style:this.props.style,overlay:t,applicationId:this.props.compData.applicationId,hideOverlayFunc:this._hideOverlay,reloadFunc:this._reload,compData:this.props.compData,languageCode:this.props.languageCode,santaBase:this.props.santaBase,getClientSpecMapEntry:this.props.getClientSpecMapEntry}),e,i,{})},_hideOverlay:function(){this.setState({showOverlay:!1})},_getUnresponsiveText:function(){return this.isUnderMobileView()?"Can't see the content? ":"To view this content, click "},_getReloadext:function(){return this.isUnderMobileView()?"Tap to reload.":"reload."},_createOverlay:function(e){if(!e)return null;switch(e){case T:return this._createOverlayChildComponent("wysiwyg.viewer.components.tpapps.TPAPreloaderOverlay",e,"preloaderOverlay");case y:var t={text:this._getUnresponsiveText(),reload:this._getReloadext()};return this._createOverlayChildComponent("wysiwyg.viewer.components.tpapps.TPAUnavailableMessageOverlay",e,"unavailableMessageOverlay",t);case f.https:return this._createOverlayChildComponent("wysiwyg.viewer.components.tpapps.TPAUnavailableMessageOverlay",e,"unavailableMessageOverlay",{text:"We're sorry, this content cannot be displayed."});case f.mobile:return this._createOverlayChildComponent("wysiwyg.viewer.components.tpapps.TPAUnavailableMessageOverlay",e,"unavailableMessageOverlay",{text:"We're sorry, this content is currently not optimized for mobile view."});case v:return this._createOverlayChildComponent("wysiwyg.viewer.components.tpapps.TPAUnavailableMessageOverlay",e,"unavailableMessageOverlay");default:return null}},_getWidgetName:function(){var e=this.props.compData,t=e&&e.widgetId,i=this.getAppData(),s=i.widgets,r=i.appDefinitionName,o=s&&s[t];return n.get(o,"appPage.name",r)},getCompHeight:function(){var e=this.state,t=this.props.style;if(e.ignoreAnchors)return t.height;var i=n.result(this,"isZeroHeightAllowed",!1),s=n.isUndefined(e.height)?t.height:e.height;return 0!==s||i?s:t.height},getCompWidth:function(){var e=this.state.width;return n.isUndefined(e)?this.props.style.width:e},getCommonStyle:function(){var e=this.getCompMinHeight(this.props),t=this.getCompHeight(),i=this.getCompWidth();return{width:i,height:t,minHeight:e?Math.max(e,t):t,minWidth:i}},componentDidUpdate:function(){var e=this;this.isUnderMobileView()&&this.state.isMobileFullScreenMode&&this.props.isResponsive&&this.props.isExperimentOpen("allow_full_screen_on_mobile_devices")&&(this.props.browser.safari||this.props.ios())&&(this.refs[""].style.left="-1px",requestAnimationFrame((function(){e.refs[""].style.left="0px"})))},getCompRootStyle:function(e){var t=this.state,i=this.props;if(this.isUnderMobileView()){if(t.isMobileFullScreenMode){var s={display:"block"};return i.isResponsive&&i.isExperimentOpen("allow_full_screen_on_mobile_devices")&&(s=this.props.browser.safari||this.props.ios()?{display:"block",position:"relative",margin:"0",top:-1*this.props.wixTopAdsHeight,height:"calc(100% + ".concat(this.props.wixTopAdsHeight,"px)"),width:"100vw",left:"0"}:{display:"block",position:"fixed",zIndex:2e3,margin:"0",top:"0",left:"0",width:"100vw",bottom:"0"}),s}if(I(this.props))return i.isResponsive&&i.isExperimentOpen("allow_full_screen_on_mobile_devices")?this.state.width&&this.state.height?{position:"relative",justifySelf:"end",alignSelf:"end",width:this.state.width,height:this.state.height}:{}:{display:"none"}}return t&&(t.isAlive||t.overlay===T||t.overlay===y||t.overlay===f.mobile)&&(t.visibility="visible"),e=n.assign({},e,{overflow:this.state.ignoreAnchors?"visible":"hidden",visibility:"hidden"===this.state.visibility?"hidden":""},this.getCommonStyle()),this.props.isHorizontallyDocked&&(e=n.omit(e,["width","minWidth"])),e},shouldRenderIframe:function(){if(!1===this.props.shouldRenderTPAsIframe)return!1;var e=this.state.overlay,t=!n.includes(f,e)&&!(e===y)&&this.isCompInClientSpecMap();return t},allowScrolling:function(){var e=this.props,t=this.getAppData();return c.isFullPage(e.compData,t)||c.isFullPageDesktopOnly(e.compData,t)&&!e.isMobileView?"yes":"no"},getIframeDimensions:function(){var e=this.state;if(e.isMobileFullScreenMode)return{width:"100%",height:"100%"};var t={};return this.props.isHorizontallyDocked&&(t.width="100%"),e.height&&(e.ignoreAnchors||this.props.isResponsive)&&(t.height=e.height),t},shouldRenderIframeWithSrc:function(){return this.props.isExperimentOpen("sv_renderIframeSrcInSsr")},_getIframeProperties:function(){if(!this.shouldRenderIframe())return null;var e=this._shouldShowIframe(this.state),t=this.buildUrl(this.getBaseUrl()),i=this._getWidgetName(),s={"data-src":t,key:t,scrolling:this.allowScrolling(),frameBorder:"0",allow:l.getIFramePermissions(),allowtransparency:"true",allowFullScreen:!0,name:this.props.id,style:n.assign(this.getCommonStyle(),this.getIframeDimensions(),{display:e?"block":"none",position:this.props.isResponsive?"relative":"absolute",zIndex:this.state.ignoreAnchors?1001:""}),title:i,"aria-label":i};return this.shouldRenderIframeWithSrc()&&(n.unset(s,"data-src"),s.src=t),s},getSkinProperties:function(){var e=this._createOverlay(this.state.overlay),t=this.getCompRootStyle(this.props.style),i=this._getIframeProperties(),s={"":{style:t,"data-ignore-anchors":this.state.ignoreAnchors,"data-has-iframe":!!i,"data-src":i?i["data-src"]:null,tagName:i?"wix-iframe":"div"},overlay:this.state.showOverlay&&this.isNotWorker()?e:null,iframe:i||"remove"};if(i){var r=this.getAppData();s[""]["data-is-tpa"]=!0,s[""]["data-widget-id"]=this.getWidgetId(),s[""]["data-app-definition-id"]=n.get(r,"appDefinitionId")}return this.checkIfNeedToSendMemberData(),this.mutateSkinProperties&&(s=this.mutateSkinProperties(s)),s},_reload:function(){var e=this;this._clearAliveTimeout(),clearTimeout(this.showOverlyIntervalId),this.showOverlyIntervalId=setTimeout((function(){e._showOverlayIfNeeded()}),this.OVERLAY_GRACE),this._appAliveTimeout=setTimeout(this._onAppAliveTimeoutExpires,this.ALIVE_TIMEOUT);var t=this.getAppData()||{},i=t.appDefinitionId,n=t.appDefinitionName;this.props.reportBI(d.RELOAD_TPA_CLICK,{appDefinitionId:i,appName:n}),this.registerReLayout(),this.setState(this.getInitialState())},checkIfNeedToSendMemberData:function(){var e=this.state.shouldGetSiteMemberDetails;if(e){var t=this.props.getMemberDetails();t&&e.callback({authResponse:!0,data:t})}},getInitialState:function(){var e;this.isNotWorker()||(e={widgetName:"worker"});var t=this.props;!t.isFirstRenderAfterSSR&&this.shouldRenderIframeWithSrc()&&this.reportPerformanceBiEvent(m.events.APP_IFRAME_START_LOADING,e),this.urlState="";var i={visibility:"hidden",overlay:this.isUnderMobileView()&&this.isMobileReady&&!this.isMobileReady()?f.mobile:null,isAlive:!1,registeredEvents:[],showOverlay:!0,commonConfig:n.cloneDeep(t.getCommonConfig()),initialWidth:t.style.width,initialHeight:t.style.height,initialInstance:t.dynamicClientSpecMapAspect.getAppInstance(t.compData.applicationId)||this.getAppData(this).instance,initialRouterData:n.get(t.getExistingRootNavigationInfo(t.currentUrlPageId),"routerPublicData"),externalId:t.compData.referenceId};return this.shouldUpdateInitialRouterData=!0,this.mutateInitialState&&(i=this.mutateInitialState(i)),i},isCompInClientSpecMap:function(){var e=this.props||{},t=e.clientSpecMap,i=e.compData;if(!t)return!1;var n=(i||{}).applicationId;return!!n&&!!t[n]},_showOverlayIfNeeded:function(){var e=this.isCompInClientSpecMap(),t=(this.props||{}).isViewerMode,i=this.state;i&&!1===i.isAlive&&(!i.overlay&&e||!e&&!t)&&this._isMounted&&this.setState({overlay:this._getInitialOverlay(),visibility:"visible"})},_shouldShowIframe:function(e){var t=this.props;return!(t&&t.compProp&&t.compProp.isHidden)&&(!e.overlay||"preloader"===e.overlay)},_getInitialOverlay:function(){return this.isMobileReady&&this.isUnderMobileView()&&!this.isMobileReady()?f.mobile:this.isCompInClientSpecMap()?T:v},componentSpecificShouldUpdate:function(e){return!e.pageStub},handleExternalIdStateUpdate:function(e){!this.state.preventRefresh&&this.state.externalId!==e.compData.referenceId&&this.setState({externalId:e.compData.referenceId})},componentWillReceiveProps:function(e){this.handleExternalIdStateUpdate(e);var t=this.props,i=n.get(t.getExistingRootNavigationInfo(e.currentUrlPageId),"routerPublicData");"masterPage"!==t.rootId||!this.shouldUpdateInitialRouterData||n.isUndefined(i)||n.isEqual(this.state.initialRouterData,i)||(this.setState({initialRouterData:i}),this.shouldUpdateInitialRouterData=!1),this.resize&&this.resize(e);var s=n.get(t.clientSpecMap,[t.compData.applicationId,"instance"]),r=n.get(e.clientSpecMap,[t.compData.applicationId,"instance"]);s!==r&&this.setState({initialInstance:r})},componentWillMount:function(){this.props.windowResizeEvent.registerToResize(this)},componentDidMount:function(){this._isMounted=!0,this.props.shouldRenderTPAsIframe&&this.startTPAPendingPhase()},startTPAPendingPhase:function(){var e=this,t=this.state.overlay;this.isNotWorker()&&(this.showOverlyIntervalId=setTimeout((function(){e._showOverlayIfNeeded()}),this.OVERLAY_GRACE),this.props.isViewerMode||this.setOverlayState&&this.setOverlayState()),this.state.isAlive||n.includes(f,t)||!this.isNotWorker()||(this._appAliveTimeout=setTimeout(this._onAppAliveTimeoutExpires,this.ALIVE_TIMEOUT),l.incAppCounter())},isNotWorker:function(){return!this.isTPAWorker||!this.isTPAWorker()},_onAppAliveTimeoutExpires:function(){this.showUnresponsiveOverlay()},showUnresponsiveOverlay:function(){this._isMounted&&!this.state.isAlive&&this.isCompInClientSpecMap()&&this.setState({overlay:y,visibility:"visible"},function(){this.reportBIAppNotResponsive()}.bind(this))},reportBIAppNotResponsive:function(){var e=this.props.compData.widgetId,t=this.getAppData(),i=n.get(t.widgets,e),s=this.props.biData,r={endpoint:n.get(i,"widgetUrl"),app_id:n.get(t,"appDefinitionId"),pageNo:s.getPageNumber(),totalLoadingTime:s.getTime().totalLoadingTime};this.props.reportBI(p.APP_IS_NOT_RESPONSIVE,r)},componentWillUnmount:function(){this._isMounted=!1,this._clearAliveTimeout(),clearTimeout(this.showOverlyIntervalId)},_clearAliveTimeout:function(){this._appAliveTimeout&&(window.clearTimeout(this._appAliveTimeout),this._appAliveTimeout=0,this.props&&l.decAppCounter(this.props.reportBeatEvent,this.props.primaryPageId))},setAppIsAlive:function(e){this.props.isClientAfterSSR&&this.props.isTpaRenderedInSsr||this.reportPerformanceBiEvent(m.events.APP_SDK_START_LOADING),this._clearAliveTimeout(),this.setState({isAlive:!0,overlay:this.state.overlay===T?null:this.state.overlay},(function(){this.props.tpaComponentsDomAspect.markComponentIsAlive(this.props.id),e&&e()}))},_isUrlSecure:function(e){return/^https/.test(e)},getTPAOverrideUrl:function(e,t){return l.getTpaOverrideMap(this.props.currentUrl,e)[t]},getWidgetId:function(){return n.get(this.props,"compData.widgetId")},reportPerformanceBiEvent:function(e,t){var i=this.getAppData(),n=this.getWidgetId();m.reportPerformanceBiEvent(e,this.props.reportBI,this.props.biData,this.props.id,this.props.isTpaRenderedInSsr,i,n,t)},enterFullScreen:function(e){I(this.props)&&this.setState({isMobileFullScreenMode:!0},e)},exitFullScreen:function(e){this.setState({isMobileFullScreenMode:!1},e)}}}.apply(t,n))||(e.exports=s)},66:function(e,t,i){var n,s;n=[i(0)],void 0===(s=function(e){"use strict";var t=/^[0-9]+%$/;function i(i){return e.isNumber(i)&&i>=0||function(e){return t.test(e)}(i)}return{resizeWindow:function(e,t,n){var s=!1,r={};i(t)&&t!==this.state.height&&(r.height=t,s=!0),i(e)&&e!==this.state.width&&(r.width=e,s=!0),s&&(this.registerReLayout(),this.setState(r,n))}}}.apply(t,n))||(e.exports=s)},7:function(e,t){e.exports=a},8:function(e,t){e.exports=p},80:function(e,t,i){var n,s;n=[i(0),i(1),i(58)],void 0===(s=function(e,t,i){"use strict";var n=function(t,i,n){var s=t.getClientSpecMap()[i];if(s){var r=e.find(s.widgets,(function(e){return e.appPage&&e.appPage.id===n}));if(r)return r.shouldBeStretchedByDefaultMobile||r.appPage.landingPageInMobile||r.appPage.fullPage}return!1};return{getAppDataByAppDefinitionId:function(t,i){var n=t.getClientSpecMap();return e.find(n,{appDefinitionId:i})},isSuperAppByCompId:function(e,t){var n=i.getAppData(e,t);return n&&n.isWixTPA},isCurrentPageFullResponsive:function(e){return e.isMobileDevice()&&e.isMobileView()&&!!function(e){var t=e.getCurrentUrlPageId(),i=e.getDataByQuery(t);return!!(i&&"Page"===i.type&&i.tpaApplicationId>0)&&n(e,i.tpaApplicationId,i.tpaPageId)}(e)},getWidgetDataByTpaPageId:function(t,i){var n=(t||{}).widgets;return e.find(n,(function(t){return e.get(t,"appPage.id")===i}))},isFullPage:function(t,i){if(i){var n=(t||{}).widgetId,s=e.get(i.widgets,n);return e.get(s,"appPage.fullPage",!1)}return!1},isFullPageDesktopOnly:function(t,i){if(i){var n=(t||{}).widgetId,s=e.get(i.widgets,n);return e.get(s,"componentFields.fullPageDesktopOnly",!1)}return!1},getNativeComponentUrl:function(i,n,s){var r=i.getClientSpecMap(),o=i.getQueryParams(),a=i.serviceTopology.staticServerUrl,p=t.scriptsOverridesService.getWidgetsOverride(o);if(p){var c=t.scriptsOverridesService.getUrlOverrideForWidget(s,p,a);if(c)return c}var l=e.get(r[n].widgets[s],"componentFields.componentUrl");return l?e.endsWith(l,".js")?l:"".concat(l,".js"):null}}}.apply(t,n))||(e.exports=s)},9:function(e,t){e.exports=c}})}));
//# sourceMappingURL=tpaComponents.min.js.map