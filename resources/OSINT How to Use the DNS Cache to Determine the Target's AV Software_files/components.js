define("components",["lodash","coreUtils","santa-components","componentsCore","prop-types","skins","reactDOM","zepto","santa-core-utils","create-react-class","image-client-api","textCommon","backgroundCommon","santa-animations","galleriesCommon","displayer","imageZoom","comboBoxInput"],(function(e,t,i,n,s,o,a,r,p,l,c,d,u,h,m,g,y,f){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=428)}({0:function(t,i){t.exports=e},1:function(e,i){e.exports=t},10:function(e,t){e.exports=p},122:function(e,t,i){var n,s;n=[i(0),i(1),i(91),i(434),i(435)],void 0===(s=function(e,t,i,n,s){"use strict";var o=t.mediaConsts;return{balata:i,defaultMediaStyle:o.defaultMediaStyle,popupMediaStyle:o.popupMediaStyle,mediaLogicMixins:{fill:n,mediaPlayer:s},mediaBehaviors:{fill:{play:{methodName:"playMedia",params:[{name:"time",defaultValue:-1}]},playPreview:{methodName:"playPreview"},pause:{methodName:"pauseMedia",params:[{name:"time",defaultValue:-1}]},stop:{methodName:"stopMedia"},stopPreview:{methodName:"stopPreviewMedia"}},mediaPlayer:{togglePlay:{methodName:"togglePlayMedia"},play:{methodName:"playMedia",params:[{name:"time",defaultValue:-1}]},playPreview:{methodName:"previewMedia"},pause:{methodName:"pauseMedia",params:[{name:"time",defaultValue:-1}]},stop:{methodName:"stopMedia"},stopPreview:{methodName:"stopPreviewMedia"},setVolume:{methodName:"setMediaVolume",params:["volume"]},mute:{methodName:"muteMedia"},unMute:{methodName:"unMuteMedia"},seek:{methodName:"seekMedia",params:["time"]},seekStart:{methodName:"startSeekMedia"},seekEnd:{methodName:"endSeekMedia",params:["time"]},enterFullScreen:{methodName:"enterFullscreen"},exitFullScreen:{methodName:"exitFullscreen"}}}}}.apply(t,n))||(e.exports=s)},13:function(e,t){e.exports=l},181:function(e,t,i){var n,s;n=[i(0),i(2),i(4),i(3),i(6)],void 0===(s=function(e,t,i,n,s){"use strict";var o={displayName:"MenuButton",propTypes:{isMobileView:t.santaTypesDefinitions.isMobileView,isMobileDevice:t.santaTypesDefinitions.Device.isMobileDevice,isTabletDevice:t.santaTypesDefinitions.Device.isTabletDevice,compProp:t.santaTypesDefinitions.Component.compProp,compData:t.santaTypesDefinitions.Component.compData,style:t.santaTypesDefinitions.Component.style,refInParent:i.string.isRequired,isContainer:i.bool,isSelected:i.bool,display:i.string,positionInList:i.string,dir:i.string,mouseEnterHandler:i.func.isRequired,mouseLeaveHandler:i.func.isRequired,onMouseClick:i.func.isRequired,isDropDownButton:i.bool,parentId:i.string},mixins:[n.mixins.skinBasedComp,n.mixins.skinInfo],getInitialState:function(){return{$container:this.props.isContainer?"drop":"menu",$selected:this.props.isSelected?"selected":"",$state:"idle",$type:this.props.compData.link?"link":"header",$mobile:this.props.isMobileDevice||this.props.isMobileView||this.props.isTabletDevice()?"mobile":"notMobile"}},componentWillReceiveProps:function(e){this.setState({$selected:e.isSelected?"selected":""})},getSkinProperties:function(){var i,s=this.props.compData,o=this.props.compProp.alignText,a={parentConst:t.utils.createReactElement.bind(null,"a"),onClick:this.onMouseClick,"data-listposition":this.props.positionInList,tabIndex:s.link?void 0:"0"};return this.props.isDropDownButton||e.assign(a,{"aria-haspopup":this.props["aria-haspopup"]}),"mobile"!==this.state.$mobile&&e.assign(a,{onMouseEnter:this.openSubMenu,onMouseLeave:this.closeSubMenu,onFocus:this.openSubMenu,onBlur:this.closeSubMenu,onKeyDown:n.utils.accessibility.keyboardInteractions.activateBySpaceButton}),"__more__"===this.props.refInParent&&e.assign(a,{tabIndex:0}),s.link&&e.merge(a,s.link.render),{"":{tagName:this.props.tagName||"div","data-direction":this.props.direction,"data-listposition":this.props.positionInList,"data-parent-id":this.props.parentId,"data-data-id":this.props.dataId},linkElement:a,bg:{style:{textAlign:o}},label:{children:(i=s.label,(i=i&&i.trim())||"Â "),dir:this.props.dir,style:{textAlign:o}}}},openSubMenu:function(){(this.props.compData.link||"__more__"===this.props.refInParent)&&this.setState({$state:"over"});var e=s.findDOMNode(this);this.props.mouseEnterHandler(this.props.refInParent,e.getAttribute("data-listposition"))},closeSubMenu:function(){this.props.isDropDownButton&&this.setIdleState(),this.props.mouseLeaveHandler(this.props.refInParent)},onMouseClick:function(e){"notMobile"!==this.state.$mobile&&this.props.onMouseClick(e,this.props.refInParent,this.props.isDropDownButton)},setIdleState:function(){this.setState({$state:"idle"})}};return n.compRegistrar.register("core.components.MenuButton",o),o}.apply(t,n))||(e.exports=s)},182:function(e,t,i){var n,s;n=[i(0),i(1),i(3)],void 0===(s=function(e,t,i){"use strict";return{registerCommonLanguageRequirement:function(n,s){i.dataRequirementsCheckerRegistrar.registerCheckerForCompType(n,(function(i,o){var a=s(i,o);return e.compact([t.translationsLoader.getRequest(i,a,{initiator:n})])}))}}}.apply(t,n))||(e.exports=s)},2:function(e,t){e.exports=i},21:function(e,t){e.exports=c},25:function(e,t){e.exports=d},3:function(e,t){e.exports=n},4:function(e,t){e.exports=s},428:function(e,t,i){var n,s;n=[i(0),i(3),i(2),i(5),i(69),i(429),i(430),i(91),i(431),i(433),i(122),i(182),i(436),i(437),i(438),i(440),i(443),i(445),i(446),i(447),i(448),i(449),i(450),i(453),i(181),i(455),i(60),i(46)],void 0===(s=function(e,t,i,n,s,o,a,r,p,l,c,d,u){"use strict";t.compRegistrar.register(i.components.MasterPage.compType,i.components.MasterPage),t.compRegistrar.register(i.components.HeaderContainer.compType,i.components.HeaderContainer),t.compRegistrar.register(i.components.FooterContainer.compType,i.components.FooterContainer),t.compRegistrar.register(i.components.Video.compType,i.components.Video),t.compRegistrar.register(i.components.FiveGridLine.compType,i.components.FiveGridLine),t.compRegistrar.register(i.components.VerticalLine.compType,i.components.VerticalLine),t.compRegistrar.register(i.components.Anchor.compType,i.components.Anchor),t.compRegistrar.register(i.components.Image.compType,i.components.Image),t.compRegistrar.register(i.components.ZoomedImage.compType,i.components.ZoomedImage),t.compRegistrar.register(i.components.ScreenWidthContainer.compType,i.components.ScreenWidthContainer),t.compRegistrar.register(i.components.PagesContainer.compType,i.components.PagesContainer),t.compRegistrar.register(i.components.PageGroup.compType,i.components.PageGroup),t.compRegistrar.register("wysiwyg.components.imageZoom",s.imageZoom),t.compRegistrar.register("wysiwyg.components.ImageZoomDisplayer",s.imageZoomDisplayer),t.compRegistrar.register("wysiwyg.viewer.components.MediaZoom",s.mediaZoom),t.compRegistrar.register("wysiwyg.viewer.components.MobileMediaZoom",s.mobileMediaZoom),t.compRegistrar.register("wysiwyg.viewer.components.TouchMediaZoom",s.touchMediaZoom),t.compRegistrar.register(i.components.SiteButton.compType,i.components.SiteButton),t.compRegistrar.register(i.components.WRichText.compType,i.components.WRichText),t.compRegistrar.register("wysiwyg.viewer.components.TouchMediaZoomItem",s.touchMediaZoomItem),t.compRegistrar.register(i.components.LegacyContainer.compType,i.components.LegacyContainer),t.compRegistrar.register("wysiwyg.viewer.components.VerticalRepeater",i.components.LegacyContainer),t.compRegistrar.register("wysiwyg.viewer.components.WSiteStructure",i.components.LegacyContainer),t.compRegistrar.register("wysiwyg.viewer.components.ScriptClassForBolt",l),t.compRegistrar.register(i.components.Container.compType,i.components.Container),t.compRegistrar.register(i.components.ThemeRenderer.compType,i.components.ThemeRenderer),t.compRegistrar.register(i.components.AppWidget.compType,i.components.AppWidget),t.compRegistrar.register(i.components.FormContainer.compType,i.components.FormContainer),t.compRegistrar.register(i.components.GroupContainer.compType,i.components.GroupContainer),t.compRegistrar.register(i.components.WPhoto.compType,i.components.WPhoto),t.compRegistrar.register("wysiwyg.viewer.components.ClipArt",i.components.ClipArt),t.compRegistrar.register(i.components.RefComponent.compType,i.components.RefComponent),t.compRegistrar.register(i.components.Section.compType,i.components.Section),t.compRegistrar.register(i.components.HeaderSection.compType,i.components.HeaderSection),t.compRegistrar.register(i.components.FooterSection.compType,i.components.FooterSection),t.compRegistrar.register(i.components.MembersAreaSection.compType,i.components.MembersAreaSection);var h=e.filter(i.components,(function(e){return!!e.getComponentSkins}));return e.forEach(h,(function(e){n.skinsMap.addBatch(e.getComponentSkins())})),n.skinsMap.addBatch(i.mixins.scrollMixin.getMixinSkins()),t.dataRequirementsCheckerRegistrar.registerCheckerForCompType("wysiwyg.viewer.components.WPhoto",u.checkRequirements),{siteButton:o,dropDownMenu:a,balata:r,infoTip:p,scriptClass:l,mediaCommon:c,translationRequirementsChecker:d}}.apply(t,n))||(e.exports=s)},429:function(e,t,i){var n,s;n=[i(2)],void 0===(s=function(e){"use strict";return e.components.SiteButton}.apply(t,n))||(e.exports=s)},430:function(e,t,i){var n,s;n=[i(0),i(1),i(10),i(3),i(2),i(181),i(6),i(7),i(182),i(70)],void 0===(s=function(e,t,i,n,s,o,a,r,p,l){"use strict";function c(e){return!isNaN(parseFloat(e))&&isFinite(e)}function d(e){return c(e)?parseInt(e,10):void 0}function u(e,t,i,n,s,o){return o===e.length-1?1===e.length?"dropLonely":t?"bottom":i||"right"===n?s?"left":"right":"center":0===o?t?"top":i||"left"===n?s?"right":"left":"center":t?"dropCenter":"center"}function h(i,n,s,o,a,r,p,l,c){return e.map(n,(function(d,h){var m=function(i,n,s,o,a){var r,p=e.some(s,["link.pageId.id",n]),l={AnchorLink:function(t){var i=t.link.anchorDataId;return(e.has(i,"id")?i.id:i)===r},PageLink:function(e){var t=e.link.pageId;if(!r){if(t.isPopup)return t.id===n;if(!p)return t.id===i}return!1},DynamicPageLink:function(e){return e.isSelected}};return o&&(r=t.menuUtils.getActiveAnchorInPage(a,s,i)),function(e){var t=e.link,i=t&&l[t.type];return!!i&&i(e)}}(r,p,n,c,i);return{isContainer:Boolean(s),isSelected:m(d),positionInList:u(n,s,o,a,l,h)}}))}function m(t){return e.flatMap(t,(function(t){var i=[];return t.items&&(i=e.map(t.items,(function(i){return e.assign(i,{parent:t.id})}))),[t].concat(i)}))}var g=function(e){var t=e.isResponsive,i=e.isExperimentOpen,n=e.renderType;return t||i("bv_wixDropdown")&&"bolt"===n};function y(t){var i=a.findDOMNode(t),s=n.utils.accessibility.getTabbaleElements(i,!0);r(e.head(s)).focus()}var f={displayName:"DropDownMenu",propTypes:e.assign({isMobileView:s.santaTypesDefinitions.isMobileView,isMobileDevice:s.santaTypesDefinitions.Device.isMobileDevice,isTabletDevice:s.santaTypesDefinitions.Device.isTabletDevice,anchorChangeEvent:s.santaTypesDefinitions.SiteAspects.anchorChangeEvent,currentUrlPageId:s.santaTypesDefinitions.Component.currentUrlPageId,currentPopupId:s.santaTypesDefinitions.currentPopupId,highlightAnchorsInMenu:s.santaTypesDefinitions.BrowserFlags.highlightAnchorsInMenu.isRequired,menuItems:s.santaTypesDefinitions.Menu.menuItems,id:s.santaTypesDefinitions.Component.id,refInParent:s.santaTypesDefinitions.Component.refInParent,skin:s.santaTypesDefinitions.Component.skin,compProp:s.santaTypesDefinitions.Component.compProp,compData:s.santaTypesDefinitions.Component.compData,componentPreviewState:s.santaTypesDefinitions.RenderFlags.componentPreviewState,isExperimentOpen:s.santaTypesDefinitions.isExperimentOpen.isRequired,renderType:s.santaTypesDefinitions.PublicModel.renderType,isResponsive:s.santaTypesDefinitions.RendererModel.isResponsive,getTranslatedAriaLabel:s.santaTypesDefinitions.Accessibility.getTranslatedAriaLabel.isRequired,scale:s.santaTypesDefinitions.Component.scale},s.utils.santaTypesUtils.getSantaTypesByDefinition(o),s.utils.santaTypesUtils.getSantaTypesByDefinition(l)),mixins:[n.mixins.skinBasedComp,i.timersMixins.timeoutsMixin,n.mixins.skinInfo,n.mixins.createChildComponentMixin,n.mixins.mobileDropDownMenuMixin],getInitialState:function(){return this.shouldChildrenUpdate=!1,{hover:null,hoverListPosition:null,activeAnchor:null,$dropAlign:this.props.compProp.alignButtons,$mobile:this.props.isMobileDevice||this.props.isMobileView||this.props.isTabletDevice()?"mobile":"notMobile"}},componentDidMount:function(){this.props.highlightAnchorsInMenu()&&this.props.anchorChangeEvent.registerToAnchorChange(this)},componentDidUpdate:function(){g(this.props)&&this.refs[""].reLayout()},componentWillUnmount:function(){this.props.highlightAnchorsInMenu()&&this.props.anchorChangeEvent.unregisterToAnchorChange(this)},convertItemsToChildren:function(t,i,n,s){(i=i||{}).style=i.style||{};var o=h(this.state.activeAnchor,t,s,this.props.compProp.stretchButtonsToMenuWidth,this.props.compProp.alignButtons,this.props.currentUrlPageId,this.props.currentPopupId,this.props.compProp.rtl,this.props.highlightAnchorsInMenu());return e.map(t,function(t,n){var a=(s?"moreContainer":"")+n;return this.createChildComponent(t,"core.components.MenuButton","repeaterButton",e.merge({isContainer:o[n].isContainer,isSelected:o[n].isSelected,positionInList:o[n].positionInList,id:this.props.id+a,ref:a,key:t.id,refInParent:a,mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,isDropDownButton:s,onMouseClick:this.onMouseClick,"aria-haspopup":t.items.length>0,tagName:"li",direction:this.props.compProp.rtl?"rtl":"ltr",parentId:t.parent,dataId:t.id},i))}.bind(this))},onMouseClick:function(e,t,i){if(i)this.mouseLeaveHandler();else{var n=("__more__"!==t?this.props.menuItems[t].items:[]).length>0||"__more__"===t,s=this.state.hover;!this.dropDownOpen&&n?(this.mouseEnterHandler(t),e.preventDefault(),e.stopPropagation()):this.dropDownOpen&&!this.isDropdownOwner(t,s)&&n?(this.mouseLeaveHandler(),e.preventDefault(),e.stopPropagation(),this.mouseEnterHandler(t)):this.dropDownOpen&&this.mouseLeaveHandler()}},onAnchorChange:function(e){e!==this.state.activeAnchor&&this.setState({activeAnchor:e})},isDropdownOwner:function(e,t){return e===t},createMoreButton:function(e){var t="__more__",i=e?"left":"right",n=this.props.compProp.alignButtons;return this.props.compProp.stretchButtonsToMenuWidth||"right"===n||(i="center"),this.createChildComponent({id:t,label:this.props.compProp.moreButtonLabel},"core.components.MenuButton","repeaterButton",{isSelected:!1,positionInList:i,id:this.props.id+t,ref:t,key:t,refInParent:t,mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,onFocus:this.mouseEnterHandler,onBlur:this.mouseLeaveHandler,"aria-haspopup":!0,tagName:"li",onKeyDown:this.subMenuKeyDownHandler,onMouseClick:this.onMouseClick,isDropDownButton:!1,display:"inline-block"})},mouseEnterHandler:function(i,n){this.hovering=!0,this.lastHovered=this.getCurrentTime();var s=i.replace(this.props.id,"");-1!==e.keys(this.props.menuItems).concat("__more__").indexOf(s)&&(c(s)||t.stringUtils.startsWith(i,"__"))&&i!==this.state.hover&&(this.state.hover&&this.refs[this.state.hover].setIdleState(),g(this.props)||this.registerReLayout(),this.setState({hover:i,hoverListPosition:n}))},getCurrentTime:function(){return Date.now()},mouseLeaveHandler:function(){this.hovering=!1,this.lastHovered=this.getCurrentTime(),!this.dropDownOpen&&this.state.hover&&this.refs[this.state.hover].setIdleState(),this.setTimeout(function(){var e=this.getCurrentTime()-this.lastHovered;!this.hovering&&this.state.hover&&e>=1e3&&(this.refs[this.state.hover].setIdleState(),this.dropDownOpen=!1,this.setState({hover:null,hoverListPosition:null}))}.bind(this),1e3)},getParamsFromSkins:function(){return{menuBorderY:this.getSumParamValue("menuTotalBordersY",this.props.skin),menuBtnBorder:this.getSumParamValue("menuButtonBorders",this.getSkinExports().repeaterButton.skin),ribbonEls:this.getParamFromDefaultSkin("ribbonEls").value?parseInt(this.getParamFromDefaultSkin("ribbonEls").value,10):0,labelPad:this.getFromExports("labelPad"),ribbonExtra:this.getFromExports("ribbonExtra")?Math.abs(parseInt(this.getFromExports("ribbonExtra"),10)):0}},shiftFocusToMenu:function(e){var t=this.refs["".concat(e)];this.dropDownOpen=!1,y(t),this.currentFocusedSubMenuIndex=-1},shiftFocusToSubMenu:function(e){y(this.refs["moreContainer".concat(e)]),this.currentFocusedSubMenuIndex=e},getFirstIndexOfSubMenu:function(){for(var e,t=0;t<this.subMenuItems.length;t++)if(e=a.findDOMNode(this.refs["moreContainer".concat(t)]),"none"!==window.getComputedStyle(e).display)return t;return 0},mainMenuKeyDownHandler:function(e){if("Tab"===e.key&&this.dropDownOpen)if(e.shiftKey){var t=d(this.state.hover);void 0!==t&&t-1>=0&&(e.stopPropagation(),e.preventDefault(),this.shiftFocusToMenu(t-1))}else{e.stopPropagation(),e.preventDefault();var i=this.getFirstIndexOfSubMenu();this.shiftFocusToSubMenu(i)}},subMenuKeyDownHandler:function(e){var t;if(!e.shiftKey&&"Tab"===e.key)if((t=this.currentFocusedSubMenuIndex+1)===this.subMenuItems.length){var i=d(this.state.hover);void 0!==i&&i+1<this.props.menuItems.length&&(e.stopPropagation(),e.preventDefault(),this.shiftFocusToMenu(i+1))}else e.stopPropagation(),e.preventDefault(),this.shiftFocusToSubMenu(t);if(e.shiftKey&&"Tab"===e.key)if(e.stopPropagation(),e.preventDefault(),(t=this.currentFocusedSubMenuIndex-1)<0||t<this.getFirstIndexOfSubMenu()){var n=d(this.state.hover);void 0===n&&(n="__more__"),this.shiftFocusToMenu(n)}else this.shiftFocusToSubMenu(t)},createHoverChildren:function(e){var t=this.convertItemsToChildren(e,{style:{width:"100%"},display:"block",prefix:"_",subMenu:!0},!0,!0);return t.length>0&&(this.dropDownOpen=!0,this.subMenuItems=t),t},checkMoreVisibilityInPreviewState:function(t,i){var n,s;if(this.props.isExperimentOpen("previewSubMenu")&&(s=this.props.componentPreviewState,e.includes(s,"open"))){t="inherit";var o=function(e){return e.items.length>0};n=e.findIndex(this.props.menuItems,o);var a=e.find(this.props.menuItems,o),r="__more__"===this.state.hover?m(this.props.menuItems):[],p=a?a.items:r;p.length&&(i=this.createHoverChildren(p)),i.length>0&&(t="inherit")}return{firstParentIndex:n,hoverChildrenOverride:i,moreVisibilityOverride:t}},applyPreviewStateIfNeeded:function(t,i){var n,s=this.checkMoreVisibilityInPreviewState(t,i),o=s.firstParentIndex,a=s.hoverChildrenOverride,r=s.moreVisibilityOverride,p=e.isUndefined(o)?"":o;return n=e.isString(this.state.hover)&&!e.isEmpty(this.state.hover)?this.state.hover:e.isNumber(p)?p:null,{dropPosition:this.state.hover?this.state.hoverListPosition:p,moreContainerHoverIndex:n,hoverChildrenOverride:a,moreVisibilityOverride:r}},getAriaLabel:function(){return this.props.getTranslatedAriaLabel("AriaLabels","dropDownMenu_AriaLabel_TopLevel_SiteNavigation","Site")},getSkinProperties:function(){if(this.props.isMobileView){var t=this.flattenMenuItems(this.props.menuItems),i=this.convertMenuItemsToComboBoxItems.call(this,t,this.props.compProp.alignText);return{"":{tagName:"nav","aria-label":this.getAriaLabel()},navContainer:this.createChildComponent({options:i,value:this.getSelectedPage(i),id:"navContainer"},"wysiwyg.viewer.components.inputs.ComboBoxInput","navContainer",{onSelectionChange:this.onSelectionChange,scale:this.props.scale,compProp:{class:"mobileMenuContainer",collectionClass:"mobileCollection",textAlignment:this.props.compProp.alignText,textPadding:20,placeholder:{text:"Choose a page",value:"Choose a page"}},setRuntimeCompData:e.noop,setRuntimeCompProps:e.noop})}}var n=this.getParamsFromSkins(),s=this.convertItemsToChildren(this.props.menuItems,{display:"inherit"},null,null),o=[],a="hidden";s.push(this.createMoreButton(this.props.compProp.rtl)),(c(this.state.hover)&&this.props.menuItems[this.state.hover]||"__more__"===this.state.hover)&&(o=this.createHoverChildren(c(this.state.hover)?this.props.menuItems[this.state.hover].items:m(this.props.menuItems))).length>0&&(a="inherit");var r=this.applyPreviewStateIfNeeded(a,o),p=r.dropPosition,l=r.moreVisibilityOverride,d=r.moreContainerHoverIndex,u=r.hoverChildrenOverride;return{"":{id:this.props.id,key:this.props.refInParent,className:"hidden-during-prewarmup",style:{overflowX:"hidden"},"data-stretch-buttons-to-menu-width":!!this.props.compProp.stretchButtonsToMenuWidth,"data-same-width-buttons":!!this.props.compProp.sameWidthButtons,"data-num-items":e.size(this.props.menuItems),"data-menuborder-y":n.menuBorderY,"data-menubtn-border":n.menuBtnBorder,"data-ribbon-els":n.ribbonEls,"data-label-pad":n.labelPad,"data-ribbon-extra":n.ribbonExtra,"data-drophposition":p,"data-dropalign":this.props.compProp.alignButtons,dir:this.props.compProp.rtl?"rtl":"ltr",tagName:g(this.props)?"wix-dropdown-menu":"div"},navContainer:{"aria-label":this.getAriaLabel()},itemsContainer:{children:s,style:{textAlign:this.props.compProp.alignButtons},onKeyDown:this.mainMenuKeyDownHandler},moreContainer:{onKeyDown:this.subMenuKeyDownHandler,children:u,"data-hover":d,style:{visibility:l},id:"".concat(this.props.id,"moreContainer")},dropWrapper:{style:{visibility:l},"data-drophposition":p,"data-dropalign":this.props.compProp.alignButtons}}}};return n.compRegistrar.register("wysiwyg.viewer.components.menus.DropDownMenu",f),p.registerCommonLanguageRequirement("wysiwyg.viewer.components.menus.DropDownMenu",(function(t,i){return e.get(i,["properties","dataLang"])})),f}.apply(t,n))||(e.exports=s)},431:function(e,t,i){var n,s;n=[i(0),i(1),i(10),i(2),i(432),i(6),i(3)],void 0===(s=function(e,t,i,n,s,o,a){"use strict";var r=t.style.assignStyle;function p(){d.call(this)}function l(){this.setTimeoutNamed("closeTipByTimeout",p.bind(this),3e3)}function c(e,t){u.call(this,o.findDOMNode(t.source))}function d(){this.clearTimeoutNamed("openTip"),this.setState({$hidden:"hidden",runTimer:!0})}function u(e){this.setState({$hidden:"",isShown:!0,caller:e}),l.call(this)}function h(){var t,i;this.state.isShown&&(t=o.findDOMNode(this),i=s.getPosition(this.state.caller,t),r(t,e.pick(i,["top","left","right"])))}var m={displayName:"InfoTip",mixins:[a.mixins.skinBasedComp,i.timersMixins.timeoutsMixin],propTypes:{compData:n.santaTypesDefinitions.Component.compData.isRequired},onMouseEnter:function(){this._isMouseInside=!0},onMouseLeave:function(){this._isMouseInside=!1,d.call(this)},showToolTip:function(t,i){var n;(n=i.source.props.compData)&&e.isEmpty(n.description)||(this.clearTimeoutNamed("hideTipByClose"),this.setTimeoutNamed("openTip",function(){c.call(this,t,i)}.bind(this),500))},closeToolTip:function(){this.setTimeoutNamed("hideTipByClose",function(){this._isMouseInside||d.call(this)}.bind(this),150)},getSkinProperties:function(){return{content:{children:[this.props.compData.content]}}},componentDidUpdate:function(){h.call(this)},getInitialState:function(){return{$hidden:"hidden",isMouseInside:!1}}};return a.compRegistrar.register("wysiwyg.common.components.InfoTip",m),m}.apply(t,n))||(e.exports=s)},432:function(e,t,i){var n,s;n=[i(7)],void 0===(s=function(e){"use strict";function t(t,i,n,s){var o,a=e(window.document.body).scrollTop();return t-a<0?((o=i.top+s.height)>n+a+s.height&&(o=i.top<0?i.top:a),o>0?o:0):t}function i(e,t,i,n){return t>n?"auto":e<0?i.left:e}function n(e,t,i){return e>i?t.left+t.width:e}return{getPosition:function(s,o){s=e(s);var a={width:(o=e(o)).width(),height:o.height()},r=function(e){return e.offset()}(s),p=function(e,t){return{top:e.top-t.height,left:e.left-t.width/2,right:"auto"}}(r,a);return p=function(e,t){var i,n=0,s=0,o=t.offsetParent();return o&&(n=(i=o.offset()).top,s=i.left),{top:e.top-n,left:e.left-s,right:"auto"===e.right?e.right:e.right+s}}(p=function(e,s,o){var a=window.innerWidth,r=window.innerHeight;return{top:t(e.top,s,r,o),left:i(e.left,e.right,s),right:n(e.right,s,a)}}(p,r,a),o)}}}.apply(t,n))||(e.exports=s)},433:function(e,t,i){var n,s;n=[i(2),i(4),i(13),i(6)],void 0===(s=function(e,t,i,n){"use strict";function s(e){return'window.loadedScripts = window.loadedScripts || {}; window.loadedScripts["'.concat(e.NAME,'"] = true;')}return i({displayName:"scriptClass",propTypes:{scriptData:t.shape({script:t.shape({NAME:t.string.isRequired,SRC:t.string.isRequired}).isRequired}).isRequired},loaded:!1,componentDidMount:function(){var e,t,i,s=this.props.scriptData,o=function(e){return window.loadedScripts&&window.loadedScripts[e.NAME]}(s.script);o&&!this.loaded?this.fireCallbacks(s,!0):(i=this,o=window.document.createElement("script"),e=function(){i.fireCallbacks(s,!1),i.loaded=!0,o.removeEventListener("load",e)},o.addEventListener("load",e),o.src=s.script.SRC,(t=n.findDOMNode(this)).replaceChild(o,t.children[0]))},fireCallbacks:function(e,t){e.callbacks.forEach((function(e){var i=e.context;i?e.callback.call(i,{fromCache:t}):e.callback({fromCache:t})})),e.callbacks.length=0},render:function(){var t=this.props.scriptData.script,i="script-".concat(t.NAME);return e.utils.createReactElement("div",null,e.utils.createReactElement("script",{id:i,src:t.SRC}),e.utils.createReactElement("script",{dangerouslySetInnerHTML:{__html:s(t)}}))}})}.apply(t,n))||(e.exports=s)},434:function(e,t,i){var n,s;n=[i(2),i(0),i(4),i(1),i(91),i(47)],void 0===(s=function(e,t,i,n,s,o){"use strict";var a=n.mediaConsts,r=n.containerBackgroundUtils,p=n.containerBackgroundUtils,l=o.animationProperties,c=void 0===l?{}:l;function d(e){return t.get(e.compDesign,["background","mediaRef"],t.get(e.compData,["background","mediaRef"]))||{}}function u(e){return"editor"===e.componentViewMode}function h(e){var i=e.compBehaviors,n=e.isDesktopDevice,s=e.isMobileView,o=n();if(t.isEmpty(i))return"";if(!o||s)return"";var a=t(i).filter({action:"bgScrub"}).map("name").sortBy().value();return 1===a.length?a[0]:p.getBgEffectName(i,o,s)}return{propTypes:t.defaults({id:e.santaTypesDefinitions.Component.id.isRequired,styleId:e.santaTypesDefinitions.Component.styleId.isRequired,compProp:e.santaTypesDefinitions.Component.compProp,compData:e.santaTypesDefinitions.Component.compData,compDesign:e.santaTypesDefinitions.Component.compDesign,compStaticBehaviors:e.santaTypesDefinitions.Component.compStaticBehaviors,isExperimentOpen:e.santaTypesDefinitions.isExperimentOpen,isInSeo:e.santaTypesDefinitions.isInSeo,bgStyle:i.object,shouldRenderSrc:e.santaTypesDefinitions.Media.shouldRenderSrc,onClick:i.func,mediaAspect:e.santaTypesDefinitions.SiteAspects.mediaAspect.isRequired,renderParts:e.santaTypesDefinitions.Media.renderParts,playbackFormat:e.santaTypesDefinitions.Media.playbackFormat,playbackConfig:e.santaTypesDefinitions.Media.playbackConfig,playbackUrl:e.santaTypesDefinitions.Media.playbackUrl,isMobileView:e.santaTypesDefinitions.isMobileView.isRequired,isPlayingAllowed:e.santaTypesDefinitions.RenderFlags.isPlayingAllowed.isRequired,componentViewMode:e.santaTypesDefinitions.RenderFlags.componentViewMode.isRequired,enableBackgroundVideo:e.santaTypesDefinitions.Media.enableBackgroundVideo,renderFixedPositionBackgrounds:e.santaTypesDefinitions.RenderFlags.renderFixedPositionBackgrounds},e.utils.santaTypesUtils.getSantaTypesByDefinition(s)),getInitialState:function(){return this.isInViewport=!1,this.mediaAPI=null,this.currentVisibilityState={hidden:!1},{}},componentDidMount:function(){this.props.mediaAspect.initFeatureDetections(),this.registerPlayer(this.props)},componentWillUnmount:function(){this.unregisterPlayer(this.props)},commponentDidUpdate:function(e){this.handleVideoDataChange(e,this.props)},handleAutoplay:function(e){var t=e.isPlayingAllowed&&d(e).autoplay;this.isInViewport&&t&&this._playMedia({persist:!0})},handleVideoDataChange:function(e,i){var n=d(i),s=d(e);n.videoId&&n.videoId!==s.videoId||t.includes(i.renderParts.media.video,"video")&&!t.includes(e.renderParts.media.video,"video")?(this.unregisterPlayer(e),this.registerPlayer(i)):n.autoplay!==s.autoplay&&e.isPlayingAllowed&&(n.autoplay?this._playMedia():this.pauseMedia())},registerPlayer:function(e){var i=d(e);if("WixVideo"===t.get(i,"type")&&t.includes(e.renderParts.media.video,"video")){var n={playerType:"mediaContainer",mediaData:i,services:{viewport:{callback:this.onViewportChange,eventTypes:["in","out"]},visibility:{callback:this.onVisibilityChange},fileAvailability:{callback:this.onFileAvailability,videoParts:[{name:"video",quality:i.qualities[0].quality}]}}};e.mediaAspect.registerPlayer(e.id,n)}},unregisterPlayer:function(e){e.mediaAspect.unregisterPlayer(e.id)},updatePlayerState:function(e,t){e.mediaAspect.updatePlayerState(e.id,t)},updateQualityState:function(e,t,i){e.mediaAspect.updateQualityState(t,i)},onMediaStateChange:function(e){var i=this.mediaStateChangeLogic(e);t.isEmpty(i)||this.updatePlayerState(this.props,i)},mediaStateChangeLogic:function(e){var i={};switch(e.type){case a.eventTypes.MOUNT:i=Object.assign(t.omit(e,"type"),{volume:1});break;case a.eventTypes.LOAD:i=t.omit(e,["type","originalEventType"]),e.playbackState===a.playbackTypes.READY&&(i.mediaReadyState=a.availabilityReadyStates.IDLE,this.handleAutoplay(this.props));break;case a.eventTypes.PLAYSTATE:switch(e.playbackState){case a.playbackTypes.PLAY_ENDED:i={playbackState:a.playbackTypes.PLAY_ENDED,previousPlaybackState:""};break;default:i={playbackState:e.playbackState,mediaReadyState:a.availabilityReadyStates.IDLE}}break;case a.eventTypes.ERROR:e.error===a.errorTypes.NO_HLS_VIDEO?this.updateQualityState(this.props,d(this.props).videoId,{error:"",fallback:!0}):e.error===a.errorTypes.NO_VIDEO_FOUND&&(i={mediaReadyState:a.availabilityReadyStates.IN_PROCESS});break;case a.eventTypes.VOLUME:i={volume:e.volume,muted:e.muted};break;case a.eventTypes.RATE:case a.eventTypes.TIME_UPDATE:}return i},videoVisibilityChangeHandler:function(){var e=this.currentVisibilityState,t=this.props.mediaAspect.getData(this.props.id);!e.hidden&&e.in?t.previousPlaybackState===a.playbackTypes.PLAYING?this._playMedia():t.playbackState!==a.playbackTypes.LOADING&&t.playbackState!==a.playbackTypes.READY||this.handleAutoplay(this.props):this.pauseMedia()},onViewportChange:function(e){var t=!u(this.props)&&!e.isFixed;this.isInViewport=!!e.in,Object.assign(this.currentVisibilityState,e),t&&this.videoVisibilityChangeHandler()},onVisibilityChange:function(e){var t=!u(this.props);Object.assign(this.currentVisibilityState,e),t&&this.videoVisibilityChangeHandler()},onFileAvailability:function(e){var t=e.readyQualities;t.length&&this.updateQualityState(this.props,e.videoId,{readyQualities:t,error:""}),this.updatePlayerState(this.props,{mediaReadyState:e.availabilityState})},setMediaAPI:function(e){this.mediaAPI=e},mediaCommandsLogic:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.mediaAPI&&this.mediaAPI(e,t)},playPreview:function(e){this.mediaCommandsLogic("play",{callback:e})},playMedia:function(e){this._playMedia({persist:!0,callback:e})},pauseMedia:function(e){this.mediaCommandsLogic("pause",{callback:e})},stopMedia:function(e){this.mediaCommandsLogic("stop",{callback:e})},stopPreviewMedia:function(e){this.mediaCommandsLogic("stop",{reset:!0,callback:e})},_playMedia:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.persist,i=e.callback;t&&this.updatePlayerState(this.props,{previousPlaybackState:a.playbackTypes.PLAYING}),this.mediaCommandsLogic("play",{callback:i})},getIsFullScreenHeight:function(){var e=h(this.props),t=c[e];return!(!e||"none"===e)&&(t&&t.requestFullScreenHeight)},getIsFullScreenAndFixed:function(){return this.props.renderFixedPositionBackgrounds&&this.getIsFullScreenHeight()},createFillLayers:function(e){var i,n,s,o,p,l=t.assign({},this.props,e),c={skin:"skins.viewer.balata.balataBaseSkin",styleId:l.styleId+a.balataConsts.BALATA},m=d(l),g=function(e){return t.get(e.compDesign,["background"],t.get(e.compData,["background"]))||{}}(l),y=l.isMobileView?"mobile":"desktop",f=h(this.props),v=this.getIsFullScreenHeight(),b=this.getIsFullScreenAndFixed(),P={ref:a.balataConsts.BALATA,id:l.id+a.balataConsts.BALATA,key:(u(l)?"no-playback":"playback")+y,parentId:l.id,style:t.defaults(l.bgStyle,a.defaultMediaStyle,{width:"100%",height:"100%"}),compBehaviors:l.compStaticBehaviors,compProp:(i=d(this.props),n=this.props.compProp,s=t.pick(i,a.playback.SUPPORTED_MEDIA_ATTRIBUTES),o=t.pick(n,a.playback.SUPPORTED_MEDIA_ATTRIBUTES.concat(a.supportedParentProps)),t.assign(s,o)),compDesign:l.compDesign,onClick:l.onClick,notifyMediaState:this.onMediaStateChange,setMediaAPI:this.setMediaAPI,isPlayingAllowed:l.isPlayingAllowed,isEditorMode:u(l),shouldRenderSrc:l.shouldRenderSrc,enableVideo:this.props.enableBackgroundVideo,enableBackgroundPadding:l.isMobileView,renderParts:l.renderParts,playbackFormat:l.playbackFormat,playbackConfig:l.playbackConfig,playbackUrl:l.playbackUrl,containerStyle:l.style,bgEffectName:f,isFullScreenHeight:v,isFullScreenAndFixed:b},S="WixVideo"===(p=m).mediaType?p.posterImageRef:p;if(this.props.shouldRenderSrc&&!t.isEmpty(S)){var k=r.convertStyleToDimensions(t.defaults(l.mediaDimensions,t.pick(l.style,["width","height"])));P.mediaDimensions=k,P.imageUrlPreMeasureParams=r.getImageUrlPreMeasureParams(k,S,g.fittingType,g.alignType,l.isMobileView,l.isInSeo)}return this.createChildComponent(l.compData,"wysiwyg.viewer.components.background.Balata",c,P)}}}.apply(t,n))||(e.exports=s)},435:function(e,t,i){var n,s;n=[i(2),i(0),i(4),i(1),i(91)],void 0===(s=function(e,t,i,n,s){"use strict";var o=n.containerBackgroundUtils,a=n.mediaConsts,r=n.siteConstants.ACTION_TYPES;function p(e){return t.get(e.compDesign,["background","mediaRef"],t.get(e.compData,["background","mediaRef"]))||{}}function l(e){return"editor"===e.componentViewMode}return{propTypes:t.defaults({animations:e.santaTypesDefinitions.animations.isRequired,id:e.santaTypesDefinitions.Component.id.isRequired,styleId:e.santaTypesDefinitions.Component.styleId.isRequired,compData:e.santaTypesDefinitions.Component.compData,compProp:e.santaTypesDefinitions.Component.compProp,compDesign:e.santaTypesDefinitions.Component.compDesign,compStaticBehaviors:e.santaTypesDefinitions.Component.compStaticBehaviors,isInSeo:e.santaTypesDefinitions.isInSeo,bgStyle:i.object,onClick:i.func,shouldRenderSrc:e.santaTypesDefinitions.Media.shouldRenderSrc,renderParts:e.santaTypesDefinitions.Media.renderParts,playbackFormat:e.santaTypesDefinitions.Media.playbackFormat,playbackConfig:e.santaTypesDefinitions.Media.playbackConfig,playbackUrl:e.santaTypesDefinitions.Media.playbackUrl,mediaAspect:e.santaTypesDefinitions.SiteAspects.mediaAspect.isRequired,isPlayingAllowed:e.santaTypesDefinitions.RenderFlags.isPlayingAllowed.isRequired,componentViewMode:e.santaTypesDefinitions.RenderFlags.componentViewMode.isRequired,canVideoPlayInline:e.santaTypesDefinitions.Media.canVideoPlayInline,enableMaskedVideo:e.santaTypesDefinitions.Media.enableMaskedVideo,maskPosterFallback:e.santaTypesDefinitions.Media.maskPosterFallback},e.utils.santaTypesUtils.getSantaTypesByDefinition(s)),getInitialState:function(){return this.isInViewport=!1,this.mediaAPI=null,this.volumeAnimation={value:null,animation:null},this.visibilityStateListeners={},this.currentVisibilityState={hidden:!1},this.publicState={},{enableVideo:!0}},updatePublicState:function(e){var t=this.publicState,i=e.volume,n=void 0===i?t.volume:i,s=e.duration,o=void 0===s?t.duration:s,r=e.muted,p=void 0===r?t.isMuted:r,l=e.currentTime,c=void 0===l?t.currentTime:l,d=e.playbackState?e.playbackState===a.playbackTypes.PLAYING||e.previousPlaybackState===a.playbackTypes.PLAYING:t.isPlaying,u=p||n<0;this.publicState={isPlaying:d,currentTime:c,duration:o,volume:n,isMuted:u},this.props.setCompState(this.props.id,this.publicState)},componentDidMount:function(){this.props.mediaAspect.initFeatureDetections(),this.registerPlayer(this.props)},componentWillUnmount:function(){this.visibilityStateListeners={},this.unregisterPlayer(this.props)},componentDidUpdate:function(e){this.handleVideoPropsChange(e)},registerPlayer:function(e){var i=p(e);if(e.canVideoPlayInline&&"WixVideo"===t.get(i,"type")&&t.includes(e.renderParts.media.video,"video")){var n={playerType:"mediaPlayer",mediaData:i,services:{viewport:{callback:this.onViewportChange,eventTypes:["in","out"]},visibility:{callback:this.onVisibilityChange},fileAvailability:{callback:this.onFileAvailability,videoParts:[{name:"video",quality:i.qualities[0].quality},{name:"storyboard",quality:"storyboard"}]}}};e.mediaAspect.registerPlayer(e.id,n)}},unregisterPlayer:function(e){e.mediaAspect.unregisterPlayer(e.id)},updatePlayerState:function(e,t){e.mediaAspect.updatePlayerState(e.id,t),this.updatePublicState(t)},updateQualityState:function(e,t,i){e.mediaAspect.updateQualityState(t,i)},getPlayerState:function(){return this.props.mediaAspect.getData(this.props.id)},handleAutoplay:function(e){var t=e.compProp.autoplay&&e.isPlayingAllowed;this.isInViewport&&e.canVideoPlayInline&&t&&this._playMedia({persist:!0})},handleVideoPropsChange:function(e){var i=this.props,n=p(i),s=p(e),o=l(this.props),a=l(e),r=this.props.isPlayingAllowed,c=e.isPlayingAllowed,d=this.getPlayerState();n.videoId===s.videoId&&i.canVideoPlayInline===e.canVideoPlayInline&&t.isEqual(i.renderParts.media.video,e.renderParts.media.video)||(this.unregisterPlayer(e),this.registerPlayer(i),this.setState({enableVideo:!0}),r&&this.updatePlayerState(this.props,{previousPlaybackState:d.previousPlaybackState,muted:d.muted,volume:d.volume})),o===a&&r===c||(o?(this.notifyVisibilityState({in:this.isInViewport}),this.stopPreviewMedia()):(this.resetPlaybackState(i),this.notifyVisibilityState({in:this.isInViewport}),this.handleAutoplay(i)))},resetPlaybackState:function(e){var t=e.compProp.autoplay&&e.isPlayingAllowed;this.updatePlayerState(e,{playbackState:t?"":a.playbackTypes.READY,previousPlaybackState:t?a.playbackTypes.PLAYING:""})},videoVisibilityChangeHandler:function(){var e=this.currentVisibilityState,t=this.getPlayerState();!e.hidden&&e.in?t.previousPlaybackState===a.playbackTypes.PLAYING?(this.updatePlayerState(this.props,{playbackPausedByService:!1}),this._playMedia()):(""===t.playbackState&&""===t.previousPlaybackState||t.playbackState===a.playbackTypes.LOADING||t.playbackState===a.playbackTypes.READY)&&this.handleAutoplay(this.props):t.previousPlaybackState===a.playbackTypes.PLAYING&&(this.updatePlayerState(this.props,{playbackPausedByService:!0}),this._pauseMedia()),this.notifyVisibilityState(e)},onViewportChange:function(e){var t=this.props.canVideoPlayInline&&!l(this.props)&&!e.isFixed;this.isInViewport=!!e.in,Object.assign(this.currentVisibilityState,e),t&&this.videoVisibilityChangeHandler()},addVisibilityStateListener:function(e){var i=this,n=t.uniqueId("MPVisibilityCallback");return this.visibilityStateListeners[n]=e,function(){delete i.visibilityStateListeners[n]}},notifyVisibilityState:function(e){var t=this;Object.keys(this.visibilityStateListeners).forEach((function(i){return t.visibilityStateListeners[i](e)}))},onVisibilityChange:function(e){var t=this.props.canVideoPlayInline&&!l(this.props);Object.assign(this.currentVisibilityState,e),t&&this.videoVisibilityChangeHandler()},onFileAvailability:function(e){var t=e.readyQualities;switch(e.type){case"video":t.length&&this.updateQualityState(this.props,e.videoId,{readyQualities:t,error:""}),this.updatePlayerState(this.props,{mediaReadyState:e.availabilityState});break;case"storyboard":this.updateQualityState(this.props,e.videoId,{storyboardQuality:t,storyboardReadyState:t.length?a.availabilityReadyStates.IDLE:""})}},onMediaStateChange:function(e){if(this.props.canVideoPlayInline){var i=this.mediaStateChangeLogic(e,this.getPlayerState());t.isEmpty(i)||this.updatePlayerState(this.props,i)}},mediaStateChangeLogic:function(e,i){var n={},s=i.volume,o=void 0===s?1:s;switch(e.type){case a.eventTypes.MOUNT:n=Object.assign(t.omit(e,"type"),{volume:o});break;case a.eventTypes.LOAD:n=t.omit(e,["type","originalEventType"]),e.playbackState===a.playbackTypes.READY&&(n.mediaReadyState=a.availabilityReadyStates.IDLE,this.handleAutoplay(this.props));break;case a.eventTypes.PLAYSTATE:switch(e.playbackState){case a.playbackTypes.PLAY_ENDED:n={playbackState:a.playbackTypes.PLAY_ENDED,previousPlaybackState:""},this.handleAction(r.ON_ENDED);break;case a.playbackTypes.PLAYING:n={playbackState:e.playbackState,mediaReadyState:a.availabilityReadyStates.IDLE},this.handleAction(r.ON_PLAY);break;case a.playbackTypes.PAUSED:n={playbackState:e.playbackState,mediaReadyState:a.availabilityReadyStates.IDLE},this.handleAction(r.ON_PAUSE);break;default:n={playbackState:e.playbackState,mediaReadyState:a.availabilityReadyStates.IDLE}}break;case a.eventTypes.ERROR:var l=p(this.props).videoId;e.error===a.errorTypes.NO_HLS_VIDEO?this.updateQualityState(this.props,l,{fallback:!0}):e.error===a.errorTypes.NO_VIDEO_FOUND?n={mediaReadyState:a.availabilityReadyStates.IN_PROCESS}:e.error===a.errorTypes.WEBGL_ERROR&&this.setState({enableVideo:!1});break;case a.eventTypes.VOLUME:if(t.isNumber(this.volumeAnimation.value)||i.volume<0)break;if(i.playbackState===a.playbackTypes.PLAY_PREVIEW)break;n={volume:e.volume,muted:e.muted};break;case a.eventTypes.RATE:break;case a.eventTypes.TIME_UPDATE:this.updatePublicState({currentTime:e.currentTime}),this.handleAction(r.ON_PROGRESS)}return n},mediaCommandsLogic:function(e){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.props.canVideoPlayInline&&this.mediaAPI){var s=n.callback,o=this.getPlayerState(),r=o.playbackState===a.playbackTypes.PLAYING,p=t.includes([a.playbackTypes.SEEK_PLAYING,a.playbackTypes.SEEK_PAUSED,a.playbackTypes.SEEKING],o.playbackState);switch(e){case"togglePlay":r?this._pauseMedia({persist:!0,callback:s}):this._playMedia({persist:!0,callback:s});break;case"play":var l=n.time,c=void 0===l?-1:l;if(o.playbackState===a.playbackTypes.PLAY_ENDED){if(!1===this.props.compProp.playerInteraction.allowReplay)break;c<0&&(c=0)}c>=0&&this.seekMedia(c),this.mediaAPI("play",{callback:s});break;case"preview":this.updatePlayerState(this.props,{playbackState:a.playbackTypes.PLAY_PREVIEW}),this.mediaAPI("mute"),this.mediaAPI("play");break;case"pause":var d=n.time,u=void 0===d?-1:d;this.mediaAPI("pause",{callback:s}),u>=0&&this.seekMedia(u);break;case"seekStart":if(p)break;this.updatePlayerState(this.props,{playbackState:r?a.playbackTypes.SEEK_PLAYING:a.playbackTypes.SEEK_PAUSED}),r&&this._pauseMedia();break;case"seekEnd":var h=n.time;this.seekMedia(h);break;case"stop":this.updatePlayerState(this.props,{playbackState:a.playbackTypes.STOPPING,previousPlaybackState:a.playbackTypes.PAUSED}),this.mediaAPI("stop",{callback:s});break;case"mute":case"unMute":this.mediaAPI(e,{callback:s}),this.updatePlayerState(this.props,{volume:Math.abs(o.volume)});break;case"volumeFadeOut":var m=o.volume,g=o.muted;if(g)break;var y=n.duration;this.volumeAnimation.animation&&this.props.animations.kill(this.volumeAnimation.animation),this.volumeAnimation.value=this.volumeAnimation.value||m,this.volumeAnimation.animation=this.props.animations.animate("BaseObjectProps",this.volumeAnimation,y,0,{value:0,ease:"Sine.easeOut",callbacks:{onStart:function(){i.updatePlayerState(i.props,{volume:-m})},onUpdate:function(){i.mediaAPI("setVolume",{volume:i.volumeAnimation.value})},onComplete:function(){i.volumeAnimation={value:null,animation:null},s&&s()}}});break;case"volumeFadeIn":var f=o.volume,v=o.muted;if(v)break;var b=n.duration;this.volumeAnimation.animation&&this.props.animations.kill(this.volumeAnimation.animation),this.volumeAnimation.value=this.volumeAnimation.value||0,this.volumeAnimation.animation=this.props.animations.animate("BaseObjectProps",this.volumeAnimation,b,0,{value:Math.abs(f),ease:"Sine.easeIn",callbacks:{onStart:function(){i.updatePlayerState(i.props,{volume:Math.abs(f)})},onUpdate:function(){i.mediaAPI("setVolume",{volume:i.volumeAnimation.value})},onComplete:function(){i.volumeAnimation={value:null,animation:null},s&&s()}}});break;default:this.mediaAPI(e,n)}}},getMuteValueByAutoPlayPolicy:function(e,i){var n=[a.playbackTypes.PLAYING,a.playbackTypes.PLAY_PREVIEW,a.playbackTypes.SEEK_PLAYING];if(l(this.props)&&t.includes(n,i.playbackState))return!0;if(!l(this.props)&&!t.isUndefined(i.muted))return i.muted;if(e.compProp.autoplay&&(t.isUndefined(i.muted)||l(this.props)))return!0;var s=e.isMobileDevice||e.isMobileView,o="none"!==e.compProp.playerInteraction.rollIn;return!(s||!o)},setMediaAPI:function(e){this.mediaAPI=e},togglePlayMedia:function(e){this.mediaCommandsLogic("togglePlay",{callback:e})},playMedia:function(e,t){this._playMedia({persist:!0,time:e,callback:t})},previewMedia:function(e){this.notifyVisibilityState({in:!0,forcePlay:!0}),this.mediaCommandsLogic("preview",{callback:e})},pauseMedia:function(e,t){this._pauseMedia({persist:!0,time:e,callback:t})},stopMedia:function(e){this._stopMedia({persist:!0,callback:e})},stopPreviewMedia:function(e){this._stopMedia({persist:!0,callback:e,reset:!0})},setMediaVolume:function(e){this.mediaCommandsLogic("setVolume",{volume:e})},muteMedia:function(e){this.mediaCommandsLogic("mute",{callback:e})},unMuteMedia:function(e){this.mediaCommandsLogic("unMute",{callback:e})},mediaVolumeFadeOut:function(e,t){this.mediaCommandsLogic("volumeFadeOut",{duration:e,callback:t})},mediaVolumeFadeIn:function(e,t){this.mediaCommandsLogic("volumeFadeIn",{duration:e,callback:t})},seekMedia:function(e){this.mediaCommandsLogic("seek",{time:e})},startSeekMedia:function(e){this.mediaCommandsLogic("seekStart",{time:e})},endSeekMedia:function(e){this.mediaCommandsLogic("seekEnd",{time:e})},_playMedia:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.persist,i=e.time,n=e.callback;t&&this.updatePlayerState(this.props,{previousPlaybackState:a.playbackTypes.PLAYING}),this.mediaCommandsLogic("play",{time:i,callback:n})},_pauseMedia:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.persist,i=e.time,n=e.callback;t&&this.updatePlayerState(this.props,{previousPlaybackState:a.playbackTypes.PAUSED}),this.mediaCommandsLogic("pause",{time:i,callback:n})},_stopMedia:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.persist,i=e.callback,n=e.reset;t&&this.updatePlayerState(this.props,{previousPlaybackState:a.playbackTypes.STOPPED}),this.mediaCommandsLogic("stop",{callback:i,reset:n})},createFillLayers:function(e){var i=this,n=t.assign({},this.props,e),s=this.getPlayerState(),r=s.volume,c=void 0===r?1:r,d={skin:"skins.viewer.balata.balataBaseSkin",styleId:n.styleId+a.balataConsts.BALATA};n.compProp.mute=this.getMuteValueByAutoPlayPolicy(n,s),n.compProp.volume=Math.abs(c);var u,h=p(n),m=function(e){return t.get(e.compDesign,["background"],t.get(e.compData,["background"]))||{}}(n),g={ref:a.balataConsts.BALATA,id:n.id+a.balataConsts.BALATA,animations:n.animations,parentId:n.id,style:t.assign({},a.defaultMediaStyle,{width:"100%",height:"100%"},n.styleOverrides),compBehaviors:n.compStaticBehaviors,compProp:n.compProp,compDesign:n.compDesign,rotationInDegrees:n.rotationInDegrees,onClick:n.onClick,notifyMediaState:this.onMediaStateChange,registerStateChange:function(e,t){return i.props.mediaAspect.registerStateChange(e,i.props.id,t)},unregisterStateChange:function(e){return i.props.mediaAspect.unregisterStateChange(e,i.props.id)},setMediaAPI:this.setMediaAPI,enableVideo:n.enableVideo&&n.enableMaskedVideo&&this.state.enableVideo,shouldRenderSrc:n.shouldRenderSrc,imageUrlPreMeasureParams:n.imageUrlPreMeasureParams,isPlayingAllowed:this.props.isPlayingAllowed,isEditorMode:l(n),renderParts:n.renderParts,playbackFormat:n.playbackFormat,playbackConfig:n.playbackConfig,playbackUrl:n.playbackUrl,playerStyle:this.props.style,getIsVisible:this.props.mediaAspect.shouldPlay.bind(this.props.mediaAspect,this.props.id),addVisibilityStateListener:this.addVisibilityStateListener,addWebGLContext:this.props.mediaAspect.webglContexts.add,removeWebGLContext:this.props.mediaAspect.webglContexts.remove,mask:n.mask,maskPosterFallback:n.maskPosterFallback,isMediaPlayer:!0};if(this.props.shouldRenderSrc){var y=o.convertStyleToDimensions(t.pick(n.style,["width","height"]));g.mediaDimensions=y,g.imageUrlPreMeasureParams=o.getImageUrlPreMeasureParams(y,"WixVideo"===(u=h).mediaType?u.posterImageRef:u,m.fittingType,m.alignType,n.isMobileView,n.isInSeo)}return this.createChildComponent(n.compData,"wysiwyg.viewer.components.background.Balata",d,g)}}}.apply(t,n))||(e.exports=s)},436:function(e,t,i){var n,s;n=[i(0),i(1)],void 0===(s=function(e,t){"use strict";return{checkRequirements:function(i,n){var s=e.get(n,["properties","overrideCrop","svgId"],e.get(n,["data","crop","svgId"]));return s?e.compact([t.svg.createSvgFetchRequest(i.serviceTopology.mediaRootUrl,i,s)]):[]}}}.apply(t,n))||(e.exports=s)},437:function(e,t,i){var n,s;n=[i(0),i(1)],void 0===(s=function(e,t){"use strict";function i(i,n,s,o){var a=e.get(i,"styleItem.id")||e.get(i,"structure.styleId");a&&(o[a]={skinName:t.santaTypes.shortenStyleId(i.structure.skin),componentType:i.structure.componentType});var r=e.get(i.structure,["modes","overrides"]);e.forEach(r,(function(e){var s=e.styleId;s&&n(s)&&(o[s]={skinName:t.santaTypes.shortenStyleId(i.structure.skin),componentType:i.structure.componentType})}))}t.styleCollector.registerClassBasedStyleCollector("wysiwyg.viewer.components.svgshape.SvgShape",i),t.styleCollector.registerClassBasedStyleCollector("wysiwyg.viewer.components.PopupCloseIconButton",i)}.apply(t,n))||(e.exports=s)},438:function(e,t,i){var n,s;n=[i(1),i(439)],void 0===(s=function(e,t){"use strict";e.behaviorHandlersFactory.registerHandler("comp",t)}.apply(t,n))||(e.exports=s)},439:function(e,t,i){var n,s;n=[i(0),i(1)],void 0===(s=function(e,t){"use strict";var i=e.keyBy([t.siteConstants.ACTION_TYPES.SYNC_VALIDATION_DATA,t.siteConstants.ACTION_TYPES.SET_CUSTOM_VALIDITY,t.siteConstants.ACTION_TYPES.UPDATE_VALIDITY_INDICATION,t.mediaConsts.ACTION_TYPES.MUTE,t.mediaConsts.ACTION_TYPES.UN_MUTE]);return{handle:function(t,n,s){var o=n.getSiteAspect("behaviorsAspect");e.forEach(t,(function(e){o.registerBehavior(e,s.callback)})),e.some(t,(function(t){return!e.has(i,t.name)}))&&n.forceUpdate()}}}.apply(t,n))||(e.exports=s)},440:function(e,t,i){var n,s;n=[i(1),i(441)],void 0===(s=function(e,t){"use strict";e.behaviorHandlersFactory.registerHandler("scrub",t)}.apply(t,n))||(e.exports=s)},441:function(e,t,i){var n,s;n=[i(0),i(1),i(442)],void 0===(s=function(e,t,i){"use strict";var n=t.behaviorsService.behaviorUniqueIdentifier,s={AnimateAfterScroll:i.animateAfterScroll,ScrubAnimation:i.scrubSequenceWithScroll},o=function(e){return a.behaviorToSequenceId[n(e)]};var a={behaviorToSequenceId:{},isEnabled:e.constant(!0),handle:function(t,r,p){var l=r.getSiteData();e.forEach(t,(function(t){var c=r._site.getPageById(t.pageId),d=o(t),u=c.getSequence(d),h=i.getComponentMeasure(l,t.targetId);u?(s[t.name]||e.noop)(u,p,{compMeasures:h,behavior:t}):(d=i.createSequence(t,c,h),a.behaviorToSequenceId[n(t)]=d)}))},cancel:function(e,t){t._site.getPageById(e.pageId).stopSequence(o(e),0),delete a.behaviorToSequenceId[n(e)]}};return a}.apply(t,n))||(e.exports=s)},442:function(e,t,i){var n,s;n=[i(0)],void 0===(s=function(e){"use strict";var t={HeaderFadeOut:200,HeaderHideToTop:400},i={HeaderFadeOut:.5,HeaderHideToTop:.25},n=function(t){return function(t){return!e.isNaN(t)&&t>=0}(t)?t:0};function s(e,t,i,s){var o,a=n(e.position.y),r=n(t.position.y),p=Math.abs(r-a)/s,l="DOWN"===e.direction?1:-1;return o=i+l*p*.5,Math.max(Math.min(o,1),0)}return{getComponentMeasure:function(e,t){return{height:e.measureMap.height[t],width:e.measureMap.width[t],top:e.measureMap.top[t],left:e.measureMap.left[t]}},animateAfterScroll:function(i,n,s){var o=s.behavior,a=e.head(o.params.animations).name,r="DOWN"===n.scroll.current.direction,p=n.scroll.accumulatedScroll,l=i.progress(),c=!r&&p>100&&l>0;r&&p>t[a]&&l<1?i.play():c&&i.reverse()},scrubSequenceWithScroll:function(t,i,n){var o=n.compMeasures,a=t.progress(),r=s(i.scroll.current,i.scroll.previous,a,o.height);e.isFinite(r)&&r!==a&&t.progress(r)},createSequence:function(t,n,s){var o=t.targetId,a=e.get(t,["params","animations"],[]),r=n.sequence();return e.forEach(a,(function(n){var a=e.defaultsDeep(n,function(e,t,n){return{targetId:e,duration:i[n]||0,delay:0,params:{compMeasures:t}}}(t.targetId,s,n.name)),p=a.name,l=a.duration,c=a.delay,d=a.params;r.add(o,p,l,c,d)})),r.execute({suppressReactRendering:!1,forgetSequenceOnComplete:!1,paused:!0})}}}.apply(t,n))||(e.exports=s)},443:function(e,t,i){var n,s;n=[i(1),i(444)],void 0===(s=function(e,t){"use strict";e.behaviorHandlersFactory.registerHandler("animation",t)}.apply(t,n))||(e.exports=s)},444:function(e,t,i){var n,s;n=[i(0),i(1)],void 0===(s=function(e,t){"use strict";function i(t,i){var n=i.getSiteData();return!n.isMobileView()?"MOBILE"!==t.viewMode:!!function(t){var i=t.getDataByQuery("masterPage");return e.has(i,["mobileSettings","animationsEnabled"])}(n)&&function(e){return e&&(!e.viewMode||"MOBILE"===e.viewMode)}(t)}return{handle:function(n,s,o){var a=s.getSiteData(),r=s.getRuntimeDal(),p=o.group||o.action,l=e.get(o,"clear",!0),c=e(n).filter((function(e){var n=(r.getCompProps(e.targetId)||{}).isCollapsed,o=i(e,s),a=t.animationsService.isAnimationPlayable(s,e);return!n&&o&&a})).map((function(t){return e.omit(e.defaultsDeep({},t,e.find(a.animations.viewerDefaults,{name:t.name})),"action")})).value();e.isEmpty(c)?e.defer((function(){e.get(o,"callback",e.noop)()})):t.animationsService.playAnimations(s,p,c,l,o.callback||e.noop)},handlePreCondition:function(e,i){t.animationsService.hideElementsByAnimationType(i,[e])},cancelPreCondition:function(e,i){t.animationsService.revertHideElementsByAnimations(i,[e])},isEnabled:i}}.apply(t,n))||(e.exports=s)},445:function(e,t,i){var n,s;n=[i(0),i(2),i(25),i(3)],void 0===(s=function(e,t,i,n){"use strict";function s(){var t=this.getFontSize("fnt");if(this.props.isMobileView){var i=e.max([13,Number(t.fontSize.replace("px",""))]);t.fontSize="".concat(i,"px")}return t}var o=i.labelUtils,a={displayName:"TextInput",mixins:[i.baseTextInput,i.textScaleMixin,t.mixins.inputFocusMixin],propTypes:{compProp:t.santaTypesDefinitions.Component.compProp.isRequired,isResponsive:t.santaTypesDefinitions.RendererModel.isResponsive,isMobileView:t.santaTypesDefinitions.isMobileView},statics:{behaviors:e.assign({},i.baseTextInput.BASE_TEXT_BEHAVIORS,t.mixins.inputFocusMixin.INPUT_FOCUS_BEHAVIORS)},focus:function(){this.refs.input.focus()},blur:function(){this.refs.input.blur()},measureComponent:function(e){var t=this.refs.label,i=o.measureComponentWithLabel(this.props.compProp,t,this.props.compData,this.props.isMobileView);if(i)return[{node:e,type:"css",changes:{height:i}}]},getSkinProperties:function(){var t=this.props,i=t.compProp,n=t.isMobileView,a=t.isResponsive,r=t.compData,p=t.compTheme,l={"with-validation-indication":this.shouldShowValidityIndication(),required:o.showRequired(r,i,p)};l["".concat(this.props.compProp.textAlignment,"-direction")]=!0;var c={compId:this.props.id,inputId:"input"},d=e.merge(this.getBaseTextInputSkinProperties(),o.getBaseInputWithLabelSkinProperties({compProp:i,rawFontSyle:this.getFontSize("fntlbl"),isMobileView:n,compData:r,id:c}));d[""]={className:this.classSet(l),"data-disabled":!!this.props.compProp.isDisabled,"data-preview":e.isFunction(this.getComponentPreviewState)&&this.getComponentPreviewState()};var u="padding".concat(e.capitalize(this.props.compProp.textAlignment));return d.input=e.merge({style:s.call(this)},d.input,{"data-preview":e.isFunction(this.getComponentPreviewState)&&this.getComponentPreviewState(),className:"has-custom-focus"}),a&&e.assign(d.input,{size:"1"}),d.input.style[u]=this.props.compProp.textPadding,d}};return n.compRegistrar.register("wysiwyg.viewer.components.inputs.TextInput",a),a}.apply(t,n))||(e.exports=s)},446:function(e,t,i){var n,s;n=[i(0),i(4),i(6),i(1),i(10),i(3),i(5),i(2),i(50),i(60)],void 0===(s=function(e,t,i,n,s,o,a,r,p,l){"use strict";var c=p.utils.galleriesHelperFunctions,d=n.matrixScalingCalculations;function u(e,t,i){this.state.currentIndex!==e&&(this.props.onImageSelected&&(t.type="imageSelected",t.payload={itemIndex:e,imageData:this.props.compData.items[e]},this.props.onImageSelected(t,i)),this.setState({currentIndex:e}))}function h(e,t){return e.dimensions?e.dimensions[t]:parseFloat(e.style[t])}function m(t,i){var n=i.props.selectedItemIndex||0;return{currentIndex:e.get(t,["currentIndex"],n)}}var g={displayName:"SliderGallery",statics:{behaviors:{nextSlide:{methodName:"next"},prevSlide:{methodName:"prev"}}},mixins:[o.mixins.skinBasedComp,o.mixins.skinInfo,r.mixins.animationsMixin,s.timersMixins.timeoutsMixin,r.mixins.compStateMixin(m),o.mixins.createChildComponentMixin],propTypes:e.assign({isExperimentOpen:r.santaTypesDefinitions.isExperimentOpen,id:r.santaTypesDefinitions.Component.id.isRequired,rootId:r.santaTypesDefinitions.Component.rootId.isRequired,compData:r.santaTypesDefinitions.Component.compData.isRequired,compProp:r.santaTypesDefinitions.Component.compData.isRequired,skin:r.santaTypesDefinitions.Component.skin.isRequired,style:r.santaTypesDefinitions.Component.style.isRequired,dimensions:r.santaTypesDefinitions.Component.dimensions,isMobileView:r.santaTypesDefinitions.isMobileView,isMobileDevice:r.santaTypesDefinitions.Device.isMobileDevice,isTabletDevice:r.santaTypesDefinitions.Device.isTabletDevice,windowTouchEventsAspect:r.santaTypesDefinitions.SiteAspects.windowTouchEvents.isRequired,getSliderGalleryMeasures:r.santaTypesDefinitions.__DangerousSantaTypes.getSliderGalleryMeasures,onImageSelected:t.func},r.utils.santaTypesUtils.getSantaTypesByDefinition(l)),_currentOffset:null,_motion:!1,_firstChild:null,getInitialState:function(){return this.props.windowTouchEventsAspect.registerToWindowTouchEvent("touchStart",this),e.assign(m(null,{props:this.props.compProp}),{$mobile:this.props.isMobileDevice||this.props.isTabletDevice()?"mobile":"notMobile",$displayDevice:this.props.isMobileView?"mobileView":"desktopView"})},componentWillUnmount:function(){this.props.windowTouchEventsAspect.unregisterFromWindowTouchEvent("touchStart",this)},getSkinProperties:function(){this.gap=e.isNumber(this.props.compProp.margin)?this.props.compProp.margin:20,this.contentOverflow=!1;var t=a.skinsMap.get(this.props.skin),i=t.exports&&t.exports.bottomGap||0,n=Math.abs(this.getFromExports("itemContainerAdditionalHeight")),s=this.populate(i,n),o=Math.abs(this.getFromExports("itemContainerTotalOffset")),r=h(this.props,"width")-o;return this.itemsHolderWidth>r&&(this.contentOverflow=!0,s=this.populate(i,n)),{imageItem:{},images:{children:s,"data-gallery-id":this.props.id},swipeLeftHitArea:{onMouseEnter:this.prev,onMouseLeave:this._stopMovement,onTouchStart:this.prev,"data-gallery-id":this.props.id},swipeRightHitArea:{onMouseEnter:this.next,onMouseLeave:this._stopMovement,onTouchStart:this.next,"data-gallery-id":this.props.id},"":{onSwipeLeft:this.next,onSwipeRight:this.prev,"data-height-diff":c.getSkinHeightDiff(this.props.skin),"data-width-diff":c.getSkinWidthDiff(this.props.skin),"data-image-mode":this.props.compProp.imageMode,"data-aspect-ratio":this.props.compProp.aspectRatio,"data-bottom-gap":i,"data-additional-height":n}}},getChildrenData:function(){var e=this.props.compData.items;return this.props.compProp.loop&&this.contentOverflow?e.concat(e):e},populate:function(t,i){var n=this.props.compProp,s=this.props.compData;return this.itemsHolderWidth=0,this.getChildrenData().map((function(o,r){var p=o,l=this.getSkinExports().imageItem.skin,m=this.getParams(["topPadding","imgHeightDiff"],l),g=a.skinsMap.get(l),y=c.getDisplayerHeightDiff(g,m,this.state.$displayDevice),f=c.getDisplayerWidthDiff(g,this.state.$displayDevice),v=Math.floor(h(this.props,"height")+i),b=this.props.compData.items.length,P=d.getSizeAfterScaling({itemHeight:v,itemWidth:Math.floor(v*(this.props.compProp.aspectRatio||1)),displayerData:p,imageMode:this.props.compProp.imageMode,heightDiff:y,widthDiff:f,bottomGap:t});return this.itemsHolderWidth=this.itemsHolderWidth+P.imageWrapperSize.imageWrapperWidth+this.gap,this.createChildComponent(p,"wysiwyg.viewer.components.Displayer","imageItem",{currentUrlPageId:this.props.currentUrlPageId,galleryDataId:s.id,imageWrapperSize:P.imageWrapperSize,style:{display:"inline-block",margin:"0 ".concat(e.isNumber(n.margin)?n.margin:20,"px 0 0"),height:P.displayerSize.height,width:P.displayerSize.width},isSelected:this.state.currentIndex===r,onClick:u.bind(this,r),displayerDataQuery:o,galleryId:this.props.id,heightDiff:y,widthDiff:f,bottomGap:t,imageIndex:r%b,key:"".concat(this.props.id+p.id,"_").concat(r),ref:"displayer".concat(r),id:"".concat(this.props.id,"displayer").concat(r)})}),this)},prev:function(){this._move(!0)},next:function(){this._move(!1)},_move:function(e){var t=this.props.compProp.maxSpeed||.05;this.slide(e,t,this.props.compProp.loop)},_stopMovement:function(){this._sequenceId&&(this.easeStopSequence(this._sequenceId,1),this._sequenceId=null)},slide:function(e,t,s){if(this.contentOverflow){var o=this.props.getSliderGalleryMeasures(this.props.id),a=o.imagesWidth-(this.props.compProp.margin||0),r=o.itemsContainerWidth,p=i.findDOMNode(this.refs.images).offsetLeft,l=s?-a/2:r-a;this._stopMovement();var c=this.sequence(),d=Math.abs(l)/(60*t),u=d*(e?Math.abs(p/l):1-Math.abs(p/l));c.add("images","BasePosition",u,0,{from:{left:p},to:{left:e?0:l},ease:"Linear.easeNone"}),s&&c.add("images","BasePosition",d,0,{from:{left:e?l:0},to:{left:e?0:l},repeat:s?-1:0,immediateRender:!1,ease:"Linear.easeNone"}),c.onCompleteAll(function(){var e=this.props.compData.items[this.state.currentIndex];this.handleAction(n.siteConstants.ACTION_TYPES.IMAGE_CHANGED,{item:e,imageIndex:this.state.currentIndex})}.bind(this)),this._sequenceId=c.execute({paused:!0}),this.easeStartSequence(this._sequenceId,1),"mobile"===this.state.$mobile&&(this.clearTimeoutNamed(this.props.id),this._nextStopTimeout=this.setTimeoutNamed(this.props.id,function(){this._stopMovement()}.bind(this),2e3))}},onWindowTouchStart:function(e){(e.target.getAttribute("data-gallery-id")||e.target.parentNode.getAttribute("data-gallery-id"))!==this.props.id&&this._stopMovement()}};return o.compRegistrar.register("wysiwyg.viewer.components.SliderGallery",g),g}.apply(t,n))||(e.exports=s)},447:function(e,t,i){var n,s;n=[i(0),i(4),i(10),i(1),i(21),i(50),i(2),i(3)],void 0===(s=function(e,t,i,n,s,o,a,r){"use strict";var p={numCols:3,maxRows:3,margin:0,transition:"seq_crossFade_All",transDuration:1,autoplayInterval:3,autoplay:!1,showAutoplay:!0,showNavigation:!0,showCounter:!0},l=n.linkRenderer,c=n.matrixCalculations,d=o.utils.galleriesHelperFunctions,u=r.utils.galleryPagingCalculations,h=r.utils.matrixAnimationManipulation;function m(t,i){var s=e.defaults({href:i.href||"#",style:e.assign({height:"100%",display:"block",width:"100%",position:"absolute",top:"0px",left:"0px",backgroundColor:"#ffffff",filter:"alpha(opacity=0)",opacity:"0",cursor:i.cursor},n.style.prefix({userSelect:"none",userDrag:"none",userModify:"read-only"}))},i);return i.href||(s.onClick=function(i){var s,o;this.props.handleAction({type:"comp",name:n.siteConstants.ACTION_TYPES.ITEM_CLICKED,sourceId:this.props.id,pageId:this.props.rootId},(s=t,o=e.get(this.state,"currentIndex"),{item:s,timeStamp:n.loggingUtils.performance.now(),imageIndex:o,name:n.siteConstants.ACTION_TYPES.ITEM_CLICKED})),i.preventDefault(),i.stopPropagation()}.bind(this)),a.utils.createReactElement("a",s)}function g(e){return e?e.description:""}function y(t){return{currentIndex:e.get(t,"currentIndex",0),isPlaying:"autoplayOn"===e.get(t,"$slideshow","autoplayOff")}}var f={displayName:"PaginatedGridGallery",mixins:[r.mixins.skinBasedComp,o.mixins.galleryAutoPlayMixin,a.mixins.animationsMixin,i.timersMixins.timeoutsMixin,a.mixins.compStateMixin(y),r.mixins.createChildComponentMixin],propTypes:e.assign({compProp:a.santaTypesDefinitions.Component.compProp.isRequired,compData:a.santaTypesDefinitions.Component.compData.isRequired,id:a.santaTypesDefinitions.Component.id.isRequired,skin:a.santaTypesDefinitions.Component.skin.isRequired,style:a.santaTypesDefinitions.Component.style.isRequired,linkRenderInfo:a.santaTypesDefinitions.Link.renderInfo.isRequired,rootNavigationInfo:a.santaTypesDefinitions.Component.rootNavigationInfo.isRequired,dimensions:a.santaTypesDefinitions.Component.dimensions,isZoomOpened:a.santaTypesDefinitions.isZoomOpened.isRequired,windowTouchEventsAspect:a.santaTypesDefinitions.SiteAspects.windowTouchEvents.isRequired,isMobileView:a.santaTypesDefinitions.isMobileView,isMobileDevice:a.santaTypesDefinitions.Device.isMobileDevice,isMeshLayoutMechanism:a.santaTypesDefinitions.Layout.isMeshLayoutMechanism.isRequired,isTabletDevice:a.santaTypesDefinitions.Device.isTabletDevice,isPlayingAllowed:a.santaTypesDefinitions.RenderFlags.isPlayingAllowed,getPaginatedGridGalleryMeasures:a.santaTypesDefinitions.__DangerousSantaTypes.getPaginatedGridGalleryMeasures,onAnimationCompleteCallback:t.func,createGalleryItem:t.func,getItemRef:t.func,registerReLayout:t.func,compActions:a.santaTypesDefinitions.Component.compActions.isRequired},a.utils.santaTypesUtils.getSantaTypesFromPropTypes(a.components.Image.propTypes)),statics:{behaviors:{nextSlide:{methodName:"next"},prevSlide:{methodName:"prev"}}},getInitialState:function(){return this.props.windowTouchEventsAspect.registerToWindowTouchEvent("touchStart",this),this.isAnimating=!1,this.prevCompProps=e.cloneDeep(this.props.compProp),e.assign(y(),{hoveredImage:null,$itemSelection:"idle",$mobile:this.props.isMobileDevice||this.props.isTabletDevice()?"mobile":"notMobile",$displayDevice:this.props.isMobileView?"mobileView":"desktopView",$animationInProcess:null,$touchRollOverSupport:"touchRollOut"})},componentWillReceiveProps:function(t){var i=!1,n={$mobile:t.isMobileDevice||t.isTabletDevice()?"mobile":"notMobile",$displayDevice:t.isMobileView?"mobileView":"desktopView"};if(this.prevCompProps.autoplay!==t.compProp.autoplay){var s=t.compProp.autoplay&&!this.props.isZoomOpened&&this.props.isPlayingAllowed?"autoplayOn":"autoplayOff";i=!0,n.shouldAutoPlay=t.compProp.autoplay,n.$slideshow=s}this.prevCompProps=e.cloneDeep(t.compProp),this.setState(n,function(){i&&(this.updateAutoplayState(),this.handleAction(n.$slideshow))}.bind(this))},componentDidMount:function(){this.updateAutoplayState()},componentWillUnmount:function(){this.props.windowTouchEventsAspect.unregisterFromWindowTouchEvent("touchStart",this)},getButtonVisibility:function(e,t){return!1===this.props.compProp.showNavigation||this.state.currentIndex===e&&this.state.currentIndex===t||this.props.compProp.isHidden?"hidden":"visible"},getSkinProperties:function(){var t,i,n,s=e.defaults(this.props.compProp,p),o=this.props.compData,a=u.getPageItems(o.items,this.state.currentIndex,s.numCols,s.maxRows),r=this.state.hoveredImage?this.state.hoveredImage.props.compData:null,c=this.state.hoveredImage?function(t,i,n,s,o,a,r,p,l){var c,d,u,h,m={},g="Go to link",y="pointer",f=(c=i.expandEnabled,d=i.galleryImageOnClickAction,(u=d)||(u=!0===c?"zoomMode":"disabled"),u);return t.link&&(h=s(a,p,n)),i.goToLinkText&&(g=i.goToLinkText),"zoomMode"===f?m=o(p,n,t,r,void 0,l):h&&"goToLink"===f?m=h:y="default",e.assign(m,{linkData:h,goToLinkText:g,cursor:y,clickAction:f}),m}(r,s,this.props.rootNavigationInfo,l.renderLink,l.renderImageZoomLink,r.link,o.id,this.props.linkRenderInfo,this.props.id):{},h=u.getNextPageItemIndex(this.state.currentIndex,s.numCols,s.maxRows,o.items.length),y=u.getPrevPageItemIndex(this.state.currentIndex,s.numCols,s.maxRows,o.items.length),f=u.getPageItems(o.items,h,s.numCols,s.maxRows),v=u.getPageItems(o.items,y,s.numCols,s.maxRows),b=this.getButtonVisibility(h,y),P=!this.props.compProp.isHidden&&this.props.compProp.showCounter&&a.length>0?"visible":"hidden",S=this.classSet({"show-counter":"hidden"!==b||"hidden"!==P});return{"":{"data-height-diff":d.getSkinHeightDiff(this.props.skin),"data-width-diff":d.getSkinWidthDiff(this.props.skin),"data-num-cols":this.props.compProp.numCols,"data-max-rows":this.props.compProp.maxRows,"data-margin":this.props.compProp.margin,"data-is-mesh":this.props.isMeshLayoutMechanism,onMouseLeave:function(e,t){this.onRollOut(e,t,!0)}.bind(this),style:{overflow:"hidden"}},itemsContainer:{children:this.createDisplayedItems(a,f,v,h,y),"data-gallery-id":this.props.id,className:S,style:{position:"relative",overflow:"hidden",width:this.props.style.width-d.getSkinWidthDiff(this.props.skin),height:this.props.style.height-d.getSkinHeightDiff(this.props.skin)}},buttonPrev:{onClick:function(e){e&&e.stopPropagation(),this.prev()}.bind(this),"data-gallery-id":this.props.id,style:{visibility:b}},buttonNext:{onClick:function(e){e&&e.stopPropagation(),this.next()}.bind(this),"data-gallery-id":this.props.id,style:{visibility:b}},counter:{children:u.getCounterText(this.state.currentIndex,s.numCols,s.maxRows,o.items.length),style:{visibility:P},"data-gallery-id":this.props.id},autoplay:{onClick:this.toggleAutoPlay,"data-gallery-id":this.props.id,style:{cursor:"pointer",visibility:this.shouldShowAutoPlay()?"visible":"hidden"}},rolloverHolder:{style:this.state.hoveredImage?(i=this.state.hoveredImage,n=this.props.skin,{visibility:"visible",position:"absolute",cursor:"pointer",padding:0,left:parseInt(i.props.style.left,10)+d.getSkinWidthDiff(n)/2,top:parseInt(i.props.style.top,10),width:parseInt(i.props.containerWidth,10),height:parseInt(i.props.containerHeight,10)}):{visibility:"hidden",cursor:"pointer"},"data-gallery-id":this.props.id,"data-hovered-image-id":r?r.id:"",addChildBefore:[m.call(this,r,c),"link"]},title:{children:this.state.hoveredImage?(t=r,t?t.title:""):"","data-gallery-id":this.props.id},description:{children:this.state.hoveredImage?g(r):"","data-gallery-id":this.props.id},link:c.linkData&&e.merge(c.linkData,{children:c.goToLinkText,"data-gallery-id":this.props.id,refInParent:"link",style:{display:"goToLink"!==c.clickAction&&c.linkData?"block":"none"}}),textWrapper:{"data-gallery-id":this.props.id}}},onMouseEnter:function(e){var t=this.refs[e];this.state.hoveredImage!==t&&(this.props.isMeshLayoutMechanism&&this.registerReLayout(),this.setState({hoveredImage:t,$itemSelection:"rollover"}))},onRollOut:function(e,t,i){("IMG"!==e.target.tagName||i)&&this.setState({hoveredImage:null,$itemSelection:"idle"})},onComponentTouchStart:function(e){this.onMouseEnter(e),"touchRollOut"===this.state.$touchRollOverSupport&&this.setState({$touchRollOverSupport:"touchRollOver"})},onWindowTouchStart:function(e){var t=e.target.getAttribute("data-gallery-id")||e.target.parentNode.getAttribute("data-gallery-id");"touchRollOver"===this.state.$touchRollOverSupport&&t!==this.props.id&&(this.onRollOut({target:""},null,!0),this.setState({$touchRollOverSupport:"touchRollOut"}))},next:function(e){this.movePage(!1,e)},prev:function(e){this.movePage(!0,e)},movePage:function(t,i){var n=this.props.compProp,s=this.props.compData,o=t?u.getPrevPageItemIndex(this.state.currentIndex,n.numCols,n.maxRows,s.items.length):u.getNextPageItemIndex(this.state.currentIndex,n.numCols,n.maxRows,s.items.length);if(this.isAnimating||o===this.state.currentIndex)return this._movePageQueue||(this._movePageQueue=[]),void this._movePageQueue.push(t);var a,r,p=u.getPageItems(s.items,o,n.numCols,n.maxRows),l=u.getPageItems(s.items,this.state.currentIndex,n.numCols,n.maxRows);this.props.createGalleryItem?(a=this.convertDataItemsToRefs(l,this.state.currentIndex),r=this.convertDataItemsToRefs(p,o)):(a=e.map(l,"id"),r=e.map(p,"id")),p&&(this.props.registerReLayout?this.props.registerReLayout():this.registerReLayout(),this.setState({$animationInProcess:"animationInProcess",$itemSelection:"idle"},(function(){this.performAnimation(a,r,t,o,i)})))},performAnimation:function(t,i,n,s,o){var a=this.props.compProp,r=c.getAvailableRowsNumber(a.maxRows,a.numCols,this.props.compData.items.length),p=h.getSortedArrayAndStagger(a.transition,t,i,r,a.numCols,this.timingFunctionIndex||0),l=p.transName,u=this.props.getPaginatedGridGalleryMeasures(this.props.id),m=function(e,t,i,n,s,o){var a=c.getItemWidth(e.margin,e.numCols,t,d.getSkinWidthDiff(s)),r=c.getItemHeight(e.margin,i,n,d.getSkinHeightDiff(s)),p=t-d.getSkinWidthDiff(s)+e.margin,l=i-d.getSkinHeightDiff(s)+e.margin;return{width:"Shrink"===o?a:p,height:"Shrink"===o?r:l}}(a,u.width||this.props.style.width,u.height||this.props.style.height,r,this.props.skin,l);this.timingFunctionIndex=p.timingFunctionIndex+1;var g,y,f,v="none"===a.transition?0:a.transDuration,b=p.stagger,P=this.sequence(),S=p.sporadicallyRandom&&p.sourceNodesArrSorted.length>1;p.sourceNodesArrSorted.length!==p.destNodesArrSorted.length&&(g=p.sourceNodesArrSorted,y=p.destNodesArrSorted,f=Math.max(g.length,y.length),e.times(f,(function(e){g[e]||(g[e]="emptyDivToFillMatrix"),y[e]||(y[e]="emptyDivToFillMatrix")}))),e.forEach(p.sourceNodesArrSorted,(function(e,t){var i=p.destNodesArrSorted[t],s={width:m.width,height:m.height,reverse:S?Math.random()>.5:!!n},o=b;"Shrink"!==l&&"CrossFade"!==l||(s.stagger=b,o=0),P.add({sourceRefs:e,destRefs:i},l,v,0,s,t*o)})),P.onStartAll(function(){this.isAnimating=!0}.bind(this)).onCompleteAll(function(){this.animationCompleteCallback(s,o)}.bind(this)).execute()},animationCompleteCallback:function(t,i){this.isAnimating=!1,this.props.onAnimationCompleteCallback&&this.props.onAnimationCompleteCallback(),this.setState({currentIndex:t,$animationInProcess:null},function(){this.updateAutoplayState(),e.isFunction(i)&&i()}.bind(this)),this._movePageQueue&&this._movePageQueue.length>0&&setTimeout(function(){this.movePage(this._movePageQueue.shift())}.bind(this),100)},createDisplayedItems:function(t,i,n,s,o){var a=this.props.compProp,r=this.props.compData,p=parseFloat(this.props.style.width),l=c.getItemWidth(a.margin,a.numCols,p,d.getSkinWidthDiff(this.props.skin)),u=c.getAvailableRowsNumber(a.maxRows,a.numCols,r.items.length),h=c.getItemHeight(a.margin,this.props.style.height,u,d.getSkinHeightDiff(this.props.skin)),m=[],g=[],y=e.map(t,function(e,i){return this.createGalleryItem(e,i,l,h,this.state.currentIndex,t.length,"curr")}.bind(this));return s!==this.state.currentIndex&&(m=e.map(i,function(e,t){return this.createGalleryItem(e,t,l,h,s,i.length,"next",{visibility:"hidden"})}.bind(this))),o!==s&&o!==this.state.currentIndex&&(g=e.map(n,function(e,t){return this.createGalleryItem(e,t,l,h,o,n.length,"prev",{visibility:"hidden"})}.bind(this))),m.concat(g).concat(y)},createGalleryItem:function(e,t,i,n,s,o,a,r){return this.props.createGalleryItem?this.props.createGalleryItem(this.props.id,e,t,s,o,r,this.classSet):this.createImageItem(e,t,i,n,s,a,r)},convertDataItemsToRefs:function(e,t){for(var i=[],n=0;n<e.length;n++){var s=this.props.getItemRef?this.props.getItemRef(this.props.id,t,n):this.getImageItemRef(t,n);i.push(s)}return i},getImageItemRef:function(e,t){return this.props.id+e+t},createImageItem:function(t,i,n,o,a,r,p){var l=c.getItemPosition(i,n,o,this.props.compProp.margin,this.props.compProp.numCols),d=c.getImageStyle(o,n,t.height,t.width);return this.createChildComponent(t,"core.components.Image","img",{id:this.props.id+t.id,ref:t.id,key:t.id,imageData:t,containerWidth:Math.round(n),containerHeight:Math.round(o),displayMode:s.fittingTypes.SCALE_TO_FILL,imgStyle:d,"data-gallery-id":this.props.id,"data-page-desc":r,"data-query":t.id,"data-image-index":a+i,onMouseEnter:this.onMouseEnter.bind(this,t.id),onTouchStart:this.onComponentTouchStart.bind(this,t.id),style:e.merge({left:l.left,top:l.top,position:"absolute",overflow:"hidden",transform:"none",clip:"auto"},p)})}};return r.compRegistrar.register("wysiwyg.viewer.components.PaginatedGridGallery",f),f}.apply(t,n))||(e.exports=s)},448:function(e,t,i){var n,s;function o(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var i=[],n=!0,s=!1,o=void 0;try{for(var a,r=e[Symbol.iterator]();!(n=(a=r.next()).done)&&(i.push(a.value),!t||i.length!==t);n=!0);}catch(e){s=!0,o=e}finally{try{n||null==r.return||r.return()}finally{if(s)throw o}}return i}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){if(e){if("string"==typeof e)return p(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}n=[i(0),i(122),i(2),i(3)],void 0===(s=function(e,t,i,n){"use strict";var s=i.santaTypesDefinitions,r=t.mediaLogicMixins.fill,p=n.mixins.createChildComponentMixin,c=i.mixins,d=c.scrollMixin,u=c.inlineContentMixin,h=i.utils,m=h.lightboxLayerHelper,g=h.pinnedLayerHelper,y=function(e){var t,i={left:"left",right:"right",center:"hCenter"},n={top:"top",bottom:"bottom",center:"vCenter"};return"nineGrid"===e.alignmentType?(l(t={},i[e.horizontalAlignment],{px:e.horizontalOffset}),l(t,n[e.verticalAlignment],{px:e.verticalOffset}),t):"fullHeight"===e.alignmentType?l({top:{px:0},bottom:{px:0}},i[e.horizontalAlignment],{px:0}):"fullWidth"===e.alignmentType?l({left:{px:0},right:{px:0}},n[e.verticalAlignment],{px:0}):void 0},f=function(t,i){return[e.defaults({docked:y(i)},t.components[0])]},v={displayName:"WixPage",mixins:[r,n.mixins.skinBasedComp,d,p,u],propTypes:{id:i.santaTypesDefinitions.Component.id,compProp:i.santaTypesDefinitions.Component.compProp.isRequired,compDesign:i.santaTypesDefinitions.Media.Popup.data,compStaticBehaviors:i.santaTypesDefinitions.Component.compStaticBehaviors,defaultBackgroundStyle:i.santaTypesDefinitions.Container.defaultBackgroundStyle.isRequired,isExperimentOpen:i.santaTypesDefinitions.isExperimentOpen,isMobileView:i.santaTypesDefinitions.isMobileView.isRequired,isMobileDevice:i.santaTypesDefinitions.Device.isMobileDevice.isRequired,isMeshLayoutMechanism:i.santaTypesDefinitions.Layout.isMeshLayoutMechanism.isRequired,meshParams:i.santaTypesDefinitions.Component.meshParams,layoutContainerClassName:i.santaTypesDefinitions.Layout.layoutContainerClassName,closePopupPage:i.santaTypesDefinitions.popupPage.close,siteWidth:i.santaTypesDefinitions.siteWidth.isRequired,siteScrollingBlocker:i.santaTypesDefinitions.SiteAspects.siteScrollingBlocker.isRequired,markVisitedPage:i.santaTypesDefinitions.Page.markVisitedPage,renderParts:i.santaTypesDefinitions.Media.Popup.renderParts,pageStub:s.Component.pageStub,pageMinHeightDefault:i.santaTypesDefinitions.pageMinHeightDefault.isRequired,playbackUrl:i.santaTypesDefinitions.Media.Popup.playbackUrl,playbackFormat:i.santaTypesDefinitions.Media.Popup.playbackFormat,playbackConfig:i.santaTypesDefinitions.Media.Popup.playbackConfig,defaultContentArea:i.santaTypesDefinitions.Container.defaultContentArea.isRequired,fixedChildrenIDs:s.Component.fixedChildrenIDs,pinnedChildrenIDs:s.Component.pinnedChildrenIDs,isPopupPage:s.Page.isPopupPage,popupAlignment:s.Page.popupAlignment,wixTopAdsHeight:s.WixAds.wixTopAdsHeight,isResponsive:s.RendererModel.isResponsive,componentViewMode:i.santaTypesDefinitions.RenderFlags.componentViewMode,pageComponentTypes:s.Page.pageComponentTypes,browser:i.santaTypesDefinitions.Browser.browser.isRequired},statics:{behaviors:t.mediaBehaviors.fill},componentDidMount:function(){this.props.isPopupPage&&this.props.isMobileView&&this.props.isMobileDevice&&this.props.siteScrollingBlocker.setSiteScrollingBlocked(this,!0),this.props.markVisitedPage&&this.props.markVisitedPage(this.props.id)},componentWillUnmount:function(){this.props.isPopupPage&&this.props.isMobileView&&this.props.isMobileDevice&&this.props.siteScrollingBlocker.setSiteScrollingBlocked(this,!1)},shouldCloseOverlay:function(t){return e.get(this.props,["compProp",t,"popup","closeOnOverlayClick"])},getBalataProps:function(){var i,n,s,o=this.props.isMobileView?"mobile":"desktop";return{id:this.props.id,onClick:this.shouldCloseOverlay(o)?this.props.closePopupPage:null,bgStyle:(i=this.props.isMobileView,n=this.props.siteWidth,s=t.popupMediaStyle,i?e.defaults({width:"".concat(n,"px"),left:"",right:""},s):e.defaults({height:"auto"},s)),playbackFormat:this.props.playbackFormat,playbackConfig:this.props.playbackConfig,playbackUrl:this.props.playbackUrl}},getRootStyle:function(){return this.props.isPopupPage?{top:0,left:0,position:"relative"}:{position:"absolute"}},getSkinProperties:function(){return this.props.isPopupPage?this.getPopupPageSkinProperties():this.getPageSkinProperties()},isMobile:function(){return!(!this.props.isMobileView&&!this.props.isMobileDevice)},getPageMinHeight:function(){return e.get(this.props.compProp,[[this.isMobile()?"mobile":"desktop"],"minHeight"],0)||this.props.pageMinHeightDefault},getMeshOverridesParams:function(){return{minHeight:this.getPageMinHeight(),fitToContentHeight:!0,fitToContentPadding:e.get(this.getSkinExports(),"paddingBottom",0),width:this.props.siteWidth}},renderChildrenForMesh:function(){var t=this.props,i=t.id,n=t.browser,s=t.pinnedChildrenIDs,r=t.wixTopAdsHeight,p=t.isExperimentOpen,l=a(e.partition(this.props.children,(function(e){return!!s[e.props.id]})),2),c=l[0],d=l[1],u=this.getChildrenRenderer({overrides:this.getMeshOverridesParams(),contentArea:this.props.defaultContentArea,children:d});if(!p("bv_pinnedRoot")){var h=e.filter(this.props.meshParams.components,(function(t){return!0===e.get(t,"isFixed",!1)&&e.has(t,"docked")}));return[g.createPinnedLayer({id:"".concat(i,"-pinned-layer"),children:c,childrenMeshParams:h,browser:n,wixTopAdsHeight:r})].concat(o(u))}return u},renderChildrenForMeshPopup:function(){var e=this.props,t=e.id,i=e.browser,n=e.meshParams,s=e.popupAlignment;return[m.createLightboxLayer({id:t,children:this.props.children,childrenMeshParams:f(n,s),browser:i,isFixedLayer:!1})]},getResponsiveChildrenRenderer:function(){var e=this,t=this.props,i=t.fixedChildrenIDs,n=t.children,s=t.wixTopAdsHeight,o=t.browser,a=[];return n.forEach((function(t){a.push(i.includes(t.props.id)?g.createPinnedLayer({id:"".concat(t.props.id,"-pinned-layer"),children:[t],childrenMeshParams:{},browser:o,wixTopAdsHeight:s}):e.getChildrenRenderer({overrides:e.getMeshOverridesParams(),contentArea:e.props.defaultContentArea,children:[t]}))})),a},getPageInlineContentChildren:function(){var e=this.props,t=e.isMeshLayoutMechanism,i=e.isPopupPage;return e.isResponsive?this.getResponsiveChildrenRenderer():t?i?this.renderChildrenForMeshPopup():this.renderChildrenForMesh():this.getChildrenRenderer({overrides:this.getMeshOverridesParams(),contentArea:this.props.defaultContentArea})},getPageSkinProperties:function(t){var i=this.props,n=i.isMeshLayoutMechanism,s=i.isResponsive,o=n?"auto":this.props.structure.layout.height,a=e.assign({height:o,left:0},n?{height:"100%",position:"relative"}:{minWidth:this.props.siteWidth,minHeight:this.getPageMinHeight()});return{"":{"data-ismobile":this.isMobile(),"data-is-mesh-layout":n,style:s?{}:a},bg:{style:this.props.defaultBackgroundStyle},inlineContent:e.assign(t,{className:this.props.layoutContainerClassName,children:this.getPageInlineContentChildren()})}},getPopupPageSkinProperties:function(){var t=this.props,i=t.isMeshLayoutMechanism,n=t.isResponsive,s=t.componentViewMode,o=e.assign({pointerEvents:"none",minHeight:"100vh",minWidth:this.props.siteWidth},this.getRootStyle(),i&&{position:"relative",height:"auto",display:"grid"}),a={pointerEvents:"editor"===s?"auto":"none",position:"absolute",top:0,left:0,width:"100%",height:"auto",minHeight:"100vh"},r=e.omit(this.getPageSkinProperties(),n?[""]:[".style"]);return e.merge(r,{"":{style:n?a:o,"data-ispopup":this.props.isPopupPage},bg:n?{}:this.createFillLayers(this.getBalataProps())})}};return n.compRegistrar.register("wixapps.integration.components.AppPage",v).register("mobile.core.components.Page",v),v}.apply(t,n))||(e.exports=s)},449:function(e,t,i){var n,s;n=[i(0),i(21),i(1),i(2),i(122),i(46),i(3)],void 0===(s=function(e,t,i,n,s,o,a){"use strict";var r=t.fittingTypes,p=i.mediaConsts,l=i.containerBackgroundUtils;function c(t,i){var n=e.get(t,"scrollType"),s=e.get(t,["mediaRef","type"]);return(!("Image"===s||"WixVideo"===s)||function(e){return e.isMobileView?"viewport"!==e.compData.mediaSizing:!e.fixedSiteBackground}(i)||i.isAndroidOldBrowser)&&(n="scroll"),n}function d(e,t){var i=t?1e3:1920,n=Math.min(i,e.width);return{width:n,height:Math.min(i,Math.round(n/(e.width/e.height)))}}function u(t,n,s){var o=function(t,i){var n="absolute";return"WixVideo"!==e.get(t,["mediaRef","type"])&&"fixed"!==i&&"parallax"!==i||(n="fixed"),n}(n,c(n,t)),a={top:0,height:"100%",width:"100%",backgroundColor:i.colorParser.getColor(t.colorsMap,n.color),display:s?"none":"",position:o};return"fixed"===o&&(t.isMobileView?a.willChange="transform":a.top="".concat(t.style.top,"px")),a}function h(e){var t="100%";return"parallax"===e&&(t="120%"),t}function m(e){var t=0;return"parallax"===e&&(t=0),t}function g(n,s){var o,a=s.mediaRef,p=c(s,n),u={position:"absolute",top:m(p),height:h(p),width:"100%",opacity:a&&a.opacity};if(n.isMobileView&&"fixed"===p&&(u.willChange="transform"),n.shouldRenderSrc&&"Image"===(o=s,e.get(o,["mediaRef","type"],"Color"))){var g=function(n,s){var o=s.mediaRef,a=d(o,n.isMobileView),p=l.getImageUrlPreMeasureParams(a,o,s.fittingType,s.alignType,n.isMobileView,n.isInSeo),c={width:p.width,height:p.height,htmlTag:"bg",alignment:s.alignType,devicePixelRatio:p.devicePixelRatio},u={width:o.width,height:o.height,id:o.uri},h=t.getData(p.fittingType,u,c,e.pick(p,"filters")),m=t.getData(s.fittingType,u,e.assign(c,a)),g=i.urlUtils.isExternalUrl(h.uri)?h.uri:i.urlUtils.joinURL(n.staticMediaUrl,h.uri),y=e.assign({},m.css.container,p.imageCss);(function(e){return e.isMobileView&&"viewport"===e.compData.mediaSizing})(n)&&(y.backgroundPosition=m.css.container.backgroundPosition.replace(/(center|bottom)$/,"top"),s.fittingType===r.SCALE_TO_FILL&&(y.height="100vh"));return{url:g,css:y}}(n,s),y=g.url,f=g.css;u.backgroundImage="url(".concat(y,")"),e.assign(u,f)}return u}function y(t,i){var n=t.background,s=i.background,o=n.mediaRef||{},a=s.mediaRef||{},r=!n.mediaRef&&!s.mediaRef,p=r||o.type===a.type,l=t.mediaSizing===i.mediaSizing,c=["type","alignType","fittingType","scrollType","colorOverlay","colorOverlayOpacity","color","videoId","uri","opacity"];return"WixVideo"===o.type&&p?c=e.without(c,"color"):r&&(c=["color"]),p&&l&&function t(i,n,s,o){var a=e.every(o,(function(e){return(i&&i[e])===(n&&n[e])}));return a=a&&e.every(s,(function(e){return!i||t(i[e],n[e],s,o)}))}(n,s,["mediaRef","imageOverlay"],c)}function f(e,t){var n=t.colorOverlay?i.colorParser.getColor(e.colorsMap,t.colorOverlay,t.colorOverlayOpacity):null;return{position:"absolute",top:0,width:"100%",height:"100%",backgroundImage:function(e,t){if(!t)return null;return"url(".concat(i.urlUtils.joinURL(e.staticMediaUrl,t.uri),")")}(e,t.imageOverlay),backgroundColor:n}}var v={displayName:"SiteBackground",mixins:[s.mediaLogicMixins.fill,a.mixins.skinBasedComp,n.mixins.animationsMixin,o.mixins.backgroundDetectionMixin,a.mixins.createChildComponentMixin],propTypes:e.defaults({id:n.santaTypesDefinitions.Component.id,compData:n.santaTypesDefinitions.Media.SiteBackground.data,actionsAspect:n.santaTypesDefinitions.SiteAspects.actionsAspect.isRequired,currentUrlPageId:n.santaTypesDefinitions.Component.currentUrlPageId,isMobileView:n.santaTypesDefinitions.isMobileView.isRequired,isInSeo:n.santaTypesDefinitions.isInSeo,isAndroidOldBrowser:n.santaTypesDefinitions.mobile.isAndroidOldBrowser,colorsMap:n.santaTypesDefinitions.Theme.colorsMap,staticMediaUrl:n.santaTypesDefinitions.ServiceTopology.staticMediaUrl,componentViewMode:n.santaTypesDefinitions.RenderFlags.componentViewMode.isRequired,hideSiteBackground:n.santaTypesDefinitions.RenderFlags.hideSiteBackground.isRequired,isPlayingAllowed:n.santaTypesDefinitions.RenderFlags.isPlayingAllowed,fixedSiteBackground:n.santaTypesDefinitions.BrowserFlags.fixedSiteBackground,renderParts:n.santaTypesDefinitions.Media.SiteBackground.renderParts,playbackFormat:n.santaTypesDefinitions.Media.SiteBackground.playbackFormat,playbackConfig:n.santaTypesDefinitions.Media.SiteBackground.playbackConfig,playbackUrl:n.santaTypesDefinitions.Media.SiteBackground.playbackUrl,style:n.santaTypesDefinitions.Component.style.isRequire,renderType:n.santaTypesDefinitions.PublicModel.renderType},n.utils.santaTypesUtils.getSantaTypesByDefinition(o.components.html5Video)),statics:{behaviors:s.mediaBehaviors.fill},previousScroll:null,getInitialState:function(){return this.size={},{resetAttachment:!1,hidePrevious:!1,showMedia:!1}},callForBackgroundChange:function(t){var i={onComplete:function(){this.isPageChanged()&&(e.result(this.refs,["previousVideo","kill"]),this.setState({previousPageBackground:null,resetAttachment:!1,hidePrevious:!0}))}.bind(this)};this.props.actionsAspect.registerNextBGPageTransition(this,"previous","current",i),this.setState({previousPageBackground:t,resetAttachment:!0,hidePrevious:!1,currentVisiblePageId:null})},handlePageChange:function(t,i){if(i.currentUrlPageId!==t.currentUrlPageId){var n=i.mediaAspect.getPrevPageBackground()||i.compData;y(n,t.compData)?(e.result(this.refs,["previousVideo","kill"]),this.setState({previousPageBackground:null,currentVisiblePageId:this.state.currentVisiblePageId||i.compData.background.id})):this.callForBackgroundChange(e.assign(n.background,{renderParts:e.cloneDeep(i.renderParts),playbackConfig:e.cloneDeep(i.playbackConfig),playbackUrl:i.playbackUrl,playbackFormat:i.playbackFormat}))}},UNSAFE_componentWillReceiveProps:function(e){this.handlePageChange(e,this.props),this.handleVideoDataChange(this.props,e)},handleParallaxBehavior:function(e){var t=c(e,this.props);("parallax"===this.previousScroll||"parallax"===t)&&(this.previousScroll=t,"parallax"===t?this.props.actionsAspect.registerBehaviors("currentImage","siteBackground",[{action:"bgScrub",name:"SiteBackgroundParallax",duration:1,delay:0}]):this.props.actionsAspect.unRegisterBehaviors("currentImage",[{action:"bgScrub",name:"SiteBackgroundParallax",duration:1,delay:0}]))},getClasses:function(){return""},isPageChanged:function(){return this.props.compData.background.id!==e.get(this.state,["previousPageBackground","id"])},createVideoComponent:function(t,i,n,s,o,a){var r="wysiwyg.viewer.components.background.html5Video",c="skins.viewer.bgVideo.html5VideoSkin",u="bgVideo",h=t.mediaRef,m="current"===i;if("WixVideo"!==e.get(h,"type"))return m&&this.setMediaAPI(null),null;var g=d(h.posterImageRef,this.props.isMobileView),y=this.props,f=y.isMobileView,v=y.isInSeo,b=l.getImageUrlPreMeasureParams(g,h.posterImageRef,t.fittingType,t.alignType,f,v);return this.createChildComponent(h,r,{skin:c,styleId:u},{id:"".concat(this.props.id+i,"Video"),parentId:this.props.id,key:"vid_".concat(h.videoId),style:{width:"100%",height:"100%"},notifyMediaState:this.onMediaStateChange,setMediaAPI:m?this.setMediaAPI:e.noop,videoRenderParts:n,playbackUrl:s,format:o,config:a,className:"siteBackground".concat(i,"Video"),showMedia:this.state.showMedia,isPlayingAllowed:this.props.isPlayingAllowed,notifyVideoVisibility:m?this.notifyVideoVisibility:e.noop,posterWidth:g.width,posterHeight:g.height,shouldRenderSrc:this.props.shouldRenderSrc,imageUrlPreMeasureParams:b,fittingType:t.fittingType,alignType:t.alignType,compProp:e.pick(h,p.playback.SUPPORTED_MEDIA_ATTRIBUTES),isEditorMode:"editor"===this.props.componentViewMode,wixVideoLayout:"bolt"===this.props.renderType})},notifyVideoVisibility:function(e){e!==this.state.showMedia&&this.setState({showMedia:e})},getSkinProperties:function(){var t=this.state.currentVisiblePageId||this.props.compData.background.id,i=e.get(this.state.previousPageBackground,"id","noPrev");i=i===t?"noPrev":i;var n,s,o=null,a=this.props.id,r=this.props.compData.background,l=g(this.props,r),d={id:"".concat(a,"_currentImage_").concat(t),style:l,"data-type":p.balataConsts.BG_IMAGE,"data-height":l.height},h=this.createVideoComponent(r,"current",this.props.renderParts.media.video,this.props.playbackUrl,this.props.playbackFormat,this.props.playbackConfig);h||this.setMediaAPI(null),this.state.previousPageBackground&&(o=this.state.previousPageBackground,s={id:"".concat(a,"_previousImage_").concat(i),style:o?g(this.props,o):{}},n=this.createVideoComponent(o,"previous",o.renderParts.media.video,o.playbackUrl,o.playbackFormat,o.playbackConfig)),this.handleParallaxBehavior(r);var m=u(this.props,r,!1),y=this.props.style,v=y.minHeight,b={"":{id:a,style:{height:"100%",top:y.top,minHeight:v},className:this.getClasses(),"aria-hidden":this.state.isAriaHidden},current:{key:t+c(r,this.props)+this.props.componentViewMode,id:"".concat(a,"_current_").concat(t),style:m,"data-position":m.position,"data-align":r.alignType,"data-fitting":r.fittingType},currentImage:d,currentVideo:h,currentOverlay:{id:"".concat(a,"_currentOverlay_").concat(t),style:f(this.props,r)},previous:{key:i+c(o,this.props)+this.props.componentViewMode,id:"".concat(a,"_previous_").concat(i),style:o?u(this.props,o,this.state.hidePrevious):{},"data-position":m.position,"data-align":e.get(o,"alignType",""),"data-fitting":e.get(o,"fittingType","")},previousImage:s,previousVideo:n,previousOverlay:{id:"".concat(a,"_previousOverlay_").concat(i),style:o?f(this.props,o):{}}};return this.props.hideSiteBackground&&(b[""]["data-dead-comp"]=!0),b},setAriaHiddenState:function(e){this.setState({isAriaHidden:e})}};return a.compRegistrar.register("wysiwyg.viewer.components.SiteBackground",v),v}.apply(t,n))||(e.exports=s)},450:function(e,t,i){var n,s;n=[i(1),i(451),i(452)],void 0===(s=function(e,t,i){"use strict";e.jsonUpdaterRegistrar.registerPlugin("wysiwyg.viewer.components.Repeater",i),e.jsonUpdaterRegistrar.registerLayouterComp("wysiwyg.viewer.components.Repeater",t)}.apply(t,n))||(e.exports=s)},451:function(e,t,i){var n,s;n=[i(0),i(1)],void 0===(s=function(e,t){"use strict";var i=t.constants.COMP_LAYOUT_OPTIONS.REPEATER.ALIGNMENTS;function n(e,t,n,s){return e?function(e,t,n,s){switch(e){case i.LEFT:return 0;case i.RIGHT:return t;case i.CENTER:return t/2;case i.JUSTIFY:return t/(s>1?s-1:1)*n}}(e,t,n,s):0}var s={CardsLayoutProperties:function(t,s,o,a,r,p,l){var c=e.assign({},s.get(o[0]),a),d=t.getInnerPointer(r,["layout"]),u=s.get(d),h=p.alignment!==i.JUSTIFY?p.gap.horizontal:0,m=p.gap.vertical,g=u.width;l&&(g=l.width);var y=function(e,t,i){return e<t?1:Math.floor((e-t)/(t+i))+1}(g,c.width,h),f=Math.min(y,o.length),v=g-h*(f-1)-c.width*f,b=p.direction;if(e.transform(o,(function(t,r,l){var d=l%y;if(l>=y){var u=m+(e.get(a,"height")||s.get(o[l-y]).height);t[d]+=u}var P=n(p.alignment,v,d,f),S=function(e,t,n){return e!==i.JUSTIFY?n*t:0}(p.alignment,d,h),k=d*c.width+P+S,T={y:t[d],x:"rtl"!==b?k:g-c.width-k};s.merge(r,e.defaults(T,a))}),e.fill(Array(y),0)),g<c.width){var P=e.defaults({width:Math.max(g,c.width)},u);s.set(d,P)}}};return{setLayout:function(t,i,n,o,a){var r=i.get(t.getInnerPointer(n,["propertyQuery"])),p=i.get(t.data.getPropertyItem(r,t.components.getPageOfComponent(n).id)),l=t.components.getChildren(n);if(!e.isEmpty(l)&&p){var c=e.map(l,(function(e){return t.getInnerPointer(e,["layout"])}));s[p.type](t,i,c,o,n,p,a)}}}}.apply(t,n))||(e.exports=s)},452:function(e,t,i){var n,s;n=[i(0),i(1)],void 0===(s=function(e,t){"use strict";function i(t){return[t.id].concat(e.flatMap(t.components,i))}return function(n,s){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clear:e.noop,update:e.noop},a=s(n),r=n.components[0];if(!r||!a.dataItem)return n;if(e.isEmpty(a.dataItem.items))return e.defaults({components:[],layout:e.defaults({height:r.layout.height},n.layout)},n);var p=i(r);e.forEach(p,o.clear);var l=e.reduce(a.dataItem.items,(function(e,i){return e.concat(t.displayedOnlyStructureUtil.getUniqueStructure(r,i,o.update))}),[]);return e.defaults({components:l},n)}}.apply(t,n))||(e.exports=s)},453:function(e,t,i){var n,s;n=[i(1),i(454)],void 0===(s=function(e,t){"use strict";e.jsonUpdaterRegistrar.registerPlugin("wysiwyg.viewer.components.tpapps.TPAWidget",t),e.jsonUpdaterRegistrar.registerPlugin("wysiwyg.viewer.components.tpapps.TPASection",t),e.jsonUpdaterRegistrar.registerPlugin("wysiwyg.viewer.components.tpapps.TPAGluedWidget",t),e.jsonUpdaterRegistrar.registerPlugin("wysiwyg.viewer.components.tpapps.TPAMultiSection",t)}.apply(t,n))||(e.exports=s)},454:function(e,t,i){var n,s;n=[i(0),i(1)],void 0===(s=function(e,t){"use strict";function i(i,n,s,o){if(!(i&&i[n]&&i[n].widgets&&i[n].widgets[s]))return!1;var a=i[n].widgets[s];return e.get(a,"componentFields.componentUrl",!1)||t.scriptsOverridesService.getUrlOverrideForWidget(s,o.widgetsUrlOverride)}function n(t){var i=t&&e.isFunction(t.getClientSpecMap)?t.getClientSpecMap():e.get(t,"rendererModel.clientSpecMap");return i&&e.isFunction(i.toJS)?i.toJS():i}function s(t){return e.get(t,["rendererModel","previewMode"])}return function(t,o,a,r){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0,a=n(t),r=e.isFunction(t.getQueryParams)?t.getQueryParams():{},p=e.get(o,"dataItem.widgetId"),l=e.get(o,"dataItem.applicationId");return!(!p||s(t))&&!!i(a,l,p,r)}(r,o(t))?e.assign({},t,{componentType:"wysiwyg.viewer.components.tpapps.TPAWidgetNative",skin:"wysiwyg.viewer.skins.TPAWidgetNativeSkin"}):t}}.apply(t,n))||(e.exports=s)},455:function(e,t,i){var n,s;n=[i(1),i(3)],void 0===(s=function(e,t){"use strict";var i={displayName:"BgImageStrip",mixins:[t.mixins.skinBasedComp],getSkinProperties:function(){return{bg:{style:{},"data-align-type":this.props.compProp.alignType,"data-fitting-type":this.props.compProp.fittingType,"data-type":e.mediaConsts.balataConsts.BG_IMAGE}}}};return t.compRegistrar.register("wysiwyg.viewer.components.BgImageStrip",i),i}.apply(t,n))||(e.exports=s)},46:function(e,t){e.exports=u},47:function(e,t){e.exports=h},5:function(e,t){e.exports=o},50:function(e,t){e.exports=m},6:function(e,t){e.exports=a},60:function(e,t){e.exports=g},69:function(e,t){e.exports=y},7:function(e,t){e.exports=r},70:function(e,t){e.exports=f},91:function(e,t,i){var n,s;function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}n=[i(4),i(0),i(1),i(46),i(3),i(2)],void 0===(s=function(e,t,i,n,s,a){"use strict";var r=i.mediaConsts.balataConsts,p=r.MEDIA,l=r.OVERLAY,c=r.UNDERLAY,d=r.MEDIA_PARAMS,u=r.MEDIA_PADDING_PARAMS,h=r.OVERLAY_PARAMS,m=r.COLOR_BG_PARAMS,g={transform:"translateZ(0px)"};function y(e,n,s){var o=n[i.mediaConsts.balataConsts[e]]||{},a=t.get(s,["transforms",e],{}),r=t.merge({},o,a),p={};return r.opacity&&(p.opacity=r.opacity,r=t.omit(r,"opacity")),t.isEmpty(r)||(p.transform=t.reduce(r,(function(e,t,i){return e+="".concat(i,"(").concat(t,") ")}),"")),p}function f(e,t){return!t||"WixVideo"!==t.type&&"Video"!==t.type?e:0}function v(e){var i=e.compDesign,n=e.compData;return t.get(i,"background",t.get(n,"background",{}))}function b(e,t){return P(e,t)?e.clipParallaxWithWebkitClipPath()?{WebkitClipPath:"inset(0)"}:{clip:"rect(0,auto,auto,0)"}:{}}function P(e,t){return!e.isMediaPlayer&&t}var S={displayName:"Balata",mixins:[s.mixins.skinBasedComp,s.mixins.createChildComponentMixin],propTypes:t.defaults({id:e.string.isRequired,parentId:e.string.isRequired,compData:e.object,compDesign:e.object,compProp:e.object,compBehaviors:e.array,rotationInDegrees:e.number,style:e.object,onClick:e.func,playerStyle:e.object,isDesktopDevice:a.santaTypesDefinitions.Device.isDesktopDevice.isRequired,isMobileView:a.santaTypesDefinitions.isMobileView.isRequired,componentViewMode:a.santaTypesDefinitions.RenderFlags.componentViewMode.isRequired,designDataChangeAspect:a.santaTypesDefinitions.SiteAspects.designDataChangeAspect.isRequired,clipParallaxWithWebkitClipPath:a.santaTypesDefinitions.BrowserFlags.clipParallaxWithWebkitClipPath,fixedBackgroundColorBalata:a.santaTypesDefinitions.BrowserFlags.fixedBackgroundColorBalata.isRequired,renderType:a.santaTypesDefinitions.PublicModel.renderType,isPlayingAllowed:e.PropTypes.bool,isEditorMode:e.PropTypes.bool,enableVideo:e.PropTypes.bool,enableBackgroundPadding:e.PropTypes.bool,notifyMediaState:e.PropTypes.func,registerStateChange:e.PropTypes.func,unregisterStateChange:e.PropTypes.func,setMediaAPI:e.PropTypes.func,playbackFormat:e.PropTypes.string,playbackConfig:e.PropTypes.object,playbackUrl:e.PropTypes.string,renderParts:e.PropTypes.object,getIsVisible:e.PropTypes.func,addVisibilityStateListener:e.PropTypes.func,addWebGLContext:e.PropTypes.func,removeWebGLContext:e.PropTypes.func,mask:e.PropTypes.object,maskPosterFallback:e.PropTypes.object,bgEffectName:e.string,isFullScreenHeight:e.PropTypes.bool,isFullScreenAndFixed:e.PropTypes.bool},a.utils.santaTypesUtils.getSantaTypesByDefinition(n.components.bgMedia),a.utils.santaTypesUtils.getSantaTypesByDefinition(n.components.bgOverlay)),getInitialState:function(){return{transforms:{}}},UNSAFE_componentWillReceiveProps:function(e){this.handleDesignDataBehaviors(e)},getBalataLayers:function(e){var i,n,s,r,v,P,S,k,T=this.props,M=T.bgEffectName,I=T.isFullScreenHeight,C=T.isFullScreenAndFixed,D=[],w=[],A=function(e,t,i,n){var s={skin:m.skin,styleId:m.style},o={style:y(c,i,t),colorOverlay:i.color,colorOverlayOpacity:f(i.colorOpacity,i.mediaRef),isFullScreenAndFixed:n,id:e.id+m.ref,ref:m.ref};return[null,m.comp,s,o]}(this.props,this.state,e,C);if(D.push(this.createChildComponent.apply(this,o(A))),!t.isEmpty(e.mediaRef)){var x=function(e,i,n,s,o,a){var r={skin:d.skin,styleId:d.style},l=t.assign(function(e,t,i,n){return{position:n?"fixed":"absolute",pointerEvents:t?"none":"auto",width:"100%",height:i?"100vh":"100%",top:0,left:0}}(0,s,o,a),y(p,n,i),e.designDataChangeAspect.cssScaleTransition),c={key:d.ref,style:l,id:e.id+d.ref,parentId:e.parentId,ref:d.ref,bgEffectName:s,isFullScreenHeight:o,mediaDimensions:e.mediaDimensions,containerStyle:e.containerStyle,filterEffect:n.filterEffect,fittingType:n.fittingType,alignType:n.alignType,mediaTransforms:n.mediaTransforms,enableVideo:e.enableVideo,notifyMediaState:e.notifyMediaState,registerStateChange:e.registerStateChange,unregisterStateChange:e.unregisterStateChange,renderParts:e.renderParts,playbackFormat:e.playbackFormat,playbackConfig:e.playbackConfig,playbackUrl:e.playbackUrl,setMediaAPI:e.setMediaAPI,compProp:e.compProp,isPlayingAllowed:e.isPlayingAllowed,isEditorMode:e.isEditorMode,shouldRenderSrc:e.shouldRenderSrc,imageUrlPreMeasureParams:e.imageUrlPreMeasureParams,playerStyle:e.playerStyle,getIsVisible:e.getIsVisible,addVisibilityStateListener:e.addVisibilityStateListener,addWebGLContext:e.addWebGLContext,removeWebGLContext:e.removeWebGLContext,rootId:e.rootId,maskPosterFallback:e.maskPosterFallback,isFullScreenAndFixed:e.isFullScreenAndFixed};return[n.mediaRef,d.comp,r,c]}(this.props,this.state,e,M,I,C);w.push(this.createChildComponent.apply(this,o(x)))}if(function(e){var t=e.mediaRef,i=e.imageOverlay||e.colorOverlay,n=e.showOverlayForMediaType||"WixVideo",s=t&&("all"===n||n===t.type);return!(!i||!s)}(e)){var R=function(e,i,n,s){var o={skin:h.skin,styleId:h.style},a=!y(l,n,i).transform&&t(e.style).get("transform","").includes("scale"),r={key:h.ref,style:t.assign(y(l,n,i),a?g:null),colorOverlay:n.colorOverlay,colorOverlayOpacity:n.colorOverlayOpacity,imageOverlay:n.imageOverlay,isFullScreenAndFixed:s,blendMode:t.get(n.overlayBlending,"blendMode"),blendModeOpacity:t.get(n.overlayBlending,"opacity"),id:e.id+h.ref,ref:h.ref};return[null,h.comp,o,r]}(this.props,this.state,e,C);w.push(this.createChildComponent.apply(this,o(R)))}return i=this.props,n=t.get(i.compProp,"mediaBackgroundPadding",{}),s=n.top,r=void 0===s?0:s,v=n.bottom,P=void 0===v?0:v,S=i.enableBackgroundPadding,k=r||P||"editor"===i.componentViewMode,S&&k?(D.push(function(e,i,n){var s=t.get(e.compProp.mediaBackgroundPadding,"top",0),o=t.get(e.compProp.mediaBackgroundPadding,"bottom",0),r={key:u.ref,id:e.id+u.ref,ref:u.ref,style:{position:"absolute",width:"100%",height:"calc(100% - ".concat(s,"px - ").concat(o,"px)"),top:s,bottom:o}};return t.assign(r.style,b(e,i)),a.utils.createReactElement("div",r,n)}(this.props,I,w)),D):D.concat(w)},handleDesignDataBehaviors:function(e){var t=v(e),i=v(this.props);(this.setState({transforms:{}}),i.id!==t.id)&&this.props.designDataChangeAspect.notify(this.props.parentId,this.props.compDesign,e.compDesign)},getLayoutData:function(e,i){return{"data-page-id":this.props.rootId,"data-enable-video":(n=this.props.enableVideo,n?"true":""),"data-bg-effect-name":this.props.bgEffectName||"","data-media-type":t.get(e,["mediaRef","type"],""),"data-use-clip-path":this.props.clipParallaxWithWebkitClipPath()||"","data-needs-clipping":!i&&P(this.props,this.props.isFullScreenHeight)||"","data-render-type":this.props.renderType};var n},getTransforms:function(){var e=[];return t.get(this.props.compDesign,["cssStyle","cssBorderRadius"])&&e.push("translateZ(0)"),this.props.mask&&this.props.rotationInDegrees&&e.push("rotate(0.01deg)"),e.length?{transform:e.join(" ")}:{}},getSkinProperties:function(){var e,i,n,s,o,a=v(this.props),r=t.isEmpty(a)?null:this.getBalataLayers(a),p=b(this.props,this.props.isFullScreenHeight),l=t.assign({position:"absolute",top:0,width:"100%",height:"100%",overflow:"hidden",pointerEvents:this.props.bgEffectName?"none":"auto"},p,this.getTransforms(),this.props.style,this.props.mask),c={"":t.assign({style:l,children:r,key:(e=this.props,i=e.bgEffectName,n=e.enableVideo,s=e.isEditorMode,o=n?"video":"no_video",i?"balata_".concat(s?"no_playback":"playback","_").concat(o):"balata")},this.getLayoutData(a,this.props.isExperimentOpen("bv_smoothScroll")))};return this.props.onClick&&(c[""].onClick=this.props.onClick),c},getDefaultSkinName:function(){return"skins.viewer.balata.balataBaseSkin"}};return s.compRegistrar.register("wysiwyg.viewer.components.background.Balata",S),S}.apply(t,n))||(e.exports=s)}})}));
//# sourceMappingURL=components.min.js.map